<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->

<!-- start the processing -->
<html>
<head>
<link rel="stylesheet" type="text/css" href="../../docs/css/style.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

<title>Apache JMeter - User's Manual: Component Reference</title>
</head>

<body bgcolor="#ffffff" text="#000000" link="#525D76">
<table border="0" cellspacing="0">
<tr>
<td align="left">
<a href="http://www.apache.org"><img title="Apache Software Foundation" width="387" height="100" src="../../docs/images/asf-logo.gif" border="0"/></a>
</td>
<td align="right">
<a href="http://jmeter.apache.org/"><img width="182" height="88" src="../../docs/images/logo.jpg" alt="Apache JMeter" title="Apache JMeter" border="0"/></a>
</td>
</tr>
</table>
<table border="0" cellspacing="4">
<tr><td>
<hr noshade size="1"/>
</td></tr>
<tr>
<td align="left" valign="top">
<table>
<tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Index</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="functions.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Next</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="boss.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Prev</font></a></div>
</td>
</tr>
</table>
<br>
<table width="100%">
<tr><td valign="top">
<ul>
<li><a href="#introduction">18.0 Introduction</a></li>
<ul>
</ul>
<li><a href="#samplers">18.1 Samplers</a></li>
<ul>
<li>
<a href="#FTP_Request">FTP Request</a></li>
<li>
<a href="#HTTP_Request">HTTP Request</a></li>
<li>
<a href="#JDBC_Request">JDBC Request</a></li>
<li>
<a href="#Java_Request">Java Request</a></li>
<li>
<a href="#SOAP/XML-RPC_Request">SOAP/XML-RPC Request</a></li>
<li>
<a href="#WebService(SOAP)_Request_(DEPRECATED)">WebService(SOAP) Request (DEPRECATED)</a></li>
<li>
<a href="#LDAP_Request">LDAP Request</a></li>
<li>
<a href="#LDAP_Extended_Request">LDAP Extended Request</a></li>
<li>
<a href="#Access_Log_Sampler">Access Log Sampler</a></li>
<li>
<a href="#BeanShell_Sampler">BeanShell Sampler</a></li>
<li>
<a href="#BSF_Sampler">BSF Sampler</a></li>
<li>
<a href="#JSR223_Sampler">JSR223 Sampler</a></li>
<li>
<a href="#TCP_Sampler">TCP Sampler</a></li>
<li>
<a href="#JMS_Publisher">JMS Publisher</a></li>
<li>
<a href="#JMS_Subscriber">JMS Subscriber</a></li>
<li>
<a href="#JMS_Point-to-Point">JMS Point-to-Point</a></li>
<li>
<a href="#JUnit_Request">JUnit Request</a></li>
<li>
<a href="#Mail_Reader_Sampler">Mail Reader Sampler</a></li>
<li>
<a href="#Test_Action">Test Action</a></li>
<li>
<a href="#SMTP_Sampler">SMTP Sampler</a></li>
<li>
<a href="#OS_Process_Sampler">OS Process Sampler</a></li>
<li>
<a href="#MongoDB_Script">MongoDB Script</a></li>
</ul>
<li><a href="#logic_controllers">18.2 Logic Controllers</a></li>
<ul>
<li>
<a href="#Simple_Controller">Simple Controller</a></li>
<li>
<a href="#Loop_Controller">Loop Controller</a></li>
<li>
<a href="#Once_Only_Controller">Once Only Controller</a></li>
<li>
<a href="#Interleave_Controller">Interleave Controller</a></li>
<li>
<a href="#Random_Controller">Random Controller</a></li>
<li>
<a href="#Random_Order_Controller">Random Order Controller</a></li>
<li>
<a href="#Throughput_Controller">Throughput Controller</a></li>
<li>
<a href="#Runtime_Controller">Runtime Controller</a></li>
<li>
<a href="#If_Controller">If Controller</a></li>
<li>
<a href="#While_Controller">While Controller</a></li>
<li>
<a href="#Switch_Controller">Switch Controller</a></li>
<li>
<a href="#ForEach_Controller">ForEach Controller</a></li>
<li>
<a href="#Module_Controller">Module Controller</a></li>
<li>
<a href="#Include_Controller">Include Controller</a></li>
<li>
<a href="#Transaction_Controller">Transaction Controller</a></li>
<li>
<a href="#Recording_Controller">Recording Controller</a></li>
<li>
<a href="#Critical_Section_Controller">Critical Section Controller</a></li>
</ul>
<li><a href="#listeners">18.3 Listeners</a></li>
<ul>
<li>
<a href="#Sample_Result_Save_Configuration">Sample Result Save Configuration</a></li>
<li>
<a href="#Graph_Results">Graph Results</a></li>
<li>
<a href="#Spline_Visualizer">Spline Visualizer</a></li>
<li>
<a href="#Assertion_Results">Assertion Results</a></li>
<li>
<a href="#View_Results_Tree">View Results Tree</a></li>
<li>
<a href="#Aggregate_Report">Aggregate Report</a></li>
<li>
<a href="#View_Results_in_Table">View Results in Table</a></li>
<li>
<a href="#Simple_Data_Writer">Simple Data Writer</a></li>
<li>
<a href="#Monitor_Results">Monitor Results</a></li>
<li>
<a href="#Distribution_Graph_(alpha)">Distribution Graph (alpha)</a></li>
<li>
<a href="#Aggregate_Graph">Aggregate Graph</a></li>
<li>
<a href="#Response_Time_Graph">Response Time Graph</a></li>
<li>
<a href="#Mailer_Visualizer">Mailer Visualizer</a></li>
<li>
<a href="#BeanShell_Listener">BeanShell Listener</a></li>
<li>
<a href="#Summary_Report">Summary Report</a></li>
<li>
<a href="#Save_Responses_to_a_file">Save Responses to a file</a></li>
<li>
<a href="#BSF_Listener">BSF Listener</a></li>
<li>
<a href="#JSR223_Listener">JSR223 Listener</a></li>
<li>
<a href="#Generate_Summary_Results">Generate Summary Results</a></li>
<li>
<a href="#Comparison_Assertion_Visualizer">Comparison Assertion Visualizer</a></li>
<li>
<a href="#Backend_Listener">Backend Listener</a></li>
</ul>
</ul></td><td valign="top"><ul>
<li><a href="#config_elements">18.4 Configuration Elements</a></li>
<ul>
<li>
<a href="#CSV_Data_Set_Config">CSV Data Set Config</a></li>
<li>
<a href="#FTP_Request_Defaults">FTP Request Defaults</a></li>
<li>
<a href="#DNS_Cache_Manager">DNS Cache Manager</a></li>
<li>
<a href="#HTTP_Authorization_Manager">HTTP Authorization Manager</a></li>
<li>
<a href="#HTTP_Cache_Manager">HTTP Cache Manager</a></li>
<li>
<a href="#HTTP_Cookie_Manager">HTTP Cookie Manager</a></li>
<li>
<a href="#HTTP_Request_Defaults">HTTP Request Defaults</a></li>
<li>
<a href="#HTTP_Header_Manager">HTTP Header Manager</a></li>
<li>
<a href="#Java_Request_Defaults">Java Request Defaults</a></li>
<li>
<a href="#JDBC_Connection_Configuration">JDBC Connection Configuration</a></li>
<li>
<a href="#Keystore_Configuration">Keystore Configuration</a></li>
<li>
<a href="#Login_Config_Element">Login Config Element</a></li>
<li>
<a href="#LDAP_Request_Defaults">LDAP Request Defaults</a></li>
<li>
<a href="#LDAP_Extended_Request_Defaults">LDAP Extended Request Defaults</a></li>
<li>
<a href="#TCP_Sampler_Config">TCP Sampler Config</a></li>
<li>
<a href="#User_Defined_Variables">User Defined Variables</a></li>
<li>
<a href="#Random_Variable">Random Variable</a></li>
<li>
<a href="#Counter">Counter</a></li>
<li>
<a href="#Simple_Config_Element">Simple Config Element</a></li>
<li>
<a href="#MongoDB_Source_Config">MongoDB Source Config</a></li>
</ul>
<li><a href="#assertions">18.5 Assertions</a></li>
<ul>
<li>
<a href="#Response_Assertion">Response Assertion</a></li>
<li>
<a href="#Duration_Assertion">Duration Assertion</a></li>
<li>
<a href="#Size_Assertion">Size Assertion</a></li>
<li>
<a href="#XML_Assertion">XML Assertion</a></li>
<li>
<a href="#BeanShell_Assertion">BeanShell Assertion</a></li>
<li>
<a href="#MD5Hex_Assertion">MD5Hex Assertion</a></li>
<li>
<a href="#HTML_Assertion">HTML Assertion</a></li>
<li>
<a href="#XPath_Assertion">XPath Assertion</a></li>
<li>
<a href="#XML_Schema_Assertion">XML Schema Assertion</a></li>
<li>
<a href="#BSF_Assertion">BSF Assertion</a></li>
<li>
<a href="#JSR223_Assertion">JSR223 Assertion</a></li>
<li>
<a href="#Compare_Assertion">Compare Assertion</a></li>
<li>
<a href="#SMIME_Assertion">SMIME Assertion</a></li>
</ul>
<li><a href="#timers">18.6 Timers</a></li>
<ul>
<li>
<a href="#Constant_Timer">Constant Timer</a></li>
<li>
<a href="#Gaussian_Random_Timer">Gaussian Random Timer</a></li>
<li>
<a href="#Uniform_Random_Timer">Uniform Random Timer</a></li>
<li>
<a href="#Constant_Throughput_Timer">Constant Throughput Timer</a></li>
<li>
<a href="#Synchronizing_Timer">Synchronizing Timer</a></li>
<li>
<a href="#BeanShell_Timer">BeanShell Timer</a></li>
<li>
<a href="#BSF_Timer">BSF Timer</a></li>
<li>
<a href="#JSR223_Timer">JSR223 Timer</a></li>
<li>
<a href="#Poisson_Random_Timer">Poisson Random Timer</a></li>
</ul>
<li><a href="#preprocessors">18.7 Pre Processors</a></li>
<ul>
<li>
<a href="#HTML_Link_Parser">HTML Link Parser</a></li>
<li>
<a href="#HTTP_URL_Re-writing_Modifier">HTTP URL Re-writing Modifier</a></li>
<li>
<a href="#HTML_Parameter_Mask_(DEPRECATED)">HTML Parameter Mask (DEPRECATED)</a></li>
<li>
<a href="#User_Parameters">User Parameters</a></li>
<li>
<a href="#BeanShell_PreProcessor">BeanShell PreProcessor</a></li>
<li>
<a href="#BSF_PreProcessor">BSF PreProcessor</a></li>
<li>
<a href="#JSR223_PreProcessor">JSR223 PreProcessor</a></li>
<li>
<a href="#JDBC_PreProcessor">JDBC PreProcessor</a></li>
<li>
<a href="#RegEx_User_Parameters">RegEx User Parameters</a></li>
</ul>
<li><a href="#postprocessors">18.8 Post-Processors</a></li>
<ul>
<li>
<a href="#Regular_Expression_Extractor">Regular Expression Extractor</a></li>
<li>
<a href="#CSS/JQuery_Extractor">CSS/JQuery Extractor</a></li>
<li>
<a href="#XPath_Extractor">XPath Extractor</a></li>
<li>
<a href="#Result_Status_Action_Handler">Result Status Action Handler</a></li>
<li>
<a href="#BeanShell_PostProcessor">BeanShell PostProcessor</a></li>
<li>
<a href="#BSF_PostProcessor">BSF PostProcessor</a></li>
<li>
<a href="#JSR223_PostProcessor">JSR223 PostProcessor</a></li>
<li>
<a href="#JDBC_PostProcessor">JDBC PostProcessor</a></li>
</ul>
<li><a href="#Miscellaneous_Features">18.9 Miscellaneous Features</a></li>
<ul>
<li>
<a href="#Test_Plan">Test Plan</a></li>
<li>
<a href="#Thread_Group">Thread Group</a></li>
<li>
<a href="#WorkBench">WorkBench</a></li>
<li>
<a href="#SSL_Manager">SSL Manager</a></li>
<li>
<a href="#HTTP(S)_Test_Script_Recorder">HTTP(S) Test Script Recorder (was: HTTP Proxy Server)</a></li>
<li>
<a href="#HTTP_Mirror_Server">HTTP Mirror Server</a></li>
<li>
<a href="#Property_Display">Property Display</a></li>
<li>
<a href="#Debug_Sampler">Debug Sampler</a></li>
<li>
<a href="#Debug_PostProcessor">Debug PostProcessor</a></li>
<li>
<a href="#Test_Fragment">Test Fragment</a></li>
<li>
<a href="#setUp_Thread_Group">setUp Thread Group</a></li>
<li>
<a href="#tearDown_Thread_Group">tearDown Thread Group</a></li>
</ul>
</ul>
</td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="introduction"><strong>18.0 Introduction</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>


<p>



</p>

 
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
 Several test elements use JMeter properties to control their behaviour.
 These properties are normally resolved when the class is loaded.
 This generally occurs before the test plan starts, so it's not possible to change the settings by using the __setProperty() function.

</td></tr>
</table>
</p>


<p>


</p>


</description>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="samplers"><strong>18.1 Samplers</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<p>

    Samplers perform the actual work of JMeter.
    Each sampler (except Test Action) generates one or more sample results.
    The sample results have various attributes (success/fail, elapsed time, data size etc) and can be viewed in the various listeners.
    
</p>


</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="FTP_Request">18.1.1 FTP Request</a>
</h3>
</font>
</td></tr>
<tr><td>

This controller lets you send an FTP "retrieve file" or "upload file" request to an FTP server.
If you are going to send multiple requests to the same FTP server, consider
using a 
<a href="../usermanual/component_reference.html#FTP_Request_Defaults">FTP Request Defaults</a>
 Configuration
Element so you do not have to enter the same information for each FTP Request Generative
Controller. When downloading a file, it can be stored on disk (Local File) or in the Response Data, or both.

<p>

Latency is set to the time it takes to login (versions of JMeter after 2.3.1).

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='861' height='278' src="../../docs/images/screenshots/ftptest/ftp-request.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server Name or IP</td>
<td>Domain name or IP address of the FTP server.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port</td>
<td>Port to use. If this is  >0, then this specific port is used, otherwise JMeter uses the default FTP port.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Remote File:</td>
<td>File to retrieve or name of destination file to upload.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Local File:</td>
<td>File to upload, or destination for downloads (defaults to remote file name).
</td>
<td>
Yes, if uploading (*)
</td>
</tr>
<tr>
<td>Local File Contents:</td>
<td>Provides the contents for the upload, overrides the Local File property.
</td>
<td>
Yes, if uploading (*)
</td>
</tr>
<tr>
<td>get(RETR) / put(STOR)</td>
<td>Whether to retrieve or upload a file.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use Binary mode ?</td>
<td>Check this to use Binary mode (default Ascii)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Save File in Response ?</td>
<td>
        Whether to store contents of retrieved file in response data.
        If the mode is Ascii, then the contents will be visible in the Tree View Listener.
        
</td>
<td>
Yes, if downloading
</td>
</tr>
<tr>
<td>Username</td>
<td>FTP account username.
</td>
<td>
Usually
</td>
</tr>
<tr>
<td>Password</td>
<td>FTP account password. N.B. This will be visible in the test plan.
</td>
<td>
Usually
</td>
</tr>
</table>
</p>
<p><b>See Also:</b>
<ul>
<li><a href="test_plan.html#assertions">Assertions</a></li>
<li><a href="../usermanual/component_reference.html#FTP_Request_Defaults">FTP Request Defaults</a>
</li>
<li><a href="build-ftp-test-plan.html">Building an FTP Test Plan</a></li>
</ul>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_Request">18.1.2 HTTP Request</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>
This sampler lets you send an HTTP/HTTPS request to a web server.  It
        also lets you control whether or not JMeter parses HTML files for images and
        other embedded resources and sends HTTP requests to retrieve them.
        The following types of embedded resource are retrieved:
</p>

        
<ul>

        
<li>
images
</li>

        
<li>
applets
</li>

        
<li>
stylesheets
</li>

        
<li>
external scripts
</li>

        
<li>
frames, iframes
</li>

        
<li>
background images (body, table, TD, TR)
</li>

        
<li>
background sound
</li>

        
</ul>

        
<p>

        The default parser is htmlparser.
        This can be changed by using the property "htmlparser.classname" - see jmeter.properties for details.
        
</p>

        
<p>
If you are going to send multiple requests to the same web server, consider
        using an 
<a href="../usermanual/component_reference.html#HTTP_Request_Defaults">HTTP Request Defaults</a>

        Configuration Element so you do not have to enter the same information for each
        HTTP Request.
</p>


        
<p>
Or, instead of manually adding HTTP Requests, you may want to use
        JMeter's 
<a href="../usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder">HTTP(S) Test Script Recorder</a>
 to create
        them.  This can save you time if you have a lot of HTTP requests or requests with many
        parameters.
</p>


        
<p>
<b>
There are two different test elements used to define the samplers:
</b>

        
<ul>

        
<li>
AJP/1.3 Sampler - uses the Tomcat mod_jk protocol (allows testing of Tomcat in AJP mode without needing Apache httpd)
        The AJP Sampler does not support multiple file upload; only the first file will be used.
        
</li>

        
<li>
HTTP Request - this has an implementation drop-down box, which selects the HTTP protocol implementation to be used:
</li>

        
<ul>

        
<li>
Java - uses the HTTP implementation provided by the JVM. 
        This has some limitations in comparison with the HttpClient implementations - see below.
</li>

        
<li>
HTTPClient3.1 - uses Apache Commons HttpClient 3.1. 
        This is no longer being developed, and support for this may be dropped in a future JMeter release.
</li>

        
<li>
HTTPClient4 - uses Apache HttpComponents HttpClient 4.x.
</li>

        
<li>
Blank Value - does not set implementation on HTTP Samplers, so relies on HTTP Request Defaults if present or on jmeter.httpsampler property defined in jmeter.properties
</li>

        
</ul>

        
</ul>

         
</p>

         
<p>
The Java HTTP implementation has some limitations:
</p>

         
<ul>

         
<li>
There is no control over how connections are re-used. 
         When a connection is released by JMeter, it may or may not be re-used by the same thread.
</li>

         
<li>
The API is best suited to single-threaded usage - various settings 
         are defined via system properties, and therefore apply to all connections.
</li>

         
<li>
There is a bug in the handling of HTTPS via a Proxy (the CONNECT is not handled correctly).
         See Java bugs 6226610 and 6208335.
         
</li>

         
<li>
It does not support virtual hosts.
</li>

         
<li>
It does not support the following methods: COPY, LOCK, MKCOL, MOVE, PATCH, PROPFIND, PROPPATCH, UNLOCK, REPORT, MKCALENDAR.
</li>

         
<li>
It does not support client based certificate testing with Keystore Config.
</li>

         
</ul>

         
<p>
Note: the FILE protocol is intended for testing purposes only.
         It is handled by the same code regardless of which HTTP Sampler is used.
</p>

        
<p>
If the request requires server or proxy login authorization (i.e. where a browser would create a pop-up dialog box),
         you will also have to add an 
<a href="../usermanual/component_reference.html#HTTP_Authorization_Manager">HTTP Authorization Manager</a>
 Configuration Element.
         For normal logins (i.e. where the user enters login information in a form), you will need to work out what the form submit button does,
         and create an HTTP request with the appropriate method (usually POST) 
         and the appropriate parameters from the form definition. 
         If the page uses HTTP, you can use the JMeter Proxy to capture the login sequence.
        
</p>

        
<p>

        In versions of JMeter up to 2.2, only a single SSL context was used for all threads and samplers.
        This did not generate the proper load for multiple users.
        A separate SSL context is now used for each thread.
        To revert to the original behaviour, set the JMeter property:

<pre>

https.sessioncontext.shared=true

</pre>

        By default, the SSL context is retained for the duration of the test.
        In versions of JMeter from 2.5.1, the SSL session can be optionally reset for each test iteration.
        To enable this, set the JMeter property:

<pre>

https.use.cached.ssl.context=false

</pre>

        Note: this does not apply to the Java HTTP implementation.
        
</p>

        
<p>

        JMeter defaults to the SSL protocol level TLS.
        If the server needs a different level, e.g. SSLv3, change the JMeter property, for example:

<pre>

https.default.protocol=SSLv3

</pre>
 
        
</p>

        
<p>

        JMeter also allows one to enable additional protocols, by changing the property 
<tt>
https.socket.protocols
</tt>
.
        
</p>

        
<p>
If the request uses cookies, then you will also need an
        
<a href="../usermanual/component_reference.html#HTTP_Cookie_Manager">HTTP Cookie Manager</a>
.  You can
        add either of these elements to the Thread Group or the HTTP Request.  If you have
        more than one HTTP Request that needs authorizations or cookies, then add the
        elements to the Thread Group.  That way, all HTTP Request controllers will share the
        same Authorization Manager and Cookie Manager elements.
</p>


        
<p>
If the request uses a technique called "URL Rewriting" to maintain sessions,
        then see section
        
<a href="build-adv-web-test-plan.html#session_url_rewriting">
6.1 Handling User Sessions With URL Rewriting
</a>

        for additional configuration steps.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='900' height='686' src="../../docs/images/screenshots/http-request.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server</td>
<td>
            Domain name or IP address of the web server. e.g. www.example.com. [Do not include the http:// prefix.]
            Note: in JMeter 2.5 (and later) if the "Host" header is defined in a Header Manager, then this will be used
            as the virtual host name.
        
</td>
<td>
Yes, unless provided by HTTP Request Defaults
</td>
</tr>
<tr>
<td>Port</td>
<td>Port the web server is listening to. Default: 80
</td>
<td>
No
</td>
</tr>
<tr>
<td>Connect Timeout</td>
<td>Connection Timeout. Number of milliseconds to wait for a connection to open.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Response Timeout</td>
<td>Response Timeout. Number of milliseconds to wait for a response. 
        Note that this applies to each wait for a response. If the server response is sent in several chunks, the overall
        elapsed time may be longer than the timeout.
        A 
<a href="../usermanual/component_reference.html#Duration_Assertion">Duration Assertion</a>
 can be used to detect responses that take too long to complete.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server (proxy)</td>
<td>Hostname or IP address of a proxy server to perform request. [Do not include the http:// prefix.]
</td>
<td>
No
</td>
</tr>
<tr>
<td>Port</td>
<td>Port the proxy server is listening to.
</td>
<td>
No, unless proxy hostname is specified
</td>
</tr>
<tr>
<td>Username</td>
<td>(Optional) username for proxy server.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>(Optional) password for proxy server. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Implementation</td>
<td>Java, HttpClient3.1, HttpClient4. 
        If not specified (and not defined by HTTP Request Defaults), the default depends on the value of the JMeter property
        
<code>
jmeter.httpsampler
</code>
, failing that, the HttpClient4 implementation is used.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Protocol</td>
<td>HTTP, HTTPS or FILE. Default: HTTP
</td>
<td>
No
</td>
</tr>
<tr>
<td>Method</td>
<td>GET, POST, HEAD, TRACE, OPTIONS, PUT, DELETE, PATCH (not supported for
        JAVA implementation). With HttpClient4, the following methods related to WebDav are also allowed: COPY, LOCK, MKCOL, MOVE,
        PROPFIND, PROPPATCH, UNLOCK, REPORT, MKCALENDAR.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Content Encoding</td>
<td>
        Content encoding to be used (for POST, PUT, PATCH and FILE). 
        This the the character encoding to be used, and is not related to the Content-Encoding HTTP header.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Redirect Automatically</td>
<td>
        Sets the underlying http protocol handler to automatically follow redirects,
        so they are not seen by JMeter, and thus will not appear as samples.
        Should only be used for GET and HEAD requests.
        The HttpClient sampler will reject attempts to use it for POST or PUT.
        
<b>
Warning: see below for information on cookie and header handling.
</b>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Follow Redirects</td>
<td>
        This only has any effect if "Redirect Automatically" is not enabled.
        If set, the JMeter sampler will check if the response is a redirect and follow it if so.
        The initial redirect and further responses will appear as additional samples.
        The URL and data fields of the parent sample will be taken from the final (non-redirected)
        sample, but the parent byte count and elapsed time include all samples.
        The latency is taken from the initial response (versions of JMeter after 2.3.4 - previously it was zero).
        Note that the HttpClient sampler may log the following message:
<br>


        "Redirect requested but followRedirects is disabled"
<br>


        This can be ignored.
        
<br>


        In versions after 2.3.4, JMeter will collapse paths of the form '/../segment' in
        both absolute and relative redirect URLs. For example http://host/one/../two => http://host/two.
        If necessary, this behaviour can be suppressed by setting the JMeter property
        
<code>
httpsampler.redirect.removeslashdotdot=false
</code>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use KeepAlive</td>
<td>JMeter sets the Connection: keep-alive header. This does not work properly with the default HTTP implementation, as connection re-use is not under user-control. 
                  It does work with the Apache HttpComponents HttpClient implementations.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use multipart/form-data for HTTP POST</td>
<td>
        Use a multipart/form-data or application/x-www-form-urlencoded post request
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Browser-compatible headers</td>
<td>
        When using multipart/form-data, this suppresses the Content-Type and 
        Content-Transfer-Encoding headers; only the Content-Disposition header is sent.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Path</td>
<td>The path to resource (for example, /servlets/myServlet). If the
resource requires query string parameters, add them below in the
"Send Parameters With the Request" section.

<b>

As a special case, if the path starts with "http://" or "https://" then this is used as the full URL.

</b>

In this case, the server, port and protocol fields are ignored; parameters are also ignored for GET and DELETE methods.
Also please note that the path is not encoded - apart from replacing spaces with %20 -
so unsafe characters may need to be encoded to avoid errors such as URISyntaxException.

</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Send Parameters With the Request</td>
<td>The query string will
        be generated from the list of parameters you provide.  Each parameter has a 
<i>
name
</i>
 and
        
<i>
value
</i>
, the options to encode the parameter, and an option to include or exclude an equals sign (some applications
        don't expect an equals when the value is the empty string).  The query string will be generated in the correct fashion, depending on
        the choice of "Method" you made (ie if you chose GET or DELETE, the query string will be
        appended to the URL, if POST or PUT, then it will be sent separately).  Also, if you are
        sending a file using a multipart form, the query string will be created using the
        multipart form specifications.
        
<b>
See below for some further information on parameter handling.
</b>

        
<p>

        Additionally, you can specify whether each parameter should be URL encoded.  If you are not sure what this
        means, it is probably best to select it.  If your values contain characters such as the following then encoding is usually required.:
        
<ul>

            
<li>
ASCII Control Chars
</li>

            
<li>
Non-ASCII characters
</li>

            
<li>
Reserved characters:URLs use some characters for special use in defining their syntax. When these characters are not used in their special role inside a URL, they need to be encoded, example : '$', '&', '+', ',' , '/', ':', ';', '=', '?', '@'
</li>

            
<li>
Unsafe characters: Some characters present the possibility of being misunderstood within URLs for various reasons. These characters should also always be encoded, example : ' ', '<', '>', '#', '%', ...
</li>

        
</ul>

        
</p>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>File Path:</td>
<td>Name of the file to send.  If left blank, JMeter
        does not send a file, if filled in, JMeter automatically sends the request as
        a multipart form request.
        
<p>

        If it is a POST or PUT or PATCH request and there is a single file whose 'Parameter name' attribute (below) is omitted, 
        then the file is sent as the entire body
        of the request, i.e. no wrappers are added. This allows arbitrary bodies to be sent. This functionality is present for POST requests
        after version 2.2, and also for PUT requests after version 2.3.
        
<b>
See below for some further information on parameter handling.
</b>

        
</p>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Parameter name:</td>
<td>Value of the "name" web request parameter.
</td>
<td>
No
</td>
</tr>
<tr>
<td>MIME Type</td>
<td>MIME type (for example, text/plain).
        If it is a POST or PUT or PATCH request and either the 'name' attribute (below) are omitted or the request body is
        constructed from parameter values only, then the value of this field is used as the value of the
        content-type request header.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Retrieve All Embedded Resources from HTML Files</td>
<td>Tell JMeter to parse the HTML file
and send HTTP/HTTPS requests for all images, Java applets, JavaScript files, CSSs, etc. referenced in the file.
        See below for more details.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use as monitor</td>
<td>For use with the 
<a href="../usermanual/component_reference.html#Monitor_Results">Monitor Results</a>
 listener.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Save response as MD5 hash?</td>
<td>
       If this is selected, then the response is not stored in the sample result.
       Instead, the 32 character MD5 hash of the data is calculated and stored instead.
       This is intended for testing large amounts of data.
       
</td>
<td>
No
</td>
</tr>
<tr>
<td>Embedded URLs must match:</td>
<td>
        If present, this must be a regular expression that is used to match against any embedded URLs found.
        So if you only want to download embedded resources from http://example.com/, use the expression:
        http://example\.com/.*
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use concurrent pool</td>
<td>Use a pool of concurrent connections to get embedded resources.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Size</td>
<td>Pool size for concurrent connections used to get embedded resources.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Source address type</td>
<td>
        
<i>
[Only for HTTP Request with HTTPClient implementation]
</i>
 
<br>


        To distinguish the source address value, select the type of these:
        
<ul>

        
<li>
Select 
<i>
IP/Hostname
</i>
 to use a specific IP address or a (local) hostname
</li>

        
<li>
Select 
<i>
Device
</i>
 to pick the first available address for that interface which
        this may be either IPv4 or IPv6
</li>

        
<li>
Select 
<i>
Device IPv4
</i>
To select the IPv4 address of the device name (like eth0, lo, em0, etc.)
</li>

        
<li>
Select 
<i>
Device IPv6
</i>
To select the IPv6 address of the device name (like eth0, lo, em0, etc.)
</li>

        
</ul>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Source address field</td>
<td>
        
<i>
[Only for HTTP Request with HTTPClient implementation]
</i>
 
<br>


        This property is used to enable IP Spoofing.
        It override the default local IP address for this sample.
        The JMeter host must have multiple IP addresses (i.e. IP aliases, network interfaces, devices).
        The value can be a host name, IP address, or a network interface device such as "eth0" or "lo" or "wlan0".
<br>


        If the property 
<b>
httpclient.localaddress
</b>
 is defined, that is used for all HttpClient requests.
        
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>


<b>
N.B.
</b>
 when using Automatic Redirection, cookies are only sent for the initial URL.
This can cause unexpected behaviour for web-sites that redirect to a local server.
E.g. if www.example.com redirects to www.example.co.uk.
In this case the server will probably return cookies for both URLs, but JMeter will only see the cookies for the last
host, i.e. www.example.co.uk. If the next request in the test plan uses www.example.com, 
rather than www.example.co.uk, it will not get the correct cookies.
Likewise, Headers are sent for the initial request, and won't be sent for the redirect.
This is generally only a problem for manually created test plans,
as a test plan created using a recorder would continue from the redirected URL.

</p>
<p>


<b>
Parameter Handling:
</b>
<br>


For the POST and PUT method, if there is no file to send, and the name(s) of the parameter(s) are omitted,
then the body is created by concatenating all the value(s) of the parameters.
Note that the values are concatenated without adding any end-of-line characters.
These can be added by using the __char() function in the value fields.
This allows arbitrary bodies to be sent.
The values are encoded if the encoding flag is set (versions of JMeter after 2.3).
See also the MIME Type above how you can control the content-type request header that is sent.

<br>


For other methods, if the name of the parameter is missing,
then the parameter is ignored. This allows the use of optional parameters defined by variables.
(versions of JMeter after 2.3)

</p>
<br>

<p>
Since JMeter 2.6, you have the option to switch to Post Body when a request has only unnamed parameters
(or no parameters at all).
This option is useful in the following cases (amongst others):

<ul>


<li>
GWT RPC HTTP Request
</li>


<li>
JSON REST HTTP Request
</li>


<li>
XML REST HTTP Request
</li>


<li>
SOAP HTTP Request
</li>


</ul>

Note that once you leave the Tree node, you cannot switch back to the parameter tab unless you clear the Post Body tab of data.

</p>
<p>

In Post Body mode, each line will be sent with CRLF appended, apart from the last line.
To send a CRLF after the last line of data, just ensure that there is an empty line following it.
(This cannot be seen, except by noting whether the cursor can be placed on the subsequent line.)

</p>
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='902' height='421' src="../../docs/images/screenshots/http-request-raw-single-parameter.png"/><br>
<font size="-1">Figure 1 - HTTP Request with one unnamed parameter
</font></td></tr></table></p>
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='908' height='212' src="../../docs/images/screenshots/http-request-confirm-raw-body.png"/><br>
<font size="-1">Figure 2 - Confirm dialog to switch
</font></td></tr></table></p>
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='905' height='423' src="../../docs/images/screenshots/http-request-raw-body.png"/><br>
<font size="-1">Figure 3 - HTTP Request using Body Data
</font></td></tr></table></p>
<p>


<b>
Method Handling:
</b>
<br>


The POST, PUT and PATCH request methods work similarly, except that the PUT and PATCH methods do not support multipart requests
or file upload.
The PUT and PATCH method body must be provided as one of the following:

<ul>


<li>
define the body as a file with empty Parameter name field; in which case the MIME Type is used as the Content-Type
</li>


<li>
define the body as parameter value(s) with no name
</li>


<li>
use the Post Body tab
</li>


</ul>

If you define any parameters with a name in either the sampler or Http
defaults then nothing is sent.
PUT and PATCH require a Content-Type. 
If not using a file, attach a Header Manager to the sampler and define the Content-Type there.
The GET and DELETE request methods work similarly to each other.

</p>
<p>
Upto and including JMeter 2.1.1, only responses with the content-type "text/html" were scanned for
embedded resources. Other content-types were assumed to be something other than HTML.
JMeter 2.1.2 introduces the a new property 
<b>
HTTPResponse.parsers
</b>
, which is a list of parser ids,
 e.g. 
<b>
htmlParser
</b>
 and 
<b>
wmlParser
</b>
. For each id found, JMeter checks two further properties:
</p>
<ul>

 
<li>
id.types - a list of content types
</li>

 
<li>
id.className - the parser to be used to extract the embedded resources
</li>

 
</ul>
<p>
See jmeter.properties file for the details of the settings. 
 If the HTTPResponse.parser property is not set, JMeter reverts to the previous behaviour,
 i.e. only text/html responses will be scanned
</p>
<b>
Emulating slow connections:
</b>
<br>

<pre>

# Define characters per second > 0 to emulate slow connections
#httpclient.socket.http.cps=0
#httpclient.socket.https.cps=0

</pre>
<p>
<b>
Response size calculation
</b>
<br>


Optional properties to allow change the method to get response size:
<br>



<ul>
<li>
Gets the real network size in bytes for the body response

<pre>
sampleresult.getbytes.body_real_size=true
</pre>
</li>


<li>
Add HTTP headers to full response size

<pre>
sampleresult.getbytes.headers_size=true
</pre>
</li>
</ul>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
The Java and HttpClient3 inplementations do not include transport overhead such as
chunk headers in the response body size.
<br>


The HttpClient4 implementation does include the overhead in the response body size,
so the value may be greater than the number of bytes in the response content.

</td></tr>
</table>
</p>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Versions of JMeter before 2.5 returns only data response size (uncompressed if request uses gzip/defate mode).

<br>

To return to settings before version 2.5, set the two properties to false.
</td></tr>
</table>
</p>


</p>
<p>


<b>
Retry handling
</b>
<br>


In version 2.5 of JMeter, the HttpClient4 and Commons HttpClient 3.1 samplers used the default retry count, which was 3.
In later versions, the retry count has been set to 1, which is what the Java implementation appears to do.
The retry count can be overridden by setting the relevant JMeter property, for example:

<pre>

httpclient4.retrycount=3
httpclient3.retrycount=3

</pre>


</p>
<p>


<b>
Note: Certificates does not conform to algorithm constraints
</b>
<br>


You may encounter the following error: 
<i>
java.security.cert.CertificateException: Certificates does not conform to algorithm constraints
</i>

 if you run a HTTPS request on a web site with a SSL certificate (itself or one of SSL certificates in its chain of trust) with a signature
 algorithm using MD2 (like md2WithRSAEncryption) or with a SSL certificate with a size lower than 1024 bits.

</p>
<p>

This error is related to increased security in Java 7 version u16 (MD2) and version u40 (Certificate size lower than 1024 bits), and Java 8 too.

</p>
<p>

To allow you to perform your HTTPS request, you can downgrade the security of your Java installation by editing 
the Java 
<b>
jdk.certpath.disabledAlgorithms
</b>
 property. Remove the MD2 value or the constraint on size, depending on your case.

</p>
<p>

This property is in this file:

<pre>
JAVA_HOME/jre/lib/security/java.security
</pre>

See  
<a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=56357">Bug 56357</a>
 for details.

</p>
<p><b>See Also:</b>
<ul>
<li><a href="test_plan.html#assertions">Assertion</a></li>
<li><a href="build-web-test-plan.html">Building a Web Test Plan</a></li>
<li><a href="build-adv-web-test-plan.html">Building an Advanced Web Test Plan</a></li>
<li><a href="../usermanual/component_reference.html#HTTP_Authorization_Manager">HTTP Authorization Manager</a>
</li>
<li><a href="../usermanual/component_reference.html#HTTP_Cookie_Manager">HTTP Cookie Manager</a>
</li>
<li><a href="../usermanual/component_reference.html#HTTP_Header_Manager">HTTP Header Manager</a>
</li>
<li><a href="../usermanual/component_reference.html#HTML_Link_Parser">HTML Link Parser</a>
</li>
<li><a href="../usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder">HTTP(S) Test Script Recorder</a>
</li>
<li><a href="../usermanual/component_reference.html#HTTP_Request_Defaults">HTTP Request Defaults</a>
</li>
<li><a href="build-adv-web-test-plan.html#session_url_rewriting">HTTP Requests and Session ID's: URL Rewriting</a></li>
</ul>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JDBC_Request">18.1.3 JDBC Request</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This sampler lets you send an JDBC Request (an SQL query) to a database.
</p>


<p>
Before using this you need to set up a

<a href="../usermanual/component_reference.html#JDBC_Connection_Configuration">JDBC Connection Configuration</a>
 Configuration element

</p>


<p>

If the Variable Names list is provided, then for each row returned by a Select statement, the variables are set up
with the value of the corresponding column (if a variable name is provided), and the count of rows is also set up.
For example, if the Select statement returns 2 rows of 3 columns, and the variable list is 
<code>
A,,C
</code>
,
then the following variables will be set up:

<pre>

A_#=2 (number of rows)
A_1=column 1, row 1
A_2=column 1, row 2
C_#=2 (number of rows)
C_1=column 3, row 1
C_2=column 3, row 2

</pre>

If the Select statement returns zero rows, then the A_# and C_# variables would be set to 0, and no other variables would be set.

</p>


<p>

Old variables are cleared if necessary - e.g. if the first select retrieves 6 rows and a second select returns only 3 rows,
the additional variables for rows 4, 5 and 6 will be removed.

</p>


<p>


<b>
Note:
</b>
 The latency time is set from the time it took to acquire a connection.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='466' height='334' src="../../docs/images/screenshots/jdbctest/jdbc-request.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Variable Name</td>
<td>
        Name of the JMeter variable that the connection pool is bound to.
        This must agree with the 'Variable Name' field of a JDBC Connection Configuration.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Query Type</td>
<td>Set this according to the statement type:
            
<ul>

            
<li>
Select Statement
</li>

            
<li>
Update Statement - use this for Inserts and Deletes as well
</li>

            
<li>
Callable Statement
</li>

            
<li>
Prepared Select Statement
</li>

            
<li>
Prepared Update Statement - use this for Inserts and Deletes as well
</li>

            
<li>
Commit
</li>

            
<li>
Rollback
</li>

            
<li>
Autocommit(false)
</li>

            
<li>
Autocommit(true)
</li>

            
<li>
Edit - this should be a variable reference that evaluates to one of the above
</li>

            
</ul>

            
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
            When "Prepared Select Statement", "Prepared Update Statement" or "Callable Statement" types are selected, a Statement Cache per connection is used by JDBC Request. 
            It stores by default up to 100 PreparedStatements per connection, this can impact your database (Open Cursors). 
            
</td></tr>
</table>
</p>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>SQL Query</td>
<td>
        SQL query.
        Do not enter a trailing semi-colon.
        There is generally no need to use { and } to enclose Callable statements;
        however they mey be used if the database uses a non-standard syntax.
        [The JDBC driver automatically converts the statement if necessary when it is enclosed in {}].
        For example:
        
<ul>

        
<li>
select * from t_customers where id=23
</li>

        
<li>
CALL SYSCS_UTIL.SYSCS_EXPORT_TABLE (null,?, ?, null, null, null)
        
<ul>

        
<li>
Parameter values: tablename,filename
</li>

        
<li>
Parameter types:  VARCHAR,VARCHAR
</li>

        
</ul>

        
</li>

        The second example assumes you are using Apache Derby.
        
</ul>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameter values</td>
<td>
        Comma-separated list of parameter values. Use ]NULL[ to indicate a NULL parameter.
        (If required, the null string can be changed by defining the property "jdbcsampler.nullmarker".)
        
<br>


        The list must be enclosed in double-quotes if any of the values contain a comma or double-quote,
        and any embedded double-quotes must be doubled-up, for example:
        
<pre>
"Dbl-Quote: "" and Comma: ,"
</pre>

        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>There must be as many values as there are placeholders in the statement even if your parameters are OUT ones, be sure to set a value even if the value will not be used (for example in a CallableStatement).
</td></tr>
</table>
</p>

        
</td>
<td>
Yes, if a prepared or callable statement has parameters
</td>
</tr>
<tr>
<td>Parameter types</td>
<td>
        Comma-separated list of SQL parameter types (e.g. INTEGER, DATE, VARCHAR, DOUBLE) or integer values of Constants when for example you use custom database types proposed by driver (-10 for OracleTypes.CURSOR for example).
<br>


        These are defined as fields in the class java.sql.Types, see for example:
<br>


        
<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/Types.html">
Javadoc for java.sql.Types
</a>
.
<br>


        [Note: JMeter will use whatever types are defined by the runtime JVM, 
        so if you are running on a different JVM, be sure to check the appropriate document]
<br>


        
<b>
If the callable statement has INOUT or OUT parameters, then these must be indicated by prefixing the
        appropriate parameter types, e.g. instead of "INTEGER", use "INOUT INTEGER".
</b>
 
<br>


        If not specified, "IN" is assumed, i.e. "DATE" is the same as "IN DATE".
        
<br>


        If the type is not one of the fields found in java.sql.Types, versions of JMeter after 2.3.2 also
        accept the corresponding integer number, e.g. since OracleTypes.CURSOR == -10, you can use "INOUT -10".
        
<br>


        There must be as many types as there are placeholders in the statement.
        
</td>
<td>
Yes, if a prepared or callable statement has parameters
</td>
</tr>
<tr>
<td>Variable Names</td>
<td>Comma-separated list of variable names to hold values returned by Select statements, Prepared Select Statements or CallableStatement. 
        Note that when used with CallableStatement, list of variables must be in the same sequence as the OUT parameters returned by the call.
        If there are less variable names than OUT parameters only as many results shall be stored in the thread-context variables as variable names were supplied. 
        If more variable names than OUT parameters exist, the additional variables will be ignored
</td>
<td>
No
</td>
</tr>
<tr>
<td>Result Variable Name</td>
<td>
        If specified, this will create an Object variable containing a list of row maps.
        Each map contains the column name as the key and the column data as the value. Usage:
<br>


        
<code>
columnValue = vars.getObject("resultObject").get(0).get("Column Name");
</code>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Handle ResultSet</td>
<td>Defines how ResultSet returned from callable statements be handled:
            
<ul>

                
<li>
Store As String (default) - All variables on Variable Names list are stored as strings, will not iterate through a ResultSets when present on the list.
</li>

                
<li>
Store As Object - Variables of ResultSet type on Variables Names list will be stored as Object and can be accessed in subsequent tests/scripts and iterated, will not iterate through the ResultSet 
</li>

                
<li>
Count Records - Variables of ResultSet types will be iterated through showing the count of records as result. Variables will be stored as Strings.
</li>

            
</ul>

        
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p><b>See Also:</b>
<ul>
<li><a href="build-db-test-plan.html">Building a Database Test Plan</a></li>
<li><a href="../usermanual/component_reference.html#JDBC_Connection_Configuration">JDBC Connection Configuration</a>
</li>
</ul>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Versions of JMeter after 2.3.2 use UTF-8 as the character encoding. Previously the platform default was used.
</td></tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Ensure Variable Name is unique accross Test Plan.
</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Java_Request">18.1.4 Java Request</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This sampler lets you control a java class that implements the

<b>
<code>
org.apache.jmeter.protocol.java.sampler.JavaSamplerClient
</code>
</b>
 interface.
By writing your own implementation of this interface,
you can use JMeter to harness multiple threads, input parameter control, and
data collection.
</p>


<p>
The pull-down menu provides the list of all such implementations found by
JMeter in its classpath.  The parameters can then be specified in the
table below - as defined by your implementation.  Two simple examples (JavaTest and SleepTest) are provided.

</p>


<p>

The JavaTest example sampler can be useful for checking test plans, because it allows one to set
values in almost all the fields. These can then be used by Assertions, etc.
The fields allow variables to be used, so the values of these can readily be seen.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='563' height='347' src="../../docs/images/screenshots/java_request.png"/></div>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Since JMeter 2.8, if the method teardownTest is not overriden by a subclass of AbstractJavaSamplerClient, its teardownTest method will not be called.
This reduces JMeter memory requirements.
This will not have any impact on existing Test plans.

</td></tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The Add/Delete buttons don't serve any purpose at present.
</td></tr>
</table>
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler
         that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Classname</td>
<td>The specific implementation of
        the JavaSamplerClient interface to be sampled.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Send Parameters with Request</td>
<td>A list of
        arguments that will be passed to the sampled class.  All arguments
        are sent as Strings. See below for specific settings.
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
The following parameters apply to the 
<b>
SleepTest
</b>
 and 
<b>
JavaTest
</b>
 implementations:
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Sleep_time</td>
<td>How long to sleep for (ms)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Sleep_mask</td>
<td>How much "randomness" to add:
<br>


            The sleep time is calculated as follows:
<br>


            totalSleepTime = SleepTime + (System.currentTimeMillis() % SleepMask)
        
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
The following parameters apply additionaly to the 
<b>
JavaTest
</b>
 implementation:
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Label</td>
<td>The label to use. If provided, overrides Name
</td>
<td>
No
</td>
</tr>
<tr>
<td>ResponseCode</td>
<td>If provided, sets the SampleResult ResponseCode.
</td>
<td>
No
</td>
</tr>
<tr>
<td>ResponseMessage</td>
<td>If provided, sets the SampleResult ResponseMessage.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Status</td>
<td>If provided, sets the SampleResult Status. If this equals "OK" (ignoring case) then the status is set to success, otherwise the sample is marked as failed.
</td>
<td>
No
</td>
</tr>
<tr>
<td>SamplerData</td>
<td>If provided, sets the SampleResult SamplerData.
</td>
<td>
No
</td>
</tr>
<tr>
<td>ResultData</td>
<td>If provided, sets the SampleResult ResultData.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="SOAP/XML-RPC_Request">18.1.5 SOAP/XML-RPC Request</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This sampler lets you send a SOAP request to a webservice.  It can also be
used to send XML-RPC over HTTP.  It creates an HTTP POST request, with the specified XML as the
POST content. 
To change the "Content-type" from the default of "text/xml", use a HeaderManager. 
Note that the sampler will use all the headers from the HeaderManager.
If a SOAP action is specified, that will override any SOAPaction in the HeaderManager.
The primary difference between the soap sampler and
webservice sampler, is the soap sampler uses raw post and does not require conformance to
SOAP 1.1.
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>For versions of JMeter later than 2.2, the sampler no longer uses chunked encoding by default.
<br>


For screen input, it now always uses the size of the data.
<br>


File input uses the file length as determined by Java.
<br>


On some OSes this may not work for all files, in which case add a child Header Manager
with Content-Length set to the actual length of the file.
<br>


Or set Content-Length to -1 to force chunked encoding.

</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='426' height='276' src="../../docs/images/screenshots/soap_sampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler
         that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>URL</td>
<td>The URL to direct the SOAP request to.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Send SOAP action</td>
<td>Send a SOAP action header? (overrides the Header Manager)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use KeepAlive</td>
<td>If set, sends Connection: keep-alive, else sends Connection: close
</td>
<td>
No
</td>
</tr>
<tr>
<td>Soap/XML-RPC Data</td>
<td>The Soap XML message, or XML-RPC instructions.
        Not used if the filename is provided.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Filename</td>
<td>If specified, then the contents of the file are sent, and the Data field is ignored
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="WebService(SOAP)_Request_(DEPRECATED)">18.1.6 WebService(SOAP) Request (DEPRECATED)</a>
</h3>
</font>
</td></tr>
<tr><td bgcolor="#bbbb00"><div align="center"><b>*** This element is deprecated.  Use <a href="../usermanual/component_reference.html#HTTP_Request">HTTP_Request</a> instead ***</b></div></td></tr>
<tr><td>
<p>
This sampler has been tested with IIS Webservice running .NET 1.0 and .NET 1.1.
 It has been tested with SUN JWSDP, IBM webservices, Axis and gSoap toolkit for C/C++.
 The sampler uses Apache SOAP driver to serialize the message and set the header
 with the correct SOAPAction. Right now the sampler doesn't support automatic WSDL
 handling, since Apache SOAP currently does not provide support for it. Both IBM
 and SUN provide WSDL drivers. There are 3 options for the post data: text area,
 external file, or directory. If you want the sampler to randomly select a message,
 use the directory. Otherwise, use the text area or a file. The if either the
 file or path are set, it will not use the message in the text area. If you need
 to test a soap service that uses different encoding, use the file or path. If you
 paste the message in to text area, it will not retain the encoding and will result
 in errors. Save your message to a file with the proper encoding, and the sampler
 will read it as java.io.FileInputStream.
</p>

 
<p>
An important note on the sampler is it will automatically use the proxy host
 and port passed to JMeter from command line, if those fields in the sampler are
 left blank. If a sampler has values in the proxy host and port text field, it
 will use the ones provided by the user. This behavior may not be what users
 expect.
</p>

 
<p>
By default, the webservice sampler sets SOAPHTTPConnection.setMaintainSession
 (true). If you need to maintain the session, add a blank Header Manager. The
 sampler uses the Header Manager to store the SOAPHTTPConnection object, since
 the version of apache soap does not provide a easy way to get and set the cookies.
</p>

 
<p>
<b>
Note:
</b>
 If you are using CSVDataSet, do not check "Memory Cache". If memory
 cache is checked, it will not iterate to the next value. That means all the requests
 will use the first value.
</p>

 
<p>
Make sure you use &lt;soap:Envelope rather than &lt;Envelope. For example:
</p>

 
<pre>

&lt;?xml version="1.0" encoding="utf-8"?>
&lt;soap:Envelope 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
&lt;soap:Body>
&lt;foo xmlns="http://clients-xlmns"/>
&lt;/soap:Body>
&lt;/soap:Envelope>

</pre>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The SOAP library that is used does not support SOAP 1.2, only SOAP 1.1. 
Also the library does not provide access to the HTTP response code (e.g. 200) or message (e.g. OK). 
To get round this, versions of JMeter after 2.3.2 check the returned message length.
If this is zero, then the request is marked as failed.

</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='943' height='648' src="../../docs/images/screenshots/webservice_sampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler
         that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>WSDL URL</td>
<td>The WSDL URL with the service description.
        Versions of JMeter after 2.3.1 support the file: protocol for local WSDL files.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Web Methods</td>
<td>Will be populated from the WSDL when the Load WSDL button is pressed.
        Select one of the methods and press the Configure button to populate the Protocol, Server, Port, Path and SOAPAction fields. 
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Protocol</td>
<td>HTTP or HTTPS are acceptable protocol.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Server Name or IP</td>
<td>The hostname or IP address.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port Number</td>
<td>Port Number.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Timeout</td>
<td>Connection timeout.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Path</td>
<td>Path for the webservice.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>SOAPAction</td>
<td>The SOAPAction defined in the webservice description or WSDL.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Soap/XML-RPC Data</td>
<td>The Soap XML message
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Soap file</td>
<td>File containing soap message
</td>
<td>
No
</td>
</tr>
<tr>
<td>Message(s) Folder</td>
<td>Folder containing soap files. Files are choose randomly during test.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Memory cache</td>
<td>
        When using external files, setting this causes the file to be processed once and caches the result.
        This may use a lot of memory if there are many different large files.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Read SOAP Response</td>
<td>Read the SOAP reponse (consumes performance). Permit to have assertions or post-processors
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use HTTP Proxy</td>
<td>Check box if http proxy should be used
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server Name or IP</td>
<td>Proxy hostname
</td>
<td>
No
</td>
</tr>
<tr>
<td>Port Number</td>
<td>Proxy host port
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Webservice Soap Sampler assumes that empty response means failure.

</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="LDAP_Request">18.1.7 LDAP Request</a>
</h3>
</font>
</td></tr>
<tr><td>
This Sampler lets you send a different Ldap request(Add, Modify, Delete and Search) to an LDAP server.
    
<p>
If you are going to send multiple requests to the same LDAP server, consider
      using an 
<a href="../usermanual/component_reference.html#LDAP_Request_Defaults">LDAP Request Defaults</a>

      Configuration Element so you do not have to enter the same information for each
      LDAP Request.
</p>
 The same way the 
<a href="../usermanual/component_reference.html#Login_Config_Element">Login Config Element</a>
 also using for Login and password.
  
<p><b>Control Panel</b></p>
<div align="center"><img width='621' height='462' src="../../docs/images/screenshots/ldap_request.png"/></div>
<p>
There are two ways to create test cases for testing an LDAP Server.
</p>
<ol>
<li>
Inbuilt Test cases.
</li>

    
<li>
User defined Test cases.
</li>
</ol>
<p>
There are four test scenarios of testing LDAP. The tests are given below:
</p>
<ol>

      
<li>
Add Test
</li>

      
<ol>
<li>
Inbuilt test :
        
<p>
This will add a pre-defined entry in the LDAP Server and calculate
          the execution time. After execution of the test, the created entry will be
          deleted from the LDAP
          Server.
</p>
</li>

          
<li>
User defined test :
            
<p>
This will add the entry in the LDAP Server. User has to enter all the
              attributes in the table.The entries are collected from the table to add. The
              execution time is calculated. The created entry will not be deleted after the
              test.
</p>
</li>
</ol>


              
<li>
Modify Test
</li>

              
<ol>
<li>
Inbuilt test :
                
<p>
This will create a pre-defined entry first, then will modify the
                  created entry in the LDAP Server.And calculate the execution time. After
                  execution
                  of the test, the created entry will be deleted from the LDAP Server.
</p>
</li>

                  
<li>
User defined test
                    
<p>
This will modify the entry in the LDAP Server. User has to enter all the
                      attributes in the table. The entries are collected from the table to modify.
                      The execution time is calculated. The entry will not be deleted from the LDAP
                      Server.
</p>
</li>
</ol>


                      
<li>
Search Test
</li>

                      
<ol>
<li>
Inbuilt test :
                        
<p>
This will create the entry first, then will search if the attributes
                          are available. It calculates the execution time of the search query. At the
                          end of  the execution,created entry will be deleted from the LDAP Server.
</p>
</li>

                          
<li>
User defined test
                            
<p>
This will search the user defined entry(Search filter) in the Search
                              base (again, defined by the user). The entries should be available in the LDAP
                              Server. The execution time is  calculated.
</p>
</li>
</ol>


                              
<li>
Delete Test
</li>

                              
<ol>
<li>
Inbuilt test :
                                
<p>
This will create a pre-defined entry first, then it will be deleted
                                  from the LDAP Server. The execution time is calculated.
</p>
</li>


                                  
<li>
User defined test
                                    
<p>
This will delete the user-defined entry in the LDAP Server. The entries
                                      should be available in the LDAP Server. The execution time is calculated.
</p>
</li>
</ol>
</ol>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server Name or IP</td>
<td>Domain name or IP address of the LDAP server.
                                          JMeter assumes the LDAP server is listening on the default port(389).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port</td>
<td>default port(389).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>root DN</td>
<td>DN for the server to communicate
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Username</td>
<td>LDAP server username.
</td>
<td>
Usually
</td>
</tr>
<tr>
<td>Password</td>
<td>LDAP server password. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
Usually
</td>
</tr>
<tr>
<td>Entry DN</td>
<td>the name of the context to create or Modify; may not be empty Example: do you want to add cn=apache,ou=test
                                            you have to add in table name=cn, value=apache
                                          
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Delete</td>
<td>the name of the context to Delete; may not be empty
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Search base</td>
<td>the name of the context or object to search
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Search filter</td>
<td> the filter expression to use for the search; may not be null
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>add test</td>
<td> this name, value pair to added in the given context object
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>modify test</td>
<td> this name, value pair to add or modify in the given context object
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p><b>See Also:</b>
<ul>
<li><a href="build-ldap-test-plan.html">Building an Ldap Test Plan</a></li>
<li><a href="../usermanual/component_reference.html#LDAP_Request_Defaults">LDAP Request Defaults</a>
</li>
</ul>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="LDAP_Extended_Request">18.1.8 LDAP Extended Request</a>
</h3>
</font>
</td></tr>
<tr><td>
This Sampler can send all 8 different LDAP request to an LDAP server. It is an extended version of the LDAP sampler,
  therefore it is harder to configure, but can be made much closer resembling a real LDAP session.
    
<p>
If you are going to send multiple requests to the same LDAP server, consider
      using an 
<a href="../usermanual/component_reference.html#LDAP_Extended_Request_Defaults">LDAP Extended Request Defaults</a>

      Configuration Element so you do not have to enter the same information for each
      LDAP Request.
</p>
 
<p><b>Control Panel</b></p>
<div align="center"><img width='619' height='371' src="../../docs/images/screenshots/ldapext_request.png"/></div>
<p>
There are nine test operations defined. These operations are given below:
</p>
<ol>

      
<li>
<b>
Thread bind
</b>
</li>

      
<p>
Any LDAP request is part of an LDAP session, so the first thing that should be done is starting a session to the LDAP server.
       For starting this session a thread bind is used, which is equal to the LDAP "bind" operation.
       The user is requested to give a username (Distinguished name) and password, 
       which will be used to initiate a session.
       When no password, or the wrong password is specified, an anonymous session is started. Take care,
       omitting the password will not fail this test, a wrong password will. 
       (N.B. this is stored unencrypted in the test plan)
</p>

     
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Servername</td>
<td>The name (or IP-address) of the LDAP server.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port</td>
<td>The port number that the LDAP server is listening to. If this is omitted 
     JMeter assumes the LDAP server is listening on the default port(389).
</td>
<td>
No
</td>
</tr>
<tr>
<td>DN</td>
<td>The distinguished name of the base object that will be used for any subsequent operation. 
     It can be used as a starting point for all operations. You cannot start any operation on a higher level than this DN!
</td>
<td>
No
</td>
</tr>
<tr>
<td>Username</td>
<td>Full distinguished name of the user as which you want to bind.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>Password for the above user. If omitted it will result in an anonymous bind. 
     If is is incorrect, the sampler will return an error and revert to an anonymous bind. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
</table>
</p>

 
<br>

       
      
<li>
<b>
Thread unbind
</b>
</li>

      
<p>
This is simply the operation to end a session. 
      It is equal to the LDAP "unbind" operation.
</p>

     
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>

     
 
<br>

       
      
<li>
<b>
Single bind/unbind
</b>
</li>

        
<p>
 This is a combination of the LDAP "bind" and "unbind" operations.
        It can be used for an authentication request/password check for any user. It will open an new session, just to
        check the validity of the user/password combination, and end the session again.
</p>

    
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Username</td>
<td>Full distinguished name of the user as which you want to bind.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Password</td>
<td>Password for the above user. If omitted it will result in an anonymous bind. 
     If is is incorrect, the sampler will return an error. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
</table>
</p>


 
<br>

       
      
<li>
<b>
Rename entry
</b>
</li>

       
<p>
This is the LDAP "moddn" operation. It can be used to rename an entry, but 
       also for moving an entry or a complete subtree to a different place in 
       the LDAP tree.  
</p>

    
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Old entry name</td>
<td>The current distinguished name of the object you want to rename or move, 
      relative to the given DN in the thread bind operation.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>New distinguished name</td>
<td>The new distinguished name of the object you want to rename or move, 
      relative to the given DN in the thread bind operation.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>

       
 
<br>

       
        
<li>
<b>
Add test
</b>
</li>

       
<p>
This is the ldap "add" operation. It can be used to add any kind of 
       object to the LDAP server.  
</p>

    
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Entry DN</td>
<td>Distinguished name of the object you want to add, relative to the given DN in the thread bind operation.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Add test</td>
<td>A list of attributes and their values you want to use for the object.
     If you need to add a multiple value attribute, you need to add the same attribute with their respective 
     values several times to the list.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>

       
 
<br>

       
      
<li>
<b>
Delete test
</b>
</li>

       
<p>
 This is the LDAP "delete" operation, it can be used to delete an 
       object from the LDAP tree 
</p>

    
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Delete</td>
<td>Distinguished name of the object you want to delete, relative to the given DN in the thread bind operation.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>

       
 
<br>

       
      
<li>
<b>
Search test
</b>
</li>

       
<p>
This is the LDAP "search" operation, and will be used for defining searches.  
</p>

    
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Search base</td>
<td>Distinguished name of the subtree you want your 
      search to look in, relative to the given DN in the thread bind operation.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Search Filter</td>
<td>searchfilter, must be specified in LDAP syntax.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Scope</td>
<td>Use 0 for baseobject-, 1 for onelevel- and 2 for a subtree search. (Default=0)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Size Limit</td>
<td>Specify the maximum number of results you want back from the server. (default=0, which means no limit.) When the sampler hits the maximum number of results, it will fail with errorcode 4
</td>
<td>
No
</td>
</tr>
<tr>
<td>Time Limit</td>
<td>Specify the maximum amount of (cpu)time (in miliseconds) that the server can spend on your search. Take care, this does not say anything about the responsetime. (default is 0, which means no limit)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Attributes</td>
<td>Specify the attributes you want to have returned, seperated by a semicolon. An empty field will return all attributes
</td>
<td>
No
</td>
</tr>
<tr>
<td>Return object</td>
<td>Whether the object will be returned (true) or not (false). Default=false
</td>
<td>
No
</td>
</tr>
<tr>
<td>Dereference aliases</td>
<td>If true, it will dereference aliases, if false, it will not follow them (default=false)
</td>
<td>
No
</td>
</tr>
</table>
</p>


 
<br>

       
      
<li>
<b>
Modification test
</b>
</li>

       
<p>
This is the LDAP "modify" operation. It can be used to modify an object. It
       can be used to add, delete or replace values of an attribute. 
</p>

    
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Entry name</td>
<td>Distinguished name of the object you want to modify, relative 
      to the given DN in the thread bind operation
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Modification test</td>
<td>The attribute-value-opCode triples. The opCode can be any 
     valid LDAP operationCode (add, delete/remove or replace). If you don't specify a value with a delete operation,
     all values of the given attribute will be deleted. If you do specify a value in a delete operation, only 
     the given value will be deleted. If this value is non-existent, the sampler will fail the test.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>

       
 
<br>

       
      
<li>
<b>
Compare
</b>
</li>

       
<p>
This is the LDAP "compare" operation. It can be used to compare the value 
       of a given attribute with some already known value. In reality this is mostly 
       used to check whether a given person is a member of some group. In such a case
        you can compare the DN of the user as a given value, with the values in the
         attribute "member" of an object of the type groupOfNames.
         If the compare operation fails, this test fails with errorcode 49.
</p>

    
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Entry DN</td>
<td>The current distinguished name of the object of 
      which you want  to compare an attribute, relative to the given DN in the thread bind operation.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Compare filter</td>
<td>In the form "attribute=value"
</td>
<td>
Yes
</td>
</tr>
</table>
</p>

    
</ol>
<p><b>See Also:</b>
<ul>
<li><a href="build-ldapext-test-plan.html">Building an LDAP Test Plan</a></li>
<li><a href="../usermanual/component_reference.html#LDAP_Extended_Request_Defaults">LDAP Extended Request Defaults</a>
</li>
</ul>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Access_Log_Sampler">18.1.9 Access Log Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>
<center>
<h2>
(Beta Code)
</h2>
</center>
<p>
AccessLogSampler was designed to read access logs and generate http requests.
For those not familiar with the access log, it is the log the webserver maintains of every
request it accepted. This means every image, css file, javascript file, html file.... 
The current implementation is complete, but some features have not been enabled. 
There is a filter for the access log parser, but I haven't figured out how to link to the pre-processor. 
Once I do, changes to the sampler will be made to enable that functionality.
</p>


<p>
Tomcat uses the common format for access logs. This means any webserver that uses the
common log format can use the AccessLogSampler. Server that use common log format include:
Tomcat, Resin, Weblogic, and SunOne. Common log format looks
like this:
</p>


<p>
127.0.0.1 - - [21/Oct/2003:05:37:21 -0500] "GET /index.jsp?%2Findex.jsp= HTTP/1.1" 200 8343
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The current implementation of the parser only looks at the text within the quotes that contains one of the HTTP protocol methods (GET, PUT, POST, DELETE...).
Everything else is stripped out and ignored. For example, the response code is completely
ignored by the parser. 
</td></tr>
</table>
</p>


<p>
For the future, it might be nice to filter out entries that
do not have a response code of 200. Extending the sampler should be fairly simple. There
are two interfaces you have to implement:
</p>


<ul>


<li>
org.apache.jmeter.protocol.http.util.accesslog.LogParser
</li>


<li>
org.apache.jmeter.protocol.http.util.accesslog.Generator
</li>


</ul>


<p>
The current implementation of AccessLogSampler uses the generator to create a new
HTTPSampler. The servername, port and get images are set by AccessLogSampler. Next,
the parser is called with integer 1, telling it to parse one entry. After that,
HTTPSampler.sample() is called to make the request.

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#ffffff"><pre>
samp = (HTTPSampler) GENERATOR.generateRequest();
samp.setDomain(this.getDomain());
samp.setPort(this.getPort());
samp.setImageParser(this.isImageParser());
PARSER.parse(1);
res = samp.sample();
res.setSampleLabel(samp.toString());
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
</table>
</div>

The required methods in LogParser are:

<ul>


<li>
setGenerator(Generator)
</li>


<li>
parse(int)
</li>
 

</ul>

Classes implementing Generator interface should provide concrete implementation
for all the methods. For an example of how to implement either interface, refer to
StandardGenerator and TCLogParser.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='613' height='318' src="../../docs/images/screenshots/accesslogsampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server</td>
<td>Domain name or IP address of the web server.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port</td>
<td>Port the web server is listening to.
</td>
<td>
No (defaults to 80)
</td>
</tr>
<tr>
<td>Log parser class</td>
<td>The log parser class is responsible for parsing the logs.
</td>
<td>
Yes (default provided)
</td>
</tr>
<tr>
<td>Filter</td>
<td>The filter class is used to filter out certain lines.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Location of log file</td>
<td>The location of the access log file.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>

The TCLogParser processes the access log independently for each thread.
The SharedTCLogParser and OrderPreservingLogParser share access to the file, 
i.e. each thread gets the next entry in the log.

</p>
<p>

The SessionFilter is intended to handle Cookies across threads. 
It does not filter out any entries, but modifies the cookie manager so that the cookies for a given IP are
processed by a single thread at a time. If two threads try to process samples from the same client IP address,
then one will be forced to wait until the other has completed.

</p>
<p>

The LogFilter is intended to allow access log entries to be filtered by filename and regex,
as well as allowing for the replacement of file extensions. However, it is not currently possible
to configure this via the GUI, so it cannot really be used.

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BeanShell_Sampler">18.1.10 BeanShell Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This sampler allows you to write a sampler using the BeanShell scripting language.

</p>
<p>


<b>
For full details on using BeanShell, please see the 
<a href="http://www.beanshell.org/">
BeanShell website.
</a>
</b>


</p>


<p>

The test element supports the ThreadListener and TestListener interface methods.
These must be defined in the initialisation file.
See the file BeanShellListeners.bshrc for example definitions.

</p>


<p>

From JMeter version 2.5.1, the BeanShell sampler also supports the Interruptible interface.
The interrupt() method can be defined in the script or the init file.

</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='848' height='566' src="../../docs/images/screenshots/beanshellsampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
    The name is stored in the script variable Label
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reset bsh.Interpreter before each call</td>
<td>
    If this option is selected, then the interpreter will be recreated for each sample.
    This may be necessary for some long running scripts. 
    For further information, see 
<a href="best-practices#bsh_scripting">
Best Practices - BeanShell scripting
</a>
.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the BeanShell script.
    This is intended for use with script files; for scripts defined in the GUI, you can use whatever
    variable and function references you need within the script itself.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
bsh.args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the BeanShell script to run.
    The file name is stored in the script variable FileName
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The BeanShell script to run. 
    The return value (if not null) is stored as the sampler result.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>

N.B. Each Sampler instance has its own BeanShell interpeter,
and Samplers are only called from a single thread

</p>
<p>

If the property "beanshell.sampler.init" is defined, it is passed to the Interpreter
as the name of a sourced file.
This can be used to define common methods and variables. 
There is a sample init file in the bin directory: BeanShellSampler.bshrc.

</p>
<p>

If a script file is supplied, that will be used, otherwise the script will be used.
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
JMeter processes function and variable references before passing the script field to the interpreter,
so the references will only be resolved once.
Variable and function references in script files will be passed
verbatim to the interpreter, which is likely to cause a syntax error.
In order to use runtime variables, please use the appropriate props methods,
e.g. props.get("START.HMS"); props.put("PROP1","1234");

<br>


BeanShell does not currently support Java 5 syntax such as generics and the enhanced for loop.

</td></tr>
</table>
</p>
<p>
Before invoking the script, some variables are set up in the BeanShell interpreter:
            
</p>
<p>
The contents of the Parameters field is put into the variable "Parameters".
            The string is also split into separate tokens using a single space as the separator, and the resulting list
            is stored in the String array bsh.args.
</p>
<p>
The full list of BeanShell variables that is set up is as follows:
</p>
<ul>

        
<li>
log - the Logger
</li>

        
<li>
Label - the Sampler label
</li>

        
<li>
FileName - the file name, if any
</li>

        
<li>
Parameters - text from the Parameters field
</li>

        
<li>
bsh.args - the parameters, split as described above
</li>

        
<li>
SampleResult - pointer to the current SampleResult
</li>

            
<li>
ResponseCode = 200
</li>

            
<li>
ResponseMessage = "OK"
</li>

            
<li>
IsSuccess = true
</li>

            
<li>
ctx - 
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
</li>

            
<li>
vars - 
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
  - e.g. vars.get("VAR1"); vars.put("VAR2","value"); vars.remove("VAR3"); vars.putObject("OBJ1",new Object());
</li>

            
<li>
props - JMeterProperties (class java.util.Properties)- e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>

        
</ul>
<p>
When the script completes, control is returned to the Sampler, and it copies the contents
            of the following script variables into the corresponding variables in the 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
:
</p>
<ul>

            
<li>
ResponseCode - for example 200
</li>

            
<li>
ResponseMessage - for example "OK"
</li>

            
<li>
IsSuccess - true/false
</li>

            
</ul>
<p>
The SampleResult ResponseData is set from the return value of the script.
            Since version 2.1.2, if the script returns null, it can set the response directly, by using the method 
            SampleResult.setResponseData(data), where data is either a String or a byte array.
            The data type defaults to "text", but can be set to binary by using the method
            SampleResult.setDataType(SampleResult.BINARY).
            
</p>
<p>
The SampleResult variable gives the script full access to all the fields and
                methods in the SampleResult. For example, the script has access to the methods
                setStopThread(boolean) and setStopTest(boolean).

                Here is a simple (not very useful!) example script:
</p>
<pre>

if (bsh.args[0].equalsIgnoreCase("StopThread")) {
    log.info("Stop Thread detected!");
    SampleResult.setStopThread(true);
}
return "Data from sample with Label "+Label;
//or, since version 2.1.2
SampleResult.setResponseData("My data");
return null;

</pre>
<p>
Another example:
<br>

 ensure that the property 
<b>
beanshell.sampler.init=BeanShellSampler.bshrc
</b>
 is defined in jmeter.properties. 
The following script will show the values of all the variables in the ResponseData field:

</p>
<pre>

return getVariables();

</pre>
<p>

For details on the methods available for the various classes (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
, 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
 etc) please check the Javadoc or the source code.
Beware however that misuse of any methods can cause subtle faults that may be difficult to find ...

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BSF_Sampler">18.1.11 BSF Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This sampler allows you to write a sampler using a BSF scripting language.
<br>


        See the 
<a href="http://commons.apache.org/bsf/index.html">
Apache Bean Scripting Framework
</a>

        website for details of the languages supported.
        You may need to download the appropriate jars for the language; they should be put in the JMeter 
<b>
lib
</b>
 directory.
        
</p>

        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
        The BSF API has been largely superseded by JSR-223, which is included in Java 6 onwards.
        Most scripting languages now include support for JSR-223; please use the JSR223 Sampler instead.
        The BSF Sampler should only be needed for supporting legacy languages/test scripts.
        
</td></tr>
</table>
</p>

        
<p>
By default, JMeter supports the following languages:
</p>

        
<ul>

        
<li>
javascript
</li>

        
<li>
jexl (JMeter version 2.3.2 and later)
</li>

        
<li>
xslt
</li>

        
</ul>

        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Unlike the BeanShell sampler, the interpreter is not saved between invocations.
</td></tr>
</table>
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='848' height='590' src="../../docs/images/screenshots/bsfsampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Scripting Language</td>
<td>Name of the BSF scripting language to be used.
    N.B. Not all the languages in the drop-down list are supported by default.
    The following are supported: jexl, javascript, xslt.
    Others may be available if the appropriate jar is installed in the JMeter lib directory.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Script File</td>
<td>Name of a file to be used as a BSF script, if a relative file path is used, then it will be relative to directory referenced by "user.dir" System property
</td>
<td>
No
</td>
</tr>
<tr>
<td>Parameters</td>
<td>List of parameters to be passed to the script file or the script.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>Script to be passed to BSF language
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>

If a script file is supplied, that will be used, otherwise the script will be used.
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
JMeter processes function and variable references before passing the script field to the interpreter,
so the references will only be resolved once.
Variable and function references in script files will be passed
verbatim to the interpreter, which is likely to cause a syntax error.
In order to use runtime variables, please use the appropriate props methods,
e.g. props.get("START.HMS"); props.put("PROP1","1234");

</td></tr>
</table>
</p>
<p>

Before invoking the script, some variables are set up.
Note that these are BSF variables - i.e. they can be used directly in the script.

</p>
<ul>


<li>
log - the Logger
</li>


<li>
Label - the Sampler label
</li>


<li>
FileName - the file name, if any
</li>


<li>
Parameters - text from the Parameters field
</li>


<li>
args - the parameters, split as described above
</li>


<li>
SampleResult - pointer to the current 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
</li>


<li>
sampler - pointer to current Sampler
</li>


<li>
ctx - 
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
</li>


<li>
vars - 
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
  - e.g. vars.get("VAR1"); vars.put("VAR2","value"); vars.remove("VAR3"); vars.putObject("OBJ1",new Object());
</li>


<li>
props - JMeterProperties  (class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
OUT - System.out - e.g. OUT.println("message")
</li>


</ul>
<p>

The 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
 ResponseData is set from the return value of the script.
If the script returns null, it can set the response directly, by using the method 
SampleResult.setResponseData(data), where data is either a String or a byte array.
The data type defaults to "text", but can be set to binary by using the method
SampleResult.setDataType(SampleResult.BINARY).

</p>
<p>

The SampleResult variable gives the script full access to all the fields and
methods in the SampleResult. For example, the script has access to the methods
setStopThread(boolean) and setStopTest(boolean).

</p>
<p>

Unlike the BeanShell Sampler, the BSF Sampler does not set the ResponseCode, ResponseMessage and sample status via script variables.
Currently the only way to changes these is via the 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
 methods:

<ul>


<li>
SampleResult.setSuccessful(true/false)
</li>


<li>
SampleResult.setResponseCode("code")
</li>


<li>
SampleResult.setResponseMessage("message")
</li>


</ul>


</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JSR223_Sampler">18.1.11.1 JSR223 Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JSR223 Sampler allows JSR223 script code to be used to perform a sample.

</p>


<p>

The JSR223 test elements have a feature (compilation) that can significantly increase performance.
To benefit from this feature:

<ul>

    
<li>
Use Script files instead of inlining them. This will make JMeter compile them if this feature is available on ScriptEngine and cache them.
</li>

    
<li>
Or Use Script Text and fill in script cache key property, ensure it is unique across Test Plan as JMeter will use it to cache result of compilation.
    
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>When using this feature, ensure you script code does not use JMeter variables directly in script code as caching would only cache first replacement. Instead use script parameters.
</td></tr>
</table>
</p>

    
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>To benefit fomr Caching and compilation, language engine used for scripting must implement JSR223 Compilable interface (Groovy is one of these, java, beanshell and javascript are not)
</td></tr>
</table>
</p>

    
</li>


</ul>

Cache size is controlled by the following jmeter property (jmeter.properties):

<ul>


<li>
jsr223.compiled_scripts_cache_size=100
</li>


</ul>

For details, see 
<a href="../usermanual/component_reference.html#BSF_Sampler">BSF Sampler</a>
.

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Unlike the BeanShell sampler, the interpreter is not saved between invocations.
</td></tr>
</table>
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Since JMeter 2.8, JSR223 Test Elements using Script file or Script text + cache key are now Compiled if ScriptEngine supports this feature, this enables great performance enhancements.

</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='846' height='630' src="../../docs/images/screenshots/jsr223-sampler.png"/></div>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
JMeter processes function and variable references before passing the script field to the interpreter,
so the references will only be resolved once.
Variable and function references in script files will be passed
verbatim to the interpreter, which is likely to cause a syntax error.
In order to use runtime variables, please use the appropriate props methods,
e.g. props.get("START.HMS"); props.put("PROP1","1234");

</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="TCP_Sampler">18.1.12 TCP Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>

        The TCP Sampler opens a TCP/IP connection to the specified server.
        It then sends the text, and waits for a response.
        
<br>


        If "Re-use connection" is selected, connections are shared between Samplers in the same thread,
        provided that the exact same host name string and port are used. 
        Different hosts/port combinations will use different connections, as will different threads. 
        If both of "Re-use connection" and "Close connection" are selected, the socket will be closed after running the sampler. 
        On the next sampler, another socket will be created. You may want to close a socket at the end of each thread loop.
        
<br>


        If an error is detected - or "Re-use connection" is not selected - the socket is closed. 
        Another socket will be reopened on the next sample.
        
<br>


        The following properties can be used to control its operation:
        
</p>

        
<ul>

            
<li>
tcp.status.prefix - text that precedes a status number
</li>

            
<li>
tcp.status.suffix - text that follows a status number
</li>

            
<li>
tcp.status.properties - name of property file to convert status codes to messages
</li>

            
<li>
tcp.handler - Name of TCP Handler class (default TCPClientImpl) - only used if not specified on the GUI
</li>

        
</ul>

        The class that handles the connection is defined by the GUI, failing that the property tcp.handler. 
        If not found, the class is then searched for in the package org.apache.jmeter.protocol.tcp.sampler.
        
<p>

        Users can provide their own implementation.
        The class must extend org.apache.jmeter.protocol.tcp.sampler.TCPClient.
        
</p>

        
<p>

        The following implementations are currently provided.
        
<ul>

        
<li>
TCPClientImpl
</li>

        
<li>
BinaryTCPClientImpl
</li>

        
<li>
LengthPrefixedBinaryTCPClientImpl
</li>

        
</ul>

        The implementations behave as follows:
        
</p>

        
<p>
<b>
TCPClientImpl
</b>
<br>


        This implementation is fairly basic.
        When reading the response, it reads until the end of line byte, if this is defined
        by setting the property 
<b>
tcp.eolByte
</b>
, otherwise until the end of the input stream.
        You can control charset encoding by setting 
<b>
tcp.charset
</b>
, which will default to Platform default encoding.
        
</p>

        
<p>
<b>
BinaryTCPClientImpl
</b>
<br>


        This implementation converts the GUI input, which must be a hex-encoded string, into binary,
        and performs the reverse when reading the response.
        When reading the response, it reads until the end of message byte, if this is defined
        by setting the property 
<b>
tcp.BinaryTCPClient.eomByte
</b>
, otherwise until the end of the input stream.
        
</p>

        
<p>
<b>
LengthPrefixedBinaryTCPClientImpl
</b>
<br>


        This implementation extends BinaryTCPClientImpl by prefixing the binary message data with a binary length byte.
        The length prefix defaults to 2 bytes.
        This can be changed by setting the property 
<b>
tcp.binarylength.prefix.length
</b>
.
        
</p>

        
<p>
<b>
Timeout handling
</b>

        If the timeout is set, the read will be terminated when this expires. 
        So if you are using an eolByte/eomByte, make sure the timeout is sufficiently long,
        otherwise the read will be terminated early.    
        
</p>

        
<p>
<b>
Response handling
</b>

        
<br>


        If tcp.status.prefix is defined, then the response message is searched for the text following
        that up to the suffix. If any such text is found, it is used to set the response code.
        The response message is then fetched from the properties file (if provided).
        
<br>


        For example, if the prefix = "[" and the suffix = "]", then the following repsonse:
        
<br>


        [J28] XI123,23,GBP,CR
        
<br>


        would have the response code J28.
        
<br>


        Response codes in the range "400"-"499" and "500"-"599" are currently regarded as failures;
        all others are successful. [This needs to be made configurable!]
        
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The login name/password are not used by the supplied TCP implementations.
</td></tr>
</table>
</p>

        
<br>


        Sockets are disconnected at the end of a test run.

<p><b>Control Panel</b></p>
<div align="center"><img width='827' height='521' src="../../docs/images/screenshots/tcpsampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>TCPClient classname</td>
<td>Name of the TCPClient class. Defaults to the property tcp.handler, failing that TCPClientImpl.
</td>
<td>
No
</td>
</tr>
<tr>
<td>ServerName or IP</td>
<td>Name or IP of TCP server
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port Number</td>
<td>Port to be used
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Re-use connection</td>
<td>If selected, the connection is kept open. Otherwise it is closed when the data has been read.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Close connection</td>
<td>If selected, the connection will be closed after running the sampler.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>SO_LINGER</td>
<td>Enable/disable SO_LINGER with the specified linger time in seconds when a socket is created. If you set "SO_LINGER" value as 0, you may prevent large numbers of sockets sitting around with a TIME_WAIT status.
</td>
<td>
No
</td>
</tr>
<tr>
<td>End of line(EOL) byte value</td>
<td>Byte value for end of line, set this to a value outside the range -128 to +127 to skip eol checking. You may set this in jmeter.properties file as well with eolByte property. If you set this in TCP Sampler Config and in jmeter.properties file at the same time, the setting value in the TCP Sampler Config will be used.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Connect Timeout</td>
<td>Connect Timeout (milliseconds, 0 disables).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Response Timeout</td>
<td>Response Timeout (milliseconds, 0 disables).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Set Nodelay</td>
<td>See java.net.Socket.setTcpNoDelay().
  If selected, this will disable Nagle's algorithm, otherwise Nagle's algorithm will be used.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Text to Send</td>
<td>Text to be sent
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Login User</td>
<td>User Name - not used by default implementation
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>Password - not used by default implementation (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JMS_Publisher">18.1.13 JMS Publisher</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>BETA CODE - the code is still subject to change
</td></tr>
</table>
</p>

        
<p>

        JMS Publisher will publish messages to a given destination (topic/queue). For those not
        familiar with JMS, it is the J2EE specification for messaging. There are
        numerous JMS servers on the market and several open source options.
        
</p>

        
<br>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>JMeter does not include any JMS implementation jar; this must be downloaded from the JMS provider and put in the lib directory
</td></tr>
</table>
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='854' height='796' src="../../docs/images/screenshots/jmspublisher.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>use JNDI properties file</td>
<td>use jndi.properties. 
  Note that the file must be on the classpath - e.g. by updating the user.classpath JMeter property.
  If this option is not selected, JMeter uses the "JNDI Initial Context Factory" and "Provider URL" fields
  to create the connection.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>JNDI Initial Context Factory</td>
<td>Name of the context factory
</td>
<td>
No
</td>
</tr>
<tr>
<td>Provider URL</td>
<td>The URL for the jms provider
</td>
<td>
Yes, unless using jndi.properties
</td>
</tr>
<tr>
<td>Destination</td>
<td>The message destination (topic or queue name)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Setup</td>
<td>The destination setup type. With At startup, the destination name is static (i.e. always same name during the test), with Each sample, the destination name is dynamic and is evaluate at each sample (i.e. the destination name may be a variable)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Authentication</td>
<td>Authentication requirement for the JMS provider
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>User</td>
<td>User Name
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>Password (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Expiration</td>
<td>
      The expiration time (in milliseconds) of the message before it becomes obsolete.
      If you do not specify an expiration time, the default value is 0 (never expires). 
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Priority</td>
<td>
      The priority level of the message. There are ten priority levels from 0 (lowest) to 9 (highest). 
      If you do not specify a priority level, the default level is 4. 
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Number of samples to aggregate</td>
<td>Number of samples to aggregate
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Message source</td>
<td>Where to obtain the message:
  
<ul>

    
<li>
From File : means the referenced file will be read and reused by all samples
</li>

    
<li>
Random File from folder specified below : means a random file will be selected from folder specified below, this folder must contain either files with extension .dat for Bytes Messages, or files with extension .txt or .obj for Object or Text messages
</li>

    
<li>
Text area : The Message to use either for Text or Object message
</li>

  
</ul>
  
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Message type</td>
<td>Text, Map, Object message or Bytes Message
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use non-persistent delivery mode?</td>
<td>
      Whether to set DeliveryMode.NON_PERSISTENT (defaults to false)
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>JMS Properties</td>
<td>
      The JMS Properties are properties specific for the underlying messaging system.
      You can setup the name, the value and the class (type) of value. Default type is String.
      For example: for WebSphere 5.1 web services you will need to set the JMS Property targetService to test
      webservices through JMS.
  
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>

For the MapMessage type, JMeter reads the source as lines of text.
Each line must have 3 fields, delimited by commas.
The fields are:

<ul>


<li>
Name of entry
</li>


<li>
Object class name, e.g. "String" (assumes java.lang package if not specified)
</li>


<li>
Object string value
</li>


</ul>

For each entry, JMeter adds an Object with the given name.
The value is derived by creating an instance of the class, and using the valueOf(String) method to convert the value if necessary.
For example:

<pre>

name,String,Example
size,Integer,1234

</pre>

This is a very simple implementation; it is not intended to support all possible object types.

</p>
<p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td> 
The Object message is implemented since 2.7 and works as follow:

<ul>


<li>
Put the JAR that contains your object and its dependencies in jmeter_home/lib/ folder
</li>


<li>
Serialize your object as XML using XStream
</li>


<li>
Either put result in a file suffixed with .txt or .obj or put XML content direclty in Text Area
</li>
  

</ul>

Note that if message is in a file, replacement of properties will not occur while it will if you use Text Area.

</td></tr>
</table>
</p>



</p>
<p>

The following table shows some values which may be useful when configuring JMS:

<table>
<tr>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Apache <a href="http://activemq.apache.org/">ActiveMQ</a>
</font>
</td>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Value(s)
</font>
</td>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Comment
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Context Factory
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
org.apache.activemq.jndi.ActiveMQInitialContextFactory
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
.
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Provider URL
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
vm://localhost
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
&nbsp;
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Provider URL
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
vm:(broker:(vm://localhost)?persistent=false)
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Disable persistence
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Queue Reference
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
dynamicQueues/QUEUENAME
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<a href="http://activemq.apache.org/jndi-support.html#JNDISupport-Dynamicallycreatingdestinations">Dynamically define</a> the QUEUENAME to JNDI
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Topic Reference
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
dynamicTopics/TOPICNAME
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<a href="http://activemq.apache.org/jndi-support.html#JNDISupport-Dynamicallycreatingdestinations">Dynamically define</a> the TOPICNAME to JNDI
</font>
</td>
</tr>
</table>


</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JMS_Subscriber">18.1.14 JMS Subscriber</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>BETA CODE - the code is still subject to change
</td></tr>
</table>
</p>

        
<p>

        JMS Publisher will subscribe to messages in a given destination (topic or queue). For those not
        familiar with JMS, it is the J2EE specification for messaging. There are
        numerous JMS servers on the market and several open source options.
        
</p>

        
<br>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>JMeter does not include any JMS implementation jar; this must be downloaded from the JMS provider and put in the lib directory
</td></tr>
</table>
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='709' height='498' src="../../docs/images/screenshots/jmssubscriber.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>use JNDI properties file</td>
<td>use jndi.properties. 
  Note that the file must be on the classpath - e.g. by updating the user.classpath JMeter property.
  If this option is not selected, JMeter uses the "JNDI Initial Context Factory" and "Provider URL" fields
  to create the connection.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>JNDI Initial Context Factory</td>
<td>Name of the context factory
</td>
<td>
No
</td>
</tr>
<tr>
<td>Provider URL</td>
<td>The URL for the jms provider
</td>
<td>
No
</td>
</tr>
<tr>
<td>Destination</td>
<td>the message destination (topic or queue name)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Durable Subscription ID</td>
<td>The ID to use for a durable subscription. On first 
  use the respective queue will automatically be generated by the JMS provider if it does not exist yet.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Client ID</td>
<td>The Client ID to use when you you use a durable subscription. 
  Be sure to add a variable like ${__threadNum} when you have more than one Thread.
</td>
<td>
No
</td>
</tr>
<tr>
<td>JMS Selector</td>
<td>Message Selector as defined by JMS specification to extract only 
  messages that respect the Selector condition. Syntax uses subpart of SQL 92.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Setup</td>
<td>The destination setup type. With At startup, the destination name is static (i.e. always same name during the test), with Each sample, the destination name is dynamic and is evaluate at each sample (i.e. the destination name may be a variable)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Authentication</td>
<td>Authentication requirement for the JMS provider
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>User</td>
<td>User Name
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>Password (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Number of samples to aggregate</td>
<td>number of samples to aggregate
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Read response</td>
<td>should the sampler read the response. If not, only the response length is returned.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Timeout</td>
<td>Specify the timeout to be applied, in milliseconds. 0=none. 
  This is the overall aggregate timeout, not per sample.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Client</td>
<td>Which client implementation to use.
  Both of them create connections which can read messages. However they use a different strategy, as described below:
  
<ul>

  
<li>
MessageConsumer.receive() - calls receive() for every requested message. 
  Retains the connection between samples, but does not fetch messages unless the sampler is active.
  This is best suited to Queue subscriptions. 
  
</li>

  
<li>
MessageListener.onMessage() - establishes a Listener that stores all incoming messages on a queue. 
  The listener remains active after the sampler completes.
  This is best suited to Topic subscriptions.
</li>

  
</ul>

  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Stop between samples?</td>
<td>
  If selected, then JMeter calls Connection.stop() at the end of each sample (and calls start() before each sample).
  This may be useful in some cases where multiple samples/threads have connections to the same queue.
  If not selected, JMeter calls Connection.start() at the start of the thread, and does not call stop() until the end of the thread.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Separator</td>
<td>
  Separator used to separate messages when there is more than one (related to setting Number of samples to aggregate).
  Note that \n, \r, \t are accepted.
  
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>


<b>
NOTE:
</b>
 JMeter 2.3.4 and earlier used a different strategy for the MessageConsumer.receive() client. 
Previously this started a background thread which polled for messages. This thread continued when the sampler
completed, so the net effect was similar to the MessageListener.onMessage() strategy.

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JMS_Point-to-Point">18.1.15 JMS Point-to-Point</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>BETA CODE - the code is still subject to change
</td></tr>
</table>
</p>

        
<p>

        This sampler sends and optionally receives JMS Messages through point-to-point connections (queues).
        It is different from pub/sub messages and is generally used for handling transactions.
        
</p>

        
<p>

        
<b>
Request Only
</b>
 will typically used to put load on a JMS System.
<br>


        
<b>
Request Response
</b>
 will be used when you want to test response time of a JMS service that processes messages sent to the Request Queue as this mode will wait for the response on the Reply queue sent by this service.
<br>


        
</p>

        
<p>

        Versions of JMeter after 2.3.2 use the properties java.naming.security.[principal|credentials] - if present -
        when creating the Queue Connection. If this behaviour is not desired, set the JMeter property
        
<b>
JMSSampler.useSecurity.properties=false
</b>

        
</p>

        
<br>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>JMeter does not include any JMS implementation jar; this must be downloaded from the JMS provider and put in the lib directory
</td></tr>
</table>
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='882' height='804' src="../../docs/images/screenshots/jms/JMS_Point-to-Point.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>QueueConnection Factory</td>
<td>
    The JNDI name of the queue connection factory to use for connecting to the messaging system.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>JNDI Name Request queue</td>
<td>
    This is the JNDI name of the queue to which the messages are sent.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>JNDI Name Reply queue</td>
<td>
    The JNDI name of the receiving queue. If a value is provided here and the communication style is Request Response
    this queue will be monitored for responses to the requests sent.
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>JMS Selector</td>
<td>
    Message Selector as defined by JMS specification to extract only 
    messages that respect the Selector condition. Syntax uses subpart of SQL 92.
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Communication style</td>
<td>
    The Communication style can be 
<b>
Request Only
</b>
 (also known as Fire and Forget) or 
<b>
Request Response
</b>
:
    
<ul>

    
<li>
<b>
Request Only
</b>
 will only send messages and will not monitor replies. As such it can be used to put load on a system.
</li>

    
<li>
<b>
Request Response
</b>
 will send messages and monitor the replies it receives. Behaviour depends on the value of the JNDI Name Reply Queue.
    If JNDI Name Reply Queue has a value, this queue is used to monitor the results. Matching of request and reply is done with
    the message id of the request and the correlation id of the reply. If the JNDI Name Reply Queue is empty, then
    temporary queues will be used for the communication between the requestor and the server.
    This is very different from the fixed reply queue. With temporary queues the sending thread will block until the reply message has been received.
    With 
<b>
Request Response
</b>
 mode, you need to have a Server that listens to messages sent to Request Queue and sends replies to 
    queue referenced by 
<code>
message.getJMSReplyTo()
</code>
.
</li>

    
</ul>

  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use alternate fields for message correlation</td>
<td>
    These check-boxes select the fields which will be used for matching the response message with the original request.
    
<ul>

    
<li>
<b>
Use Request Message Id
</b>
 - if selected, the request JMSMessageID will be used, 
    otherwise the request JMSCorrelationID will be used. 
    In the latter case the correlation id must be specified in the request.
</li>

    
<li>
<b>
Use Response Message Id
</b>
 - if selected, the response JMSMessageID will be used, 
    otherwise the response JMSCorrelationID will be used.
    
</li>

    
</ul>

    There are two frequently used JMS Correlation patterns:
    
<ul>

    
<li>
JMS Correlation ID Pattern - 
    i.e. match request and response on their correlation Ids
    => deselect both checkboxes, and provide a correlation id.
</li>

    
<li>
JMS Message ID Pattern -
    i.e. match request message id with response correlation id
    => select "Use Request Message Id" only.
    
</li>

    
</ul>

    In both cases the JMS application is responsible for populating the correlation ID as necessary.
    
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>if the same queue is used to send and receive messages, 
    then the response message will be the same as the request message.
    In which case, either provide a correlation id and clear both checkboxes;
    or select both checkboxes to use the message Id for correlation.
    This can be useful for checking raw JMS throughput.
</td></tr>
</table>
</p>

  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Timeout</td>
<td>
      The timeout in milliseconds for the reply-messages. If a reply has not been received within the specified
      time, the specific testcase failes and the specific reply message received after the timeout is discarded.
      Default value is 2000 ms.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Expiration</td>
<td>
      The expiration time (in milliseconds) of the message before it becomes obsolete.
      If you do not specify an expiration time, the default value is 0 (never expires). 
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Priority</td>
<td>
      The priority level of the message. There are ten priority levels from 0 (lowest) to 9 (highest). 
      If you do not specify a priority level, the default level is 4. 
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use non-persistent delivery mode?</td>
<td>
      Whether to set DeliveryMode.NON_PERSISTENT.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Content</td>
<td>
      The content of the message.
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>JMS Properties</td>
<td>
      The JMS Properties are properties specific for the underlying messaging system.
      You can setup the name, the value and the class (type) of value. Default type is String.
      For example: for WebSphere 5.1 web services you will need to set the JMS Property targetService to test
      webservices through JMS.
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Initial Context Factory</td>
<td>
    The Initial Context Factory is the factory to be used to look up the JMS Resources.
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>JNDI properties</td>
<td>
     The JNDI Properties are the specific properties for the underlying JNDI implementation.
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Provider URL</td>
<td>
    The URL for the jms provider.
  
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JUnit_Request">18.1.16 JUnit Request</a>
</h3>
</font>
</td></tr>
<tr><td>

The current implementation supports standard Junit convention and extensions. It also
includes extensions like oneTimeSetUp and oneTimeTearDown. The sampler works like the
JavaSampler with some differences.

<ul>


<li>
rather than use Jmeter's test interface, it scans the jar files for classes extending junit's TestCase class. That includes any class or subclass.
</li>


<li>
Junit test jar files should be placed in jmeter/lib/junit instead of /lib directory.
In versions of JMeter after 2.3.1, you can also use the "user.classpath" property to specify where to look for TestCase classes.
</li>


<li>
Junit sampler does not use name/value pairs for configuration like the JavaSampler. The sampler assumes setUp and tearDown will configure the test correctly.
</li>


<li>
The sampler measures the elapsed time only for the test method and does not include setUp and tearDown.
</li>


<li>
Each time the test method is called, Jmeter will pass the result to the listeners.
</li>


<li>
Support for oneTimeSetUp and oneTimeTearDown is done as a method. Since Jmeter is multi-threaded, we cannot call oneTimeSetUp/oneTimeTearDown the same way Maven does it.
</li>


<li>
The sampler reports unexpected exceptions as errors.
There are some important differences between standard JUnit test runners and JMeter's
implementation. Rather than make a new instance of the class for each test, JMeter
creates 1 instance per sampler and reuses it.
This can be changed with checkbox "Create a new instance per sample".
</li>


</ul>

The current implementation of the sampler will try to create an instance using the string constructor first. If the test class does not declare a string constructor, the sampler will look for an empty constructor. Example below:

<a name="junit_constructor_example"/>
<p><b>Junit Constructors</b></p>

Empty Constructor:

<pre>

public class myTestCase {
  public myTestCase() {}
}

</pre>

String Constructor:

<pre>

public class myTestCase {
  public myTestCase(String text) {
    super(text);
  }
}

</pre>



By default, Jmeter will provide some default values for the success/failure code and message. Users should define a set of unique success and failure codes and use them uniformly across all tests.

<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>

<h3>
General Guidelines
</h3>

If you use setUp and tearDown, make sure the methods are declared public. If you do not, the test may not run properly.

<br>


Here are some general guidelines for writing Junit tests so they work well with Jmeter. Since Jmeter runs multi-threaded, it is important to keep certain things in mind.

<ul>


<li>
Write the setUp and tearDown methods so they are thread safe. This generally means avoid using static memebers.
</li>


<li>
Make the test methods discrete units of work and not long sequences of actions. By keeping the test method to a descrete operation, it makes it easier to combine test methods to create new test plans.
</li>


<li>
Avoid making test methods depend on each other. Since Jmeter allows arbitrary sequencing of test methods, the runtime behavior is different than the default Junit behavior.
</li>


<li>
If a test method is configurable, be careful about where the properties are stored. Reading the properties from the Jar file is recommended.
</li>


<li>
Each sampler creates an instance of the test class, so write your test so the setup happens in oneTimeSetUp and oneTimeTearDown.
</li>


</ul>


</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='397' height='536' src="../../docs/images/screenshots/junit_sampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Search for JUnit4 annotations</td>
<td>Select this to search for JUnit 4 tests (@Test annotations)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Package filter</td>
<td>Comma separated list of packages to show. Example, org.apache.jmeter,junit.framework.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Class name</td>
<td>Fully qualified name of the JUnit test class.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Constructor string</td>
<td>String pass to the string constructor. If a string is set, the sampler will use the
   string constructor instead of the empty constructor.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Test method</td>
<td>The method to test.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Success message</td>
<td>A descriptive message indicating what success means.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Success code</td>
<td>An unique code indicating the test was successful.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Failure message</td>
<td>A descriptive message indicating what failure means.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Failure code</td>
<td>An unique code indicating the test failed.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Error message</td>
<td>A description for errors.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Error code</td>
<td>Some code for errors. Does not need to be unique.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Do not call setUp and tearDown</td>
<td>Set the sampler not to call setUp and tearDown.
   By default, setUp and tearDown should be called. Not calling those methods could affect the test and make it inaccurate.
    This option should only be used with calling oneTimeSetUp and oneTimeTearDown. If the selected method is oneTimeSetUp or oneTimeTearDown,
     this option should be checked.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Append assertion errors</td>
<td>Whether or not to append assertion errors to the response message.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Append runtime exceptions</td>
<td>Whether or not to append runtime exceptions to the response message. Only applies if "Append assertion errors" is not selected.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Create a new Instance per sample</td>
<td>Whether or not to create a new JUnit instance for each sample. Defaults to false, meaning JUnit TestCase is created one and reused.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>

The following JUnit4 annotations are recognised:

<ul>


<li>
@Test - used to find test methods and classes. The "expected" and "timeout" attributes are supported.
</li>


<li>
@Before - treated the same as setUp() in JUnit3
</li>


<li>
@After - treated the same as tearDown() in JUnit3
</li>


<li>
@BeforeClass, @AfterClass - treated as test methods so they can be run independently as required
</li>


</ul>


</p>
<p>

Note that JMeter currently runs the test methods directly, rather than leaving it to JUnit.
This is to allow the setUp/tearDown methods to be excluded from the sample time. 

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Mail_Reader_Sampler">18.1.17 Mail Reader Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Mail Reader Sampler can read (and optionally delete) mail messages using POP3(S) or IMAP(S) protocols.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='547' height='409' src="../../docs/images/screenshots/mailreader_sampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server Type</td>
<td>The protocol used by the provider: e.g. pop3, pop3s, imap, imaps.
or another string representing the server protocol.
For example 
<code>
file
</code>
 for use with the read-only mail file provider.
The actual provider names for POP3 and IMAP are 
<code>
pop3
</code>
 and 
<code>
imap
</code>


</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Server</td>
<td>Hostname or IP address of the server. See below for use with 
<code>
file
</code>
 protocol.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port</td>
<td>Port to be used to connect to the server (optional)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Username</td>
<td>User login name
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>User login password (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Folder</td>
<td>The IMAP(S) folder to use. See below for use with 
<code>
file
</code>
 protocol.
</td>
<td>
Yes, if using IMAP(S)
</td>
</tr>
<tr>
<td>Number of messages to retrieve</td>
<td>Set this to retrieve all or some messages
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Fetch headers only</td>
<td>If selected, only the message headers will be retrieved.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Delete messages from the server</td>
<td>If set, messages will be deleted after retrieval
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Store the message using MIME</td>
<td>Whether to store the message as MIME. 
If so, then the entire raw message is stored in the Response Data; the headers are not stored as they are available in the data. 
If not, the message headers are stored as Response Headers. 
A few headers are stored (Date, To, From, Subject) in the body.

</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use no security features</td>
<td>Indicates that the connection to the server does not use any security protocol.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use SSL</td>
<td>Indicates that the connection to the server must use the SSL protocol.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use StartTLS</td>
<td>Indicates that the connection to the server should attempt to start the TLS protocol.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Enforce StartTLS</td>
<td>If the server does not start the TLS protocol the connection will be terminated.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Trust All Certificates</td>
<td>When selected it will accept all certificates independent of the CA.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use local truststore</td>
<td>When selected it will only accept certificates that are locally trusted.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Local truststore</td>
<td>Path to file containing the trusted certificates.
Relative paths are resolved against the current directory.

<br>

Failing that, against the directory containing the test script (JMX file).

</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>

Messages are stored as subsamples of the main sampler.
In versions of JMeter after 2.3.4, multipart message parts are stored as subsamples of the message.

</p>
<p>


<b>
Special handling for "file" protocol:
</b>
<br>


The 
<code>
file
</code>
 JavaMail provider can be used to read raw messages from files.
The 
<code>
server
</code>
 field is used to specify the path to the parent of the 
<code>
folder
</code>
.
Individual message files should be stored with the name 
<code>
n.msg
</code>
,
where 
<code>
n
</code>
 is the message number.
Alternatively, the 
<code>
server
</code>
 field can be the name of a file which contains a single message.
The current implementation is quite basic, and is mainly intended for debugging purposes. 

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Test_Action">18.1.18 Test Action</a>
</h3>
</font>
</td></tr>
<tr><td>

The Test Action sampler is a sampler that is intended for use in a conditional controller.
Rather than generate a sample, the test element eithers pauses or stops the selected target.

<p>
This sampler can also be useful in conjunction with the Transaction Controller, as it allows
pauses to be included without needing to generate a sample. 
For variable delays, set the pause time to zero, and add a Timer as a child.
</p>


<p>

The "Stop" action stops the thread or test after completing any samples that are in progress.
The "Stop Now" action stops the test without waiting for samples to complete; it will interrupt any active samples.
If some threads fail to stop within the 5 second time-limit, a message will be displayed in GUI mode.
You can try using the Stop command to see if this will stop the threads, but if not, you should exit JMeter.
In non-GUI mode, JMeter will exit if some threads fail to stop within the 5 second time limit.
[This can be changed using the JMeter property 
<code>
jmeterengine.threadstop.wait
</code>
]

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='467' height='184' src="../../docs/images/screenshots/test_action.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Target</td>
<td>Current Thread / All Threads (ignored for Pause)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Action</td>
<td>Pause / Stop / Stop Now / Go to next loop iteration
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Duration</td>
<td>How long to pause for (milliseconds)
</td>
<td>
Yes, if Pause is selected
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="SMTP_Sampler">18.1.19 SMTP Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The SMTP Sampler can send mail messages using SMTP/SMTPS protocol. 
It is possible to set security propocols for the connection (SSL and TLS), as well as user authentication. 
If a security protocol is used a verification on the server certificate will occur. 
<br>


Two alternatives to handle this verification are available:
<br>



<ul>


<li>
Trust all certificates. This will ignore certificate chain verification
</li>


<li>
Use a local truststore. With this option the certificate chain will be validated against the local truststore file.
</li>


</ul>


</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='825' height='728' src="../../docs/images/screenshots/smtp_sampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Server</td>
<td>Hostname or IP address of the server. See below for use with 
<code>
file
</code>
 protocol.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Port</td>
<td>Port to be used to connect to the server.
Defaults are: SMTP=25, SSL=465, StartTLS=587

</td>
<td>
No
</td>
</tr>
<tr>
<td>Connection timeout</td>
<td>Connection timeout value in milliseconds (socket level). Default is infinite timeout.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Read timeout</td>
<td>Read timeout value in milliseconds (socket level). Default is infinite timeout.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Address From</td>
<td>The from address that will appear in the e-mail
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Address To</td>
<td>The destination e-mail address (multiple values separated by ";")
</td>
<td>
Yes, unless CC or BCC is specified
</td>
</tr>
<tr>
<td>Address To CC</td>
<td>Carbon copy destinations e-mail address (multiple values separated by ";")
</td>
<td>
No
</td>
</tr>
<tr>
<td>Address To BCC</td>
<td>Blind carbon copy destinations e-mail address (multiple values separated by ";")
</td>
<td>
No
</td>
</tr>
<tr>
<td>Address Reply-To</td>
<td>Alternate Reply-To address (multiple values separated by ";")
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use Auth</td>
<td>Indicates if the SMTP server requires user authentication
</td>
<td>
No
</td>
</tr>
<tr>
<td>Username</td>
<td>User login name
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>User login password (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use no security features</td>
<td>Indicates that the connection to the SMTP server does not use any security protocol.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use SSL</td>
<td>Indicates that the connection to the SMTP server must use the SSL protocol.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use StartTLS</td>
<td>Indicates that the connection to the SMTP server should attempt to start the TLS protocol.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Enforce StartTLS</td>
<td>If the server does not start the TLS protocol the connection will be terminated.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Trust All Certificates</td>
<td>When selected it will accept all certificates independent of the CA.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use local truststore</td>
<td>When selected it will only accept certificates that are locally trusted.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Local truststore</td>
<td>Path to file containing the trusted certificates.
Relative paths are resolved against the current directory.

<br>

Failing that, against the directory containing the test script (JMX file).

</td>
<td>
No
</td>
</tr>
<tr>
<td>Subject</td>
<td>The e-mail message subject.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Suppress Subject Header</td>
<td>If selected, the "Subject:" header is omitted from the mail that is sent. 
This is different from sending an empty "Subject:" header, though some e-mail clients may display it identically.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Include timestamp in subject</td>
<td>Includes the System.currentTimemilis() in the subject line.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Add Header</td>
<td>Additional headers can be defined using this button.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Message</td>
<td>The message body.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Send plain body (i.e. not multipart/mixed)</td>
<td>
If selected, then send the body as a plain message, i.e. not multipart/mixed, if possible.
If the message body is empty and there is a single file, then send the file contents as the message body.
Note: If the message body is not empty, and there is at least one attached file, then the body is sent as multipart/mixed.

</td>
<td>
No
</td>
</tr>
<tr>
<td>Attach files</td>
<td>Files to be attached to the message.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Send .eml</td>
<td>If set, the .eml file will be sent instead of the entries in the Subject, Message, and Attached files
</td>
<td>
No
</td>
</tr>
<tr>
<td>Calculate message size</td>
<td>Calculates the message size and stores it in the sample result.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Enable debug logging?</td>
<td>If set, then the "mail.debug" property is set to "true"
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="OS_Process_Sampler">18.1.20 OS Process Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The OS Process Sampler is a sampler that can be used to execute commands on the local machine.
<br>


It should allow execution of any command that can be run from the command line.
<br>


Validation of the return code can be enabled, and the expected return code can be specified.
<br>



</p>


<p>

Note that OS shells generally provide command-line parsing. 
This varies between OSes, but generally the shell will split parameters on white-space.
Some shells expand wild-card file names; some don't.
The quoting mechanism also varies between OSes.
The sampler deliberately does not do any parsing or quote handling.
The command and its parameters must be provided in the form expected by the executable.
This means that the sampler settings will not be portable between OSes.

</p>


<p>

Many OSes have some built-in commands which are not provided as separate executables. 
For example the Windows DIR command is part of the command interpreter (CMD.EXE).
These built-ins cannot be run as independent programs, but have to be provided as arguments to the appropriate command interpreter.

</p>


<p>

For example, the Windows command-line: 
<b>
<code>
DIR C:\TEMP
</code>
</b>
 needs to be specified as follows:

<pre>

command:   CMD
Param 1:   /C
Param 2:   DIR
Param 3:   C:\TEMP

</pre>


</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='683' height='582' src="../../docs/images/screenshots/os_process_sampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Command</td>
<td>The program name to execute.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Working directory</td>
<td>Directory from which command will be executed, defaults to folder referenced by "user.dir" System property
</td>
<td>
No
</td>
</tr>
<tr>
<td>Command Parameters</td>
<td>Parameters passed to the program name.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Environment Parameters</td>
<td>Key/Value pairs added to environment when running command.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Standard input (stdin)</td>
<td>Name of file from which input is to be taken (STDIN).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Standard output (stdout</td>
<td>Name of output file for standard output (STDOUT). 
If omitted, output is captured and returned as the response data.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Standard error (stderr)</td>
<td>Name of output file for standard error (STDERR). 
If omitted, output is captured and returned as the response data.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Check Return Code</td>
<td>If checked, sampler will compare return code with Expected Return Code.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Expected Return Code</td>
<td>Expected return code for System Call, required if "Check Return Code" is checked.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Timeout</td>
<td>Timeout for command in milliseconds, defaults to 0, which means NO timeout.
If the timeout expires before the command finishes, JMeter will attempt to kill the OS process.

</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="MongoDB_Script">18.1.21 MongoDB Script</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This sampler lets you send an Request to a MongoDB.
</p>


<p>
Before using this you need to set up a

<a href="../usermanual/component_reference.html#MongoDB_Source_Config">MongoDB Source Config</a>
 Configuration element

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>This Element currently uses com.mongodb.DB#eval which takes a global write lock causing a performance impact on the database, see 
<a href="http://docs.mongodb.org/manual/reference/method/db.eval/">
db.eval()
</a>
. 
So it is better to avoid using this element for load testing and use JSR223+Groovy scripting using 
<a href="../api/org/apache/jmeter/protocol/mongodb/config/MongoDBHolder.html">
MongoDBHolder
</a>
 instead.
MongoDB Script is more suitable for functionnal testing or test setup (setup/teardown threads)
</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='847' height='635' src="../../docs/images/screenshots/mongodb-script.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this sampler that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>MongoDB Source</td>
<td>
        Name of the JMeter variable that the MongoDB connection is bound to.
        This must agree with the 'MongoDB Source' field of a MongoDB Source Config.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Database Name</td>
<td>Database Name, will be used in your script
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Username</td>
<td>
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>
        Mongo script as it would be used in MongoDB shell
        
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p><b>See Also:</b>
<ul>
<li><a href="../usermanual/component_reference.html#MongoDB_Source_Config">MongoDB Source Config</a>
</li>
</ul>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Ensure Variable Name is unique accross Test Plan.
</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="logic_controllers"><strong>18.2 Logic Controllers</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<br>
Logic Controllers determine the order in which Samplers are processed.



</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Simple_Controller">18.2.1 Simple Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
The Simple Logic Controller lets  you organize your Samplers and other
Logic Controllers.  Unlike other Logic Controllers, this controller provides no functionality beyond that of a
storage device.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='330' height='77' src="../../docs/images/screenshots/logic-controller/simple-controller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>
<a name="simple_controller_example"/>
<p><b>Using the Simple Controller</b></p>


<p>
<a href="../demos/SimpleTestPlan.jmx">
Download
</a>
 this example (see Figure 6).
In this example, we created a Test Plan that sends two Ant HTTP requests and two
Log4J HTTP requests.  We grouped the Ant and Log4J requests by placing them inside
Simple Logic Controllers.  Remember, the Simple Logic Controller has no effect on how JMeter
processes the controller(s) you add to it.  So, in this example, JMeter sends the requests in the
following order: Ant Home Page, Ant News Page, Log4J Home Page, Log4J History Page.
Note, the File Reporter
is configured to store the results in a file named "simple-test.dat" in the current directory.
</p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='546' height='222' src="../../docs/images/screenshots/logic-controller/simple-example.png"/><br>
<font size="-1">Figure 6 Simple Controller Example
</font></td></tr></table></p>



</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Loop_Controller">18.2.2 Loop Controller</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
If you add Generative or Logic Controllers to a Loop Controller, JMeter will
loop through them a certain number of times, in addition to the loop value you
specified for the Thread Group.  For example, if you add one HTTP Request to a
Loop Controller with a loop count of two, and configure the Thread Group loop
count to three, JMeter will send a total of 2 * 3 = 6 HTTP Requests.

</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='326' height='114' src="../../docs/images/screenshots/logic-controller/loop-controller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Loop Count</td>
<td>
                The number of times the subelements of this controller will be iterated each time
                through a test run.
                
<p>
<b>
Special Case:
</b>
 The Loop Controller embedded in the 
<a href="test_plan.html#thread_group">
Thread Group
</a>

                element behaves slightly differently.  Unless set to forever, it stops the test after
                the given number of iterations have been done.
</p>

                
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>When using a function in this field, be aware it may be evaluated multiple times. 
                Example using __Random will evaluate it to a different value for each child samplers of Loop Controller and result into unwanted behaviour.
</td></tr>
</table>
</p>
</td>
<td>
Yes, unless "Forever" is checked
</td>
</tr>
</table>
</p>
<a name="loop_example"/>
<p><b>Looping Example</b></p>



<p>
<a href="../demos/LoopTestPlan.jmx">
Download
</a>
 this example (see Figure 4).
In this example, we created a Test Plan that sends a particular HTTP Request
only once and sends another HTTP Request five times.
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='548' height='160' src="../../docs/images/screenshots/logic-controller/loop-example.png"/><br>
<font size="-1">Figure 4 - Loop Controller Example
</font></td></tr></table></p>



<p>
We configured the Thread Group for a single thread and a loop count value of
one. Instead of letting the Thread Group control the looping, we used a Loop
Controller.  You can see that we added one HTTP Request to the Thread Group and
another HTTP Request to a Loop Controller.  We configured the Loop Controller
with a loop count value of five.
</p>


<p>
JMeter will send the requests in the following order: Home Page, News Page,
News Page, News Page, News Page, and News Page. Note, the File Reporter
is configured to store the results in a file named "loop-test.dat" in the current directory.
</p>



</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Once_Only_Controller">18.2.3 Once Only Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
The Once Only Logic Controller tells JMeter to process the controller(s) inside it only once per Thread, and pass over any requests under it
during further iterations through the test plan.
</p>



<p>
The Once Only Controller will now execute always during the first iteration of any looping parent controller.  
Thus, if the Once Only Controller is placed under a Loop Controller specified to loop 5 times, then the Once Only Controller will execute only on the first iteration through the Loop Controller 
(ie, every 5 times).  
Note this means the Once Only Controller will still behave as previously expected if put under a Thread Group (runs only once per test per Thread), 
but now the user has more flexibility in the use of the Once Only Controller.
</p>



<p>
For testing that requires a login, consider placing the login request in this controller since each thread only needs
to login once to establish a session.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='330' height='78' src="../../docs/images/screenshots/logic-controller/once-only-controller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>
<a name="once_only_example"/>
<p><b>Once Only Example</b></p>


<p>
<a href="../demos/OnceOnlyTestPlan.jmx">
Download
</a>
 this example (see Figure 5).
In this example, we created a Test Plan that has two threads that send HTTP request.
Each thread sends one request to the Home Page, followed by three requests to the Bug Page.
Although we configured the Thread Group to iterate three times, each JMeter thread only
sends one request to the Home Page because this request lives inside a Once Only Controller.
</p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='348' height='131' src="../../docs/images/screenshots/logic-controller/once-only-example.png"/><br>
<font size="-1">Figure 5. Once Only Controller Example
</font></td></tr></table></p>


<p>
Each JMeter thread will send the requests in the following order: Home Page, Bug Page,
Bug Page, Bug Page. Note, the File Reporter is configured to store the results in a file named "loop-test.dat" in the current directory.
</p>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The behaviour of the Once Only controller under anything other than the 
Thread Group or a Loop Controller is not currently defined. Odd things may happen.
</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Interleave_Controller">18.2.4 Interleave Controller</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
If you add Generative or Logic Controllers to an Interleave Controller, JMeter will alternate among each of the
other controllers for each loop iteration. 
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='329' height='104' src="../../docs/images/screenshots/logic-controller/interleave-controller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>ignore sub-controller blocks</td>
<td>If checked, the interleave controller will treat sub-controllers like single request elements and only allow one request per controller at a time.  
</td>
<td>
No
</td>
</tr>
</table>
</p>
<a name="simple_interleave_example"/>
<p><b>Simple Interleave Example</b></p>



<p>
<a href="../demos/InterleaveTestPlan.jmx">
Download
</a>
 this example (see Figure 1).  In this example,
we configured the Thread Group to have two threads and a loop count of five, for a total of ten
requests per thread. See the table below for the sequence JMeter sends the HTTP Requests.
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='336' height='153' src="../../docs/images/screenshots/logic-controller/interleave.png"/><br>
<font size="-1">Figure 1 - Interleave Controller Example 1
</font></td></tr></table></p>



<table>
<tr>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Loop Iteration
</font>
</td>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Each JMeter Thread Sends These HTTP Requests
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
1
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
News Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
1
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Log Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
2
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
FAQ Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
2
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Log Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
3
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Gump Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
3
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Log Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
4
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Because there are no more requests in the controller,<br>  JMeter starts over and sends the first HTTP Request, which is the News Page.
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
4
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Log Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
5
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
FAQ Page
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
5
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Log Page
</font>
</td>
</tr>
</table>




<a name="useful_interleave_example"/>
<p><b>Useful Interleave Example</b></p>



<p>
<a href="../demos/InterleaveTestPlan2.jmx">
Download
</a>
 another example (see Figure 2).  In this
example, we configured the Thread Group
to have a single thread and a loop count of eight.  Notice that the Test Plan has an outer Interleave Controller with
two Interleave Controllers inside of it.
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='207' height='249' src="../../docs/images/screenshots/logic-controller/interleave2.png"/><br>
<font size="-1">
        Figure 2 - Interleave Controller Example 2

</font></td></tr></table></p>



<p>
The outer Interleave Controller alternates between the
two inner ones.  Then, each inner Interleave Controller alternates between each of the HTTP Requests.  Each JMeter
thread will send the requests in the following order: Home Page, Interleaved, Bug Page, Interleaved, CVS Page, Interleaved, and FAQ Page, Interleaved.
Note, the File Reporter is configured to store the results in a file named "interleave-test2.dat" in the current directory.
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='204' height='247' src="../../docs/images/screenshots/logic-controller/interleave3.png"/><br>
<font size="-1">
        Figure 3 - Interleave Controller Example 3

</font></td></tr></table></p>


<p>
If the two interleave controllers under the main interleave controller were instead simple controllers, then the order would be: Home Page, CVS Page, Interleaved, Bug Page, FAQ Page, Interleaved.  However, if "ignore sub-controller blocks" was checked on the main interleave controller, then the order would be: Home Page, Interleaved, Bug Page, Interleaved, CVS Page, Interleaved, and FAQ Page, Interleaved.
</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Random_Controller">18.2.5 Random Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
The Random Logic Controller acts similarly to the Interleave Controller, except that
instead of going in order through its sub-controllers and samplers, it picks one
at random at each pass.
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Interactions between multiple controllers can yield complex behavior.
This is particularly true of the Random Controller.  Experiment before you assume
what results any given interaction will give
</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='328' height='100' src="../../docs/images/screenshots/logic-controller/random-controller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Random_Order_Controller">18.2.6 Random Order Controller</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>
The Random Order Controller is much like a Simple Controller in that it will execute each child
         element at most once, but the order of execution of the nodes will be random.
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='328' height='76' src="../../docs/images/screenshots/randomordercontroller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Throughput_Controller">18.2.7 Throughput Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>


<b>
This controller is badly named, as it does not control throughput.
</b>

Please refer to the 
<a href="../usermanual/component_reference.html#Constant_Throughput_Timer">Constant Throughput Timer</a>
 for an element that can be used to adjust the throughput.

</p>


<p>
The Throughput Controller allows the user to control how often it is executed.  There are two modes - percent execution and total executions.  Percent executions causes the controller to execute a certain percentage of the iterations through the test plan.  Total
executions causes the controller to stop executing after a certain number of executions have occurred.  Like the Once Only Controller, this
setting is reset when a parent Loop Controller restarts.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='329' height='167' src="../../docs/images/screenshots/throughput_controller.png"/></div>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The Throughput Controller can yield very complex behavior when combined with other controllers - in particular with interleave or random controllers as parents (also very useful).
</td></tr>
</table>
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Execution Style</td>
<td>Whether the controller will run in percent executions or total executions mode.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Throughput</td>
<td>A number.  for percent execution mode, a number from 0-100 that indicates the percentage of times the controller will execute.  "50" means the controller will execute during half the iterations throught the test plan.  for total execution mode, the number indicates the total number of times the controller will execute.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Per User</td>
<td>If checked, per user will cause the controller to calculate whether it should execute on a per user (per thread) basis.  if unchecked, then the calculation will be global for all users.  for example, if using total execution mode, and uncheck "per user", then the number given for throughput will be the total number of executions made.  if "per user" is checked, then the total number of executions would be the number of users times the number given for throughput.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Runtime_Controller">18.2.8 Runtime Controller</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>
The Runtime Controller controls how long its children are allowed to run.
        
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='328' height='100' src="../../docs/images/screenshots/runtimecontroller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree, and used to name the transaction.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Runtime (seconds)</td>
<td>Desired runtime in seconds
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="If_Controller">18.2.9 If Controller</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>
The If Controller allows the user to control whether the test elements below it (its children) are run or not.
</p>

        
<p>

        Prior to JMeter 2.3RC3, the condition was evaluated for every runnable element contained in the controller.
        This sometimes caused unexpected behaviour, so 2.3RC3 was changed to evaluate the condition only once on initial entry.
        However, the original behaviour is also useful, so versions of JMeter after 2.3RC4 have an additional
        option to select the original behaviour.
        
</p>

        
<p>

        Versions of JMeter after 2.3.2 allow the script to be processed as a variable expression, rather than requiring Javascript.
        It was always possible to use functions and variables in the Javascript condition, so long as they evaluated to "true" or "false";
        now this can be done without the overhead of using Javascript as well. For example, previously one could use the condition:
        
<code>
${__jexl(${VAR} == 23)}
</code>
 and this would be evaluated as true/false, the result would then be passed to Javascript
        which would then return true/false. If the Variable Expression option is selected, then the expression is evaluated
        and compared with "true", without needing to use Javascript. 
        Also, variable expressions can return any value, whereas the
        Javascript condition must return "true"/"false" or an error is logged.
        
</p>

        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
        No variables are made available to the script when the condition is interpreted as Javascript.
        If you need access to such variables, then select "Interpret Condition as Variable Expression?" and use
        a __javaScript() function call. You can then use the objects "vars", "log", "ctx" etc. in the script.
        
</td></tr>
</table>
</p>

        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
        To test if a variable is undefined (or null) do the following, suppose var is named myVar, expression will be:
        
<br>


        
<code>
"${myVar}" == "\${myVar}"
</code>

        
<br>


        Or use:
        
<br>


        
<code>
"${myVar}" != "\${myVar}"
</code>

        
<br>


        to test if a variable is defined and is not null.
        
</td></tr>
</table>
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='497' height='131' src="../../docs/images/screenshots/ifcontroller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Condition (default Javascript)</td>
<td>By default the condition is interpreted as 
<b>
Javascript
</b>
 code that returns "true" or "false",
    but this can be overriden (see below)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Interpret Condition as Variable Expression?</td>
<td>If this is selected, then the condition must be an expression that evaluates to "true" (case is ignored).
    For example, 
<code>
${FOUND}
</code>
 or 
<code>
${__jexl(${VAR} > 100)}
</code>
.
    Unlike the Javascript case, the condition is only checked to see if it matches "true" (case is ignored). 
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Evaluate for all children</td>
<td>
    Should condition be evaluated for all children?
    If not checked, then the condition is only evaluated on entry.
    
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
<b>
Examples (Javascript):
</b>

        
<ul>

            
<li>
${COUNT} < 10
</li>

            
<li>
"${VAR}" == "abcd"
</li>

            
<li>
${JMeterThread.last_sample_ok} (check if last sample succeeded)
</li>

        
</ul>

        If there is an error interpreting the code, the condition is assumed to be false, and a message is logged in jmeter.log.
    
</p>
<p>
<b>
Examples (Variable Expression):
</b>

        
<ul>

            
<li>
${__jexl(${COUNT} < 10)}
</li>

            
<li>
${RESULT}
</li>

        
</ul>

    
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="While_Controller">18.2.10 While Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The While Controller runs its children until the condition is "false".

</p>



<p>
Possible condition values:
</p>


<ul>


<li>
blank - exit loop when last sample in loop fails
</li>


<li>
LAST - exit loop when last sample in loop fails. 
If the last sample just before the loop failed, don't enter loop.
</li>


<li>
Otherwise - exit (or don't enter) the loop when the condition is equal to the string "false"
</li>


</ul>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
The condition can be any variable or function that eventually evaluates to the string "false". 
This allows the use of JavaScript, BeanShell, properties or variables as needed.

</td></tr>
</table>
</p>


<br>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Note that the is evaluated twice, once before starting sampling children and once at end of children sampling, so putting
non idempotent functions in Condition (like __counter) can introduce issues.

</td></tr>
</table>
</p>


<br>


For example:

<ul>

    
<li>
${VAR} - where VAR is set to false by some other test element
</li>

    
<li>
${__javaScript(${C}==10)}
</li>

    
<li>
${__javaScript("${VAR2}"=="abcd")}
</li>

    
<li>
${_P(property)} - where property is set to "false" somewhere else
</li>


</ul>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='362' height='102' src="../../docs/images/screenshots/whilecontroller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree, and used to name the transaction.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Condition</td>
<td>blank, LAST, or variable/function
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Switch_Controller">18.2.11 Switch Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Switch Controller acts like the 
<a href="../usermanual/component_reference.html#Interleave_Controller">Interleave Controller</a>
 
in that it runs one of the subordinate elements on each iteration, but rather than
run them in sequence, the controller runs the element defined by the switch value.

</p>


<p>

Note: In versions of JMeter after 2.3.1, the switch value can also be a name.

</p>


<p>
If the switch value is out of range, it will run the zeroth element, 
which therefore acts as the default for the numeric case.
It also runs the zeroth element if the value is the empty string.
</p>


<p>

If the value is non-numeric (and non-empty), then the Switch Controller looks for the
element with the same name (case is significant).
If none of the names match, then the element named "default" (case not significant) is selected.
If there is no default, then no element is selected, and the controller will not run anything.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='361' height='106' src="../../docs/images/screenshots/switchcontroller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree, and used to name the transaction.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Switch Value</td>
<td>The number (or name) of the subordinate element to be invoked. Elements are numbered from 0.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="ForEach_Controller">18.2.12 ForEach Controller</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
A ForEach controller loops through the values of a set of related variables. 
When you add samplers (or controllers) to a ForEach controller, every sample sample (or controller)
is executed one or more times, where during every loop the variable has a new value.
The input should consist of several variables, each extended with an underscore and a number.
Each such variable must have a value.
So for example when the input variable has the name inputVar, the following variables should have been defined:
        
<ul>

        
<li>
inputVar_1 = wendy
</li>

        
<li>
inputVar_2 = charles
</li>

        
<li>
inputVar_3 = peter
</li>

        
<li>
inputVar_4 = john
</li>

        
</ul>

        
<p>
Note: the "_" separator is now optional.
</p>

When the return variable is given as "returnVar", the collection of samplers and controllers under the ForEach controller will be executed 4 consecutive times,
with the return variable having the respective above values, which can then be used in the samplers.

</p>


<p>

It is especially suited for running with the regular expression post-processor. 
This can "create" the necessary input variables out of the result data of a previous request.
By omitting the "_" separator, the ForEach Controller can be used to loop through the groups by using
the input variable refName_g, and can also loop through all the groups in all the matches
by using an input variable of the form refName_${C}_g, where C is a counter variable.

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The ForEach Controller does not run any samples if inputVar_1 is null.
This would be the case if the Regular Expression returned no matches.
</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='342' height='193' src="../../docs/images/screenshots/logic-controller/foreach-controller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Input variable prefix</td>
<td>Prefix for the variable names to be used as input.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Start index for loop</td>
<td>Start index (exclusive) for loop over variables (first element is at start index + 1)
</td>
<td>
No
</td>
</tr>
<tr>
<td>End index for loop</td>
<td>End index (inclusive) for loop over variables
</td>
<td>
No
</td>
</tr>
<tr>
<td>Output variable</td>
<td>
                The name of the variable which can be used in the loop for replacement in the samplers
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use Separator</td>
<td>If not checked, the "_" separator is omitted.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<a name="foreach_example"/>
<p><b>ForEach Example</b></p>



<p>
<a href="../demos/forEachTestPlan.jmx">
Download
</a>
 this example (see Figure 7).
In this example, we created a Test Plan that sends a particular HTTP Request
only once and sends another HTTP Request to every link that can be found on the page.
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='246' height='154' src="../../docs/images/screenshots/logic-controller/foreach-example.png"/><br>
<font size="-1">Figure 7 - ForEach Controller Example
</font></td></tr></table></p>



<p>
We configured the Thread Group for a single thread and a loop count value of
one. You can see that we added one HTTP Request to the Thread Group and
another HTTP Request to the ForEach Controller.
</p>


<p>
After the first HTTP request, a regular expression extractor is added, which extracts all the html links
out of the return page and puts them in the inputVar variable
</p>


<p>
In the ForEach loop, a HTTP sampler is added which requests all the links that were extracted from the first returned HTML page.

</p>
<a name="foreach_example2"/>
<p><b>ForEach Example</b></p>


<p>
Here is 
<a href="../demos/ForEachTest2.jmx">
another example
</a>
 you can download. 
This has two Regular Expressions and ForEach Controllers.
The first RE matches, but the second does not match, 
so no samples are run by the second ForEach Controller
</p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='198' height='253' src="../../docs/images/screenshots/logic-controller/foreach-example2.png"/><br>
<font size="-1">Figure 8 - ForEach Controller Example 2
</font></td></tr></table></p>


<p>
The Thread Group has a single thread and a loop count of two.

</p>
<p>

Sample 1 uses the JavaTest Sampler to return the string "a b c d".

</p>
<p>
The Regex Extractor uses the expression 
<b>
(\w)\s
</b>
 which matches a letter followed by a space,
and returns the letter (not the space). Any matches are prefixed with the string "inputVar".

</p>
<p>
The ForEach Controller extracts all variables with the prefix "inputVar_", and executes its
sample, passing the value in the variable "returnVar". In this case it will set the variable to the values "a" "b" and "c" in turn.

</p>
<p>
The For 1 Sampler is another Java Sampler which uses the return variable "returnVar" as part of the sample Label
and as the sampler Data.

</p>
<p>
Sample 2, Regex 2 and For 2 are almost identical, except that the Regex has been changed to "(\w)\sx",
which clearly won't match. Thus the For 2 Sampler will not be run.

</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Module_Controller">18.2.13 Module Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Module Controller provides a mechanism for substituting test plan fragments into the current test plan at run-time.

</p>


<p>

A test plan fragment consists of a Controller and all the test elements (samplers etc) contained in it. 
The fragment can be located in any Thread Group, or on the 
<a href="../usermanual/component_reference.html#WorkBench">WorkBench</a>
.
If the fragment is located in a Thread Group, then its Controller can be disabled to prevent the fragment being run
except by the Module Controller. 
Or you can store the fragments in a dummy Thread Group, and disable the entire Thread Group. 

</p>


<p>

There can be multiple fragments, each with a different series of
samplers under them.  The module controller can then be used to easily switch between these multiple test cases simply by choosing
the appropriate controller in its drop down box.  This provides convenience for running many alternate test plans quickly and easily.

</p>


<p>

A fragment name is made up of the Controller name and all its parent names.
For example:

<pre>

Test Plan / Protocol: JDBC / Control / Interleave Controller (Module1)

</pre>

Any 
<b>
fragments used by the Module Controller must have a unique name
</b>
,
as the name is used to find the target controller when a test plan is reloaded.
For this reason it is best to ensure that the Controller name is changed from the default
- as shown in the example above -
otherwise a duplicate may be accidentally created when new elements are added to the test plan. 

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='504' height='217' src="../../docs/images/screenshots/module_controller.png"/></div>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The Module Controller should not be used with remote testing or non-gui testing in conjunction with Workbench components since the Workbench test elements are not part of test plan .jmx files.  Any such test will fail.
</td></tr>
</table>
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Module to Run</td>
<td>The module controller provides a list of all controllers loaded into the gui.  Select
        the one you want to substitute in at runtime.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Include_Controller">18.2.14 Include Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The include controller is designed to use an external jmx file. To use it, create a Test Fragment 
underneath the Test Plan and add any desired samplers, controllers etc. below it.
Then save the Test Plan.  The file is now ready to be included as part of other Test Plans.

</p>


<p>

For convenience, a Thread Group can also be added in the external JMX file for debugging purposes.
A Module Controller can be used to reference the Test Fragment.  The Thread Group will be ignored during the 
include process.

</p>


<p>

If the test uses a Cookie Manager or User Defined Variables, these should be placed in the top-level
test plan, not the included file, otherwise they are not guaranteed to work.

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
This element does not support variables/functions in the filename field.
<br>


However, if the property 
<b>
includecontroller.prefix
</b>
 is defined, 
the contents are used to prefix the pathname.

</td></tr>
</table>
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
When using IncludeController and including the same JMX file, ensure you name the IncludeController differently to avoid facing known issue 
<a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=50898">Bug 50898</a>
.

</td></tr>
</table>
</p>


<p>

If the file cannot be found at the location given by prefix+filename, then the controller
attempts to open the fileName relative to the JMX launch directory (versions of JMeter after 2.3.4).

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='417' height='130' src="../../docs/images/screenshots/includecontroller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Filename</td>
<td>The file to include.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Transaction_Controller">18.2.15 Transaction Controller</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>

        The Transaction Controller generates an additional
        sample which measures the overall time taken to perform the nested test elements.
        
</p>

        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
        Note: when the check box "Include duration of timer and pre-post processors in generated sample" is checked,
        the time includes all processing within the controller scope, not just the samples.
        
</td></tr>
</table>
</p>

        
<p>

        For JMeter versions after 2.3, there are two modes of operation
        
<ul>

        
<li>
additional sample is added after the nested samples
</li>

        
<li>
additional sample is added as a parent of the nested samples
</li>

        
</ul>

        
</p>

        
<p>

        The generated sample time includes all the times for the nested samplers, 
<b>
and any timers etc.
</b>

        Depending on the clock resolution, it may be slightly longer than the sum of the individual samplers plus timers.
        The clock might tick after the controller recorded the start time but before the first sample starts.
        Similarly at the end.
        
</p>

        
<p>
The generated sample is only regarded as successful if all its sub-samples are successful.
</p>

        
<p>

        In parent mode, the individual samples can still be seen in the Tree View Listener,
        but no longer appear as separate entries in other Listeners.
        Also, the sub-samples do not appear in CSV log files, but they can be saved to XML files.
        
</p>

        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
        In parent mode, Assertions (etc) can be added to the Transaction Controller.
        However by default they will be applied to both the individual samples and the overall transaction sample.
        To limit the scope of the Assertions, use a Simple Controller to contain the samples, and add the Assertions
        to the Simple Controller.
        Parent mode controllers do not currently properly support nested transaction controllers of either type.
        
</td></tr>
</table>
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='622' height='140' src="../../docs/images/screenshots/transactioncontroller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree, and used to name the transaction.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Generate Parent Sample</td>
<td>
    If checked, then the sample is generated as a parent of the other samples,
    otherwise the sample is generated as an independent sample.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Include duration of timer and pre-post processors in generated sample</td>
<td>
    Whether to include timer, pre- and post-processing delays in the generated sample.
    Default is false (since JMeter 2.11, in previous versions the default value is true).
    
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Recording_Controller">18.2.16 Recording Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
The Recording Controller is a place holder indicating where the proxy server should
record samples to.  During test run, it has no effect, similar to the Simple Controller.  But during
recording using the 
<a href="../usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder">HTTP(S) Test Script Recorder</a>
, all recorded samples will by default
be saved under the Recording Controller.
</p>



<p><b>Control Panel</b></p>
<div align="center"><img width='420' height='79' src="../../docs/images/screenshots/logic-controller/recording-controller.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this controller that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Critical_Section_Controller">18.2.17 Critical Section Controller</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
The Critical Section Controller ensures that its children elements (samplers/controllers, etc) will be executed
by only one thread as a named lock will be taken before executing children of controller.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='469' height='129' src="../../docs/images/screenshots/logic-controller/critical-section-controller.png"/></div>
<p>

    The figure below shows an example of using Critical Section Controller, in the figure below 2 Critical Section Controllers ensure
    that:
    
<ul>

        
<li>
DS2-${__threadNum} is executed only by one thread at a time
</li>

        
<li>
DS4-${__threadNum} is executed only by one thread at a time
</li>

    
</ul>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='248' height='241' src="../../docs/images/screenshots/logic-controller/critical-section-controller-tp.png"/><br>
<font size="-1">Test Plan using Critical Section Controller
</font></td></tr></table></p>


</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Lock Name</td>
<td>Lock that will be taken by controller, ensure you use different lock names for unrelated sections
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Critical Section Controller takes locks only within one JVM, so if using Distributed testing ensure your use case does not rely on all threads of all JVMs blocking.

</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="listeners"><strong>18.3 Listeners</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<br>


Most of the listeners perform several roles in addition to "listening"
to the test results.  
They also provide means to view, save, and read saved test results.

<p>
Note that Listeners are processed at the end of the scope in which they are found.
</p>


<p>

The saving and reading of test results is generic.  The various
listeners have a panel whereby one can specify the file to
which the results will be written (or read from).
By default, the results are stored as XML
files, typically with a ".jtl" extension.
Storing as CSV is the most efficient option, but is less detailed than XML (the other available option).

</p>


<p>


<b>
Listeners do 
<i>
not
</i>
 process sample data in non-GUI mode, but the raw data will be saved if an output
file has been configured.
</b>

In order to analyse the data generated by a non-GUI test run, you need to load the file into the appropriate
Listener.

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
To read existing results and display them, use the file panel Browse button to open the file.

</td></tr>
</table>
</p>


<p>

Versions of JMeter up to 2.3.2 
<b>
used to clear any current data
</b>
 before loading the new file.
<br>


This is no longer done, thus 
<b>
allowing files to be merged
</b>
.
If the previous behaviour is required, 
use the menu item Run/Clear (Ctrl+Shift+E) or Run/Clear All (Ctrl+E) before loading the file.

</p>


<p>
Results can be read from XML or CSV format files.
When reading from CSV results files, the header (if present) is used to determine which fields are present.

<b>
In order to interpret a header-less CSV file correctly, the appropriate properties must be set in jmeter.properties.
</b>


</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
The file name can contain function and/or variable references.
However variable references do not work in client-server mode (functions work OK).

</td></tr>
</table>
</p>


<p>
<b>
Listeners can use a lot of memory if there are a lot of samples.
</b>

Most of the listeners currently keep a copy of every sample in their scope, apart from:

</p>


<ul>


<li>
Simple Data Writer
</li>


<li>
BeanShell/BSF Listener
</li>


<li>
Mailer Visualizer
</li>


<li>
Monitor Results
</li>


<li>
Summary Report
</li>


</ul>


<p>

The following Listeners no longer need to keep copies of every single sample.
Instead, samples with the same elapsed time are aggregated.
Less memory is now needed, especially if most samples only take a second or two at most.

</p>


<ul>


<li>
Aggregate Report
</li>


<li>
Aggregate Graph
</li>


<li>
Distribution Graph
</li>


</ul>


<p>
To minimise the amount of memory needed, use the Simple Data Writer, and use the CSV format.
</p>


<p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Versions of JMeter after 2.3.1 allow JMeter variables to be saved to the output files.
This can only be specified using a property.
See the 
<a href="listeners.html#sample_variables">
Listener Sample Variables
</a>
 for details

</td></tr>
</table>
</p>

For full details on setting up the default items to be saved
see the 
<a href="listeners.html#defaults">
Listener Default Configuration
</a>
 documentation.
For details of the contents of the output files,
see the 
<a href="listeners.html#csvlogformat">
CSV log
</a>
 format or
the 
<a href="listeners.html#xmlformat2.1">
XML log
</a>
 format.

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The entries in jmeter.properties are used to define the defaults; 
these can be overriden for individual listeners by using the Configure button,
as shown below. 
The settings in jmeter.properties also apply to the listener that is added
by using the -l command-line flag.

</td></tr>
</table>
</p>


<p>

    The figure below shows an example of the result file configuration panel

<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='741' height='141' src="../../docs/images/screenshots/simpledatawriter.png"/><br>
<font size="-1">Result file configuration panel
</font></td></tr></table></p>


</p>


<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Filename</td>
<td>Name of the file containing sample results.
        The file name can be specified using either a relative or an absolute path name.
        Relative paths are resolved relative to the current working directory (which defaults to the bin/ directory).
        Versions of JMeter after 2.4 also support paths relative to the directory containing the current test plan (JMX file).
        If the path name begins with "~/" (or whatever is in the jmeter.save.saveservice.base_prefix JMeter property),
        then the path is assumed to be relative to the JMX file location. 
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Browse...</td>
<td>File Browse Button
</td>
<td>
No
</td>
</tr>
<tr>
<td>Errors</td>
<td>Select this to write/read only results with errors
</td>
<td>
No
</td>
</tr>
<tr>
<td>Successes</td>
<td>Select this to write/read only results without errors.
        If neither Errors nor Successes is selected, then all results are processed.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Configure</td>
<td>Configure Button, see below
</td>
<td>
No
</td>
</tr>
</table>
</p>


</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Sample_Result_Save_Configuration">18.3.1 Sample Result Save Configuration</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

Listeners can be configured to save different items to the result log files (JTL) by using the Config popup as shown below.
The defaults are defined as described in  the 
<a href="listeners.html#defaults">
Listener Default Configuration
</a>
 documentation.
Items with (CSV) after the name only apply to the CSV format; items with (XML) only apply to XML format.
CSV format cannot currently be used to save any items that include line-breaks.

</p>


<p>

Note that cookies, method and the query string are saved as part of the "Sampler Data" option.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='629' height='300' src="../../docs/images/screenshots/sample_result_config.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Graph_Results">18.3.3 Graph Results</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Graph Results MUST NOT BE USED during load test as it consumes a lot of resources (memory and CPU). Use it only for either functional testing or 
during Test Plan debugging and Validation.

</td></tr>
</table>
</p>


<p>
The Graph Results listener generates a simple graph that plots all sample times.  Along
the bottom of the graph, the current sample (black), the current average of all samples(blue), the
current standard deviation (red), and the current throughput rate (green) are displayed in milliseconds.
</p>


<p>
The throughput number represents the actual number of requests/minute the server handled.  This calculation
includes any delays you added to your test and JMeter's own internal processing time.  The advantage
of doing the calculation like this is that this number represents something
real - your server in fact handled that many requests per minute, and you can increase the number of threads
and/or decrease the delays to discover your server's maximum throughput.  Whereas if you made calculations
that factored out delays and JMeter's processing, it would be unclear what you could conclude from that
number.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='915' height='686' src="../../docs/images/screenshots/graph_results.png"/></div>
<p>
The following table briefly describes the items on the graph. 
Further details on the precise meaning of the statistical terms can be found on the web
 - e.g. Wikipedia - or by consulting a book on statistics.
 
</p>
<ul>

 
<li>
Data - plot the actual data values
</li>

 
<li>
Average - plot the Average
</li>

 
<li>
Median - plot the 
<a href="glossary.html#Median">
Median
</a>
 (midway value)
</li>

 
<li>
Deviation - plot the 
<a href="glossary.html#StandardDeviation">
Standard Deviation
</a>
 (a measure of the variation)
</li>

 
<li>
Throughput - plot the number of samples per unit of time
</li>

 
</ul>
<p>
The individual figures at the bottom of the display are the current values. 
 "Latest Sample" is the current elapsed sample time, shown on the graph as "Data".
</p>
<p>
The value displayed on the top left of graph is the max of 90th percentile of response time.
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Spline_Visualizer">18.3.4 Spline Visualizer</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Spline Visualizer MUST NOT BE USED during load test as it consumes a lot of resources (memory and CPU). Use it only for either functional testing or 
during Test Plan debugging and Validation.

</td></tr>
</table>
</p>


<p>

The Spline Visualizer provides a view of all sample times from the start
of the test till the end, regardless of how many samples have been taken.  The spline
has 10 points, each representing 10% of the samples, and connected using spline
logic to show a single continuous line.

</p>


<p>

The graph is automatically scaled to fit within the window.
This needs to be borne in mind when comparing graphs.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='737' height='489' src="../../docs/images/screenshots/spline_visualizer.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Assertion_Results">18.3.5 Assertion Results</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Assertion Results MUST NOT BE USED during load test as it consumes a lot of resources (memory and CPU). Use it only for either functional testing or 
during Test Plan debugging and Validation.

</td></tr>
</table>
</p>


<p>
The Assertion Results visualizer shows the Label of each sample taken.
It also reports failures of any 
<a href="test_plan.html#assertions">
Assertions
</a>
 that
are part of the test plan.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='954' height='365' src="../../docs/images/screenshots/assertion_results.png"/></div>
<p><b>See Also:</b>
<ul>
<li><a href="../usermanual/component_reference.html#Response_Assertion">Response Assertion</a>
</li>
</ul>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="View_Results_Tree">18.3.6 View Results Tree</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
View Results Tree MUST NOT BE USED during load test as it consumes a lot of resources (memory and CPU). Use it only for either functional testing or 
during Test Plan debugging and Validation.

</td></tr>
</table>
</p>

The View Results Tree shows a tree of all sample responses, allowing you to view the
response for any sample.  In addition to showing the response, you can see the time it took to get
this response, and some response codes.
Note that the Request panel only shows the headers added by JMeter.
It does not show any headers (such as Host) that may be added by the HTTP protocol implementation.

<p>

There are several ways to view the response, selectable by a drop-down box at the bottom of the left hand panel.
</p>



<table>
<tr>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>Renderer</b>
</font>
</td>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>Description</b>
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>CSS/JQuery Tester</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
The <i>CSS/JQuery Tester</i> only works for text responses. It shows the plain text in the upper panel.
The "Test" button allows the user to apply the CSS/JQuery to the upper panel and the results
will be displayed in the lower panel.<br />
The engine of CSS/JQuery expression can be JSoup or Jodd, syntax of these 2 implementation differs slightly.<br />
For example, the Selector <b>a[class=sectionlink]</b> with attribute <b>href</b> applied to the current JMeter functions page gives the following output:
<br />
<pre>
Match count: 74
Match[1]=#functions
Match[2]=#what_can_do
Match[3]=#where
Match[4]=#how
Match[5]=#function_helper
Match[6]=#functions
Match[7]=#__regexFunction
Match[8]=#__regexFunction_parms
Match[9]=#__counter
... and so on ...
</pre>
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>Document</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
The <i>Document view</i> will show the extract text from various type of documents like Microsoft Office
(Word, Excel, PowerPoint 97-2003, 2007-2010 (openxml), Apache OpenOffice (writer, calc, impress), HTML,
gzip, jar/zip files (list of content), and some meta-data on "multimedia" files like mp3, mp4, flv, etc. The complete list of 
support format is available on <a href="http://tika.apache.org/1.2/formats.html">Apache Tika format page.</a>
<br /><br />
<b>Note:</b> A requirement to the <i>Document view</i> is to download the <a href="http://tika.apache.org/download.html">
Apache Tika binary package</a> (tika-app-x.x.jar) and put this in JMETER_HOME/lib directory.
<br /><br />
If the document is larger than 10 MB, then it won't be displayed.
To change this limit, set the JMeter property <b>document.max_size</b> (unit is byte) or set to 0 to remove the limit.
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>HTML</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
The <i>HTML view</i> attempts to render the response as
HTML.  The rendered HTML is likely to compare poorly to the view one
would get in any web browser; however, it does provide a quick
approximation that is helpful for initial result evaluation.<br />
Images, style-sheets, etc. aren't downloaded. 
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>HTML (download resources)</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
If the <i>HTML (download resources) view</i> option is selected, the renderer
may download images, style-sheets, etc. referenced by the HTML code. 
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>JSON</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
The <i>JSON view</i> will show the response in tree style (also handles JSON embedded in JavaScript).
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>Regexp Tester</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
The <i>Regexp Tester view</i> only works for text responses. It shows the plain text in the upper panel.
The "Test" button allows the user to apply the Regular Expression to the upper panel and the results
will be displayed in the lower panel.<br />
The engine of regular expression is the same that the Regular Expression Extractor.<br />
For example, the RE <b>(JMeter\w*).*</b> applied to the current JMeter home page gives the following output:
<br />
<pre>
Match count: 26
Match[1][0]=JMeter - Apache JMeter&amp;lt;/title&gt;
Match[1][1]=JMeter
Match[2][0]=JMeter" title="JMeter" border="0"/&gt;&amp;lt;/a&gt;
Match[2][1]=JMeter
Match[3][0]=JMeterCommitters"&gt;Contributors&amp;lt;/a&gt;
Match[3][1]=JMeterCommitters
... and so on ...
</pre>
<br />
The first number in [] is the match number; the second number is the group. 
Group [0] is whatever matched the whole RE.
Group [1] is whatever matched the 1st group, i.e. (JMeter\w*) in this case.
See Figure 9b (below).
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>Text</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">

The default <i>Text view</i> shows all of the text contained in the response. 
Note that this will only work if the response content-type is considered to be text.
If the content-type begins with any of the following, it is considered as binary,
otherwise it is considered to be text.
<pre>
image/
audio/
video/
</pre>
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>XML</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
The <i>XML view</i> will show response in tree style. 
Any DTD nodes or Prolog nodes will not show up in tree; however, response may contain those nodes.
<br />
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
<b>XPath Tester</b>
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
The <i>XPath Tester</i> only works for text responses. It shows the plain text in the upper panel.
The "Test" button allows the user to apply the XPath query to the upper panel and the results
will be displayed in the lower panel.<br />

</font>
</td>
</tr>
</table>


<p>
<i>
Scroll automatically?
</i>
 option permit to have last node display in tree selection
</p>


<p>

With 
<i>
Search
</i>
 option, most of the views also allow the displayed data to be searched; the result of the search will be high-lighted
in the display above. For example the Control panel screenshot below shows one result of searching for "Java".
Note that the search operates on the visible text, so you may get different results when searching
the Text and HTML views.

<br>

Note: The regular expression uses the Java engine (not ORO engine like the Regular Expression Extractor or Regexp Tester view).

</p>


<p>

If there is no content-type provided, then the content
will not be displayed in the any of the Response Data panels.
You can use 
<a href="../usermanual/component_reference.html#Save_Responses_to_a_file">Save Responses to a file</a>
 to save the data in this case.
Note that the response data will still be available in the sample result,
so can still be accessed using Post-Processors.

</p>


<p>
If the response data is larger than 200K, then it won't be displayed.
To change this limit, set the JMeter property 
<b>
view.results.tree.max_size
</b>
.
You can also use save the entire response to a file using

<a href="../usermanual/component_reference.html#Save_Responses_to_a_file">Save Responses to a file</a>
.

</p>


<p>

Additional renderers can be created.
The class must implement the interface 
<code>
org.apache.jmeter.visualizers.ResultRenderer
</code>

and/or extend the abstract class 
<code>
org.apache.jmeter.visualizers.SamplerResultTab
</code>
, and the
compiled code must be available to JMeter (e.g. by adding it to the lib/ext directory).

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='901' height='646' src="../../docs/images/screenshots/view_results_tree.png"/></div>
<p>

    The Control Panel (above) shows an example of an HTML display.
<br>


    Figure 9 (below) shows an example of an XML display.
<br>


    Figure 9a (below) shows an example of an Regexp tester display.
<br>


    Figure 9b (below) shows an example of an Document display.
<br>


    
<div align="center">


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='873' height='653' src="../../docs/images/screenshots/view_results_tree_xml.png"/><br>
<font size="-1">Figure 9 Sample XML display
</font></td></tr></table></p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='858' height='643' src="../../docs/images/screenshots/view_results_tree_regex.png"/><br>
<font size="-1">Figure 9a Sample Regexp Test display
</font></td></tr></table></p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='961' height='623' src="../../docs/images/screenshots/view_results_tree_document.png"/><br>
<font size="-1">Figure 9b Sample Document (here PDF) display
</font></td></tr></table></p>


</div>


</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Aggregate_Report">18.3.7 Aggregate Report</a>
</h3>
</font>
</td></tr>
<tr><td>
The aggregate report creates a table row for each differently named request in your
test.  For each request, it totals the response information and provides request count, min, max,
average, error rate, approximate throughput (request/second) and Kilobytes per second throughput.
Once the test is done, the throughput is the actual through for the duration of the entire test.

<p>

The thoughput is calculated from the point of view of the sampler target 
(e.g. the remote server in the case of HTTP samples).
JMeter takes into account the total time over which the requests have been generated.
If other samplers and timers are in the same thread, these will increase the total time,
and therefore reduce the throughput value. 
So two identical samplers with different names will have half the throughput of two samplers with the same name.
It is important to choose the sampler names correctly to get the best results from
the Aggregate Report.

</p>


<p>

Calculation of the 
<a href="glossary.html#Median">
Median
</a>
 and 90% Line (90
<sup>
th
</sup>
 
<a href="glossary.html#Percentile">
percentile
</a>
) values requires additional memory.
JMeter now combines samples with the same elapsed time, so far less memory is used.
However, for samples that take more than a few seconds, the probability is that fewer samples will have identical times,
in which case more memory will be needed.
Note you can use this listener afterwards to reload a CSV or XML results file which is the recommended way to avoid performance impacts.
See the 
<a href="../usermanual/component_reference.html#Summary_Report">Summary Report</a>
 for a similar Listener that does not store individual samples and so needs constant memory.

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Starting with JMeter 2.12, you can configure the 3 percentile values you want to compute, this can be done by setting properties:

<ul>

    
<li>
aggregate_rpt_pct1: defaults to 90
<sup>
th
</sup>
 
<a href="glossary.html#Percentile">
percentile
</a>
</li>

    
<li>
aggregate_rpt_pct2: defaults to 95
<sup>
th
</sup>
 
<a href="glossary.html#Percentile">
percentile
</a>
</li>

    
<li>
aggregate_rpt_pct3: defaults to 99
<sup>
th
</sup>
 
<a href="glossary.html#Percentile">
percentile
</a>
</li>


</ul>


</td></tr>
</table>
</p>


<ul>


<li>
Label - The label of the sample.
If "Include group name in label?" is selected, then the name of the thread group is added as a prefix.
This allows identical labels from different thread groups to be collated separately if required.

</li>


<li>
# Samples - The number of samples with the same label
</li>


<li>
Average - The average time of a set of results
</li>


<li>
Median - The 
<a href="glossary.html#Median">
median
</a>
 is the time in the middle of a set of results.
50% of the samples took no more than this time; the remainder took at least as long.
</li>


<li>
90% Line - 90% of the samples took no more than this time.
The remaining samples took at least as long as this. (90
<sup>
th
</sup>
 
<a href="glossary.html#Percentile">
percentile
</a>
)
</li>


<li>
95% Line - 95% of the samples took no more than this time.
The remaining samples took at least as long as this. (95
<sup>
th
</sup>
 
<a href="glossary.html#Percentile">
percentile
</a>
)
</li>


<li>
99% Line - 99% of the samples took no more than this time.
The remaining samples took at least as long as this. (99
<sup>
th
</sup>
 
<a href="glossary.html#Percentile">
percentile
</a>
)
</li>


<li>
Min - The shortest time for the samples with the same label
</li>


<li>
Max - The longest time for the samples with the same label
</li>


<li>
Error % - Percent of requests with errors
</li>


<li>
Throughput - the 
<a href="glossary.html#Throughput">
Throughput
</a>
 is measured in requests per second/minute/hour.
The time unit is chosen so that the displayed rate is at least 1.0.
When the throughput is saved to a CSV file, it is expressed in requests/second,
i.e. 30.0 requests/minute is saved as 0.5.

</li>


<li>
Kb/sec - The throughput measured in Kilobytes per second
</li>


</ul>


<p>
Times are in milliseconds.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='1140' height='266' src="../../docs/images/screenshots/aggregate_report.png"/></div>
<div align="center">


<p>

    The figure below shows an example of selecting the "Include group name" checkbox.

<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='1140' height='276' src="../../docs/images/screenshots/aggregate_report_grouped.png"/><br>
<font size="-1">Sample "Include group name" display
</font></td></tr></table></p>


</p>


</div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="View_Results_in_Table">18.3.8 View Results in Table</a>
</h3>
</font>
</td></tr>
<tr><td>
This visualizer creates a row for every sample result.  
Like the 
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
, this visualizer uses a lot of memory.

<p>

By default, it only displays the main (parent) samples; it does not display the sub-samples (child samples).
Versions of JMeter after 2.5.1 have a "Child Samples?" check-box.
If this is selected, then the sub-samples are displayed instead of the main samples.  

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='966' height='683' src="../../docs/images/screenshots/table_results.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Simple_Data_Writer">18.3.9 Simple Data Writer</a>
</h3>
</font>
</td></tr>
<tr><td>
This listener can record results to a file
but not to the UI.  It is meant to provide an efficient means of
recording data by eliminating GUI overhead.
When running in non-GUI mode, the -l flag can be used to create a data file.
The fields to save are defined by JMeter properties.
See the jmeter.properties file for details.

<p><b>Control Panel</b></p>
<div align="center"><img width='741' height='141' src="../../docs/images/screenshots/simpledatawriter.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Monitor_Results">18.3.10 Monitor Results</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
Monitor Results is a new Visualizer for displaying server
status. It is designed for Tomcat 5, but any servlet container
can port the status servlet and use this monitor. There are two primary
tabs for the monitor. The first is the "Health" tab, which will show the
status of one or more servers. The second tab labled "Performance" shows
the performance for one server for the last 1000 samples. The equations
used for the load calculation is included in the Visualizer.
</p>


<p>
Currently, the primary limitation of the monitor is system memory. A
quick benchmark of memory usage indicates a buffer of 1000 data points for
100 servers would take roughly 10Mb of RAM. On a 1.4Ghz centrino
laptop with 1Gb of ram, the monitor should be able to handle several
hundred servers.
</p>


<p>
As a general rule, monitoring production systems should take care to
set an appropriate interval. Intervals shorter than 5 seconds are too
aggressive and have a potential of impacting the server. With a buffer of
1000 data points at 5 second intervals, the monitor would check the server
status 12 times a minute or 720 times a hour. This means the buffer shows
the performance history of each machine for the last hour.
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
The monitor requires Tomcat 5 or above. 
Use a browser to check that you can access the Tomcat status servlet OK.

</td></tr>
</table>
</p>


<p>

For a detailed description of how to use the monitor, please refer to

<a href="build-monitor-test-plan.html">
Building a Monitor Test Plan
</a>


</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='762' height='757' src="../../docs/images/screenshots/monitor_screencap.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Distribution_Graph_(alpha)">18.3.11 Distribution Graph (alpha)</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Distribution Graph MUST NOT BE USED during load test as it consumes a lot of resources (memory and CPU). Use it only for either functional testing or 
during Test Plan debugging and Validation.

</td></tr>
</table>
</p>



<p>
The distribution graph will display a bar for every unique response time. Since the
granularity of System.currentTimeMillis() is 10 milliseconds, the 90% threshold should be
within the width of the graph. The graph will draw two threshold lines: 50% and 90%.
What this means is 50% of the response times finished between 0 and the line. The same
is true of 90% line. Several tests with Tomcat were performed using 30 threads for 600K
requests. The graph was able to display the distribution without any problems and both
the 50% and 90% line were within the width of the graph. A performant application will
generally produce results that clump together. A poorly written application that has
memory leaks may result in wild fluctuations. In those situations, the threshold lines
may be beyond the width of the graph. The recommended solution to this specific problem
is fix the webapp so it performs well. If your test plan produces distribution graphs
with no apparent clumping or pattern, it may indicate a memory leak. The only way to
know for sure is to use a profiling tool.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='819' height='626' src="../../docs/images/screenshots/distribution_graph.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Aggregate_Graph">18.3.12 Aggregate Graph</a>
</h3>
</font>
</td></tr>
<tr><td>
The aggregate graph is similar to the aggregate report. The primary
difference is the aggregate graph provides an easy way to generate bar graphs and save
the graph as a PNG file.
<p><b>Control Panel</b></p>
<div align="center"><img width='1132' height='872' src="../../docs/images/screenshots/aggregate_graph.png"/></div>
<div align="center">


<p>

    The figure below shows an example of settings to draw this graph.

<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='1147' height='420' src="../../docs/images/screenshots/aggregate_graph_settings.png"/><br>
<font size="-1">Aggregate graph settings
</font></td></tr></table></p>


</p>


</div>
<p>
<i>
Please note: All this parameters 
<b>
aren't
</b>
 saved in JMeter jmx script.
</i>
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Column settings</td>
<td><ul>

        
<li>
<u>
Columns to display:
</u>
 Choose the column(s) to display in graph.
</li>

        
<li>
<u>
Rectangles color:
</u>
 Clic on right color rectangle open a popup dialog to choose a custom color for column.
</li>

        
<li>
<u>
Foreground color
</u>
 Allow to change the value text color.
</li>

        
<li>
<u>
Value font:
</u>
 Allow to define font settings for the text.
</li>

        
<li>
<u>
Draw outlines bar?
</u>
 To draw or not the border line on bar chart
</li>

        
<li>
<u>
Show number grouping?
</u>
 Show or not the number grouping in Y Axis labels.
</li>

        
<li>
<u>
Value labels vertical?
</u>
 Change orientation for value label. (Default is horizontal)
</li>

        
<li>
<u>
Column label selection:
</u>
 Filter by result label. A regular expression can be used, example: 
<i>
.*Transaction.*
</i>

        
<br>

Before display the graph, click on 
<b>
Apply filter
</b>
 button to refresh internal data.
</li>
</ul>
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Title</td>
<td>Define the graph's title on the head of chart. Empty value is the default value : "Aggregate Graph". 
        The button 
<b>
Synchronize with name
</b>
 define the title with the label of the listener. And define font settings for graph title
</td>
<td>
No
</td>
</tr>
<tr>
<td>Graph size</td>
<td>Compute the graph size by  the width and height depending of the current JMeter's window size.
        Use Width and Height fields to define a custom size. The unit is pixel. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>X Axis settings</td>
<td>Define the max length of X Axis label (in pixel).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Y Axis settings</td>
<td>Define a custom maximum value for Y Axis.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Legend</td>
<td>Define the placement and font settings for chart legend
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Response_Time_Graph">18.3.13 Response Time Graph</a>
</h3>
</font>
</td></tr>
<tr><td>

The Response Time Graph draws a line chart showing the evolution of response time during the test, for each labelled request. 
If many samples exist for the same timestamp, the mean value is displayed.

<p><b>Control Panel</b></p>
<div align="center"><img width='921' height='616' src="../../docs/images/screenshots/response_time_graph.png"/></div>
<div align="center">


<p>

    The figure below shows an example of settings to draw this graph.

<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='919' height='481' src="../../docs/images/screenshots/response_time_graph_settings.png"/><br>
<font size="-1">Response time graph settings
</font></td></tr></table></p>


</p>


</div>
<p>
<i>
Please note: All this parameters are saved in JMeter .jmx file.
</i>
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Interval (ms)</td>
<td>The time in milli-seconds for X axis interval. Samples are grouped according to this value.
        Before display the graph, click on 
<b>
Apply interval
</b>
 button to refresh internal data.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Sampler label selection</td>
<td>Filter by result label. A regular expression can be used, ex.
<i>
.*Transaction.*
</i>
. 
        Before display the graph, click on 
<b>
Apply filter
</b>
 button to refresh internal data.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Title</td>
<td>Define the graph's title on the head of chart. Empty value is the default value : "Response Time Graph". 
        The button 
<b>
Synchronize with name
</b>
 define the title with the label of the listener. And define font settings for graph title
</td>
<td>
No
</td>
</tr>
<tr>
<td>Line settings</td>
<td>Define the width of the line. Define the type of each value point. Choose 
<i>
none
</i>
 to have a line without mark
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Graph size</td>
<td>Compute the graph size by  the width and height depending of the current JMeter's window size.
        Use Width and Height fields to define a custom size. The unit is pixel. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>X Axis settings</td>
<td>Customize the date format of  X axis label.
        The syntax is the Java 
<a href="http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html">
SimpleDateFormat API
</a>
.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Y Axis settings</td>
<td>Define a custom maximum value for Y Axis in milli-seconds. Define the increment for the scale (in ms) Show or not the number grouping in Y Axis labels.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Legend</td>
<td>Define the placement and font settings for chart legend
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Mailer_Visualizer">18.3.14 Mailer Visualizer</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The mailer visualizer can be set up to send email if a test run receives too many
failed responses from the server.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='860' height='403' src="../../docs/images/screenshots/mailervisualizer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>From</td>
<td>Email address to send messages from.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Addressee(s)</td>
<td>Email address to send messages to, comma-separated.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Success Subject</td>
<td>Email subject line for success messages.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Success Limit</td>
<td>Once this number of successful responses is exceeded
        
<strong>
after previously reaching the failure limit
</strong>
, a success email
        is sent.  The mailer will thus only send out messages in a sequence of failed-succeeded-failed-succeeded, etc.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Failure Subject</td>
<td>Email subject line for fail messages.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Failure Limit</td>
<td>Once this number of failed responses is exceeded, a failure
        email is sent - i.e. set the count to 0 to send an e-mail on the first failure.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Host</td>
<td>IP address or host name of SMTP server (email redirector)
        server.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Port</td>
<td>Port of SMTP server (defaults to 25).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Login</td>
<td>Login used to authenticate.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>Password used to authenticate.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Connection security</td>
<td>Type of encryption for SMTP authentication (SSL, TLS or none).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Test Mail</td>
<td>Press this button to send a test mail
</td>
<td>
No
</td>
</tr>
<tr>
<td>Failures</td>
<td>A field that keeps a running total of number
        of failures so far received.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BeanShell_Listener">18.3.15 BeanShell Listener</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BeanShell Listener allows the use of BeanShell for processing samples for saving etc.

</p>


<p>


<b>
For full details on using BeanShell, please see the 
<a href="http://www.beanshell.org/">
BeanShell website.
</a>
</b>


</p>


<p>

The test element supports the ThreadListener and TestListener methods.
These should be defined in the initialisation file.
See the file BeanShellListeners.bshrc for example definitions.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='844' height='633' src="../../docs/images/screenshots/beanshell_listener.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
    The name is stored in the script variable Label
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reset bsh.Interpreter before each call</td>
<td>
    If this option is selected, then the interpreter will be recreated for each sample.
    This may be necessary for some long running scripts. 
    For further information, see 
<a href="best-practices#bsh_scripting">
Best Practices - BeanShell scripting
</a>
.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the BeanShell script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
bsh.args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the BeanShell script to run.
    The file name is stored in the script variable FileName
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The BeanShell script to run. The return value is ignored.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>
Before invoking the script, some variables are set up in the BeanShell interpreter:
</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object());
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
sampleResult, prev - (
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
) - gives access to the previous 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
</li>


<li>
sampleEvent (
<a href="../api/org/apache/jmeter/samplers/SampleEvent.html">
SampleEvent
</a>
) gives access to the current sample event
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
<p>
If the property 
<b>
beanshell.listener.init
</b>
 is defined, this is used to load an initialisation file, which can be used to define methods etc for use in the BeanShell script.
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Summary_Report">18.3.16 Summary Report</a>
</h3>
</font>
</td></tr>
<tr><td>
The summary report creates a table row for each differently named request in your
test. This is similar to the 
<a href="../usermanual/component_reference.html#Aggregate_Report">Aggregate Report</a>
 , except that it uses less memory.

<p>

The thoughput is calculated from the point of view of the sampler target 
(e.g. the remote server in the case of HTTP samples).
JMeter takes into account the total time over which the requests have been generated.
If other samplers and timers are in the same thread, these will increase the total time,
and therefore reduce the throughput value. 
So two identical samplers with different names will have half the throughput of two samplers with the same name.
It is important to choose the sampler labels correctly to get the best results from
the Report.

</p>


<ul>


<li>
Label - The label of the sample.
If "Include group name in label?" is selected, then the name of the thread group is added as a prefix.
This allows identical labels from different thread groups to be collated separately if required.

</li>


<li>
# Samples - The number of samples with the same label
</li>


<li>
Average - The average elapsed time of a set of results
</li>


<li>
Min - The lowest elapsed time for the samples with the same label
</li>


<li>
Max - The longest elapsed time for the samples with the same label
</li>


<li>
Std. Dev. - the 
<a href="glossary.html#StandardDeviation">
Standard Deviation
</a>
 of the sample elapsed time
</li>


<li>
Error % - Percent of requests with errors
</li>


<li>
Throughput - the 
<a href="glossary.html#Throughput">
Throughput
</a>
 is measured in requests per second/minute/hour.
The time unit is chosen so that the displayed rate is at least 1.0.
When the throughput is saved to a CSV file, it is expressed in requests/second,
i.e. 30.0 requests/minute is saved as 0.5.

</li>


<li>
Kb/sec - The throughput measured in Kilobytes per second
</li>


<li>
Avg. Bytes - average size of the sample response in bytes. (in JMeter 2.2 it wrongly showed the value in kB)
</li>


</ul>


<p>
Times are in milliseconds.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='926' height='324' src="../../docs/images/screenshots/summary_report.png"/></div>
<div align="center">


<p>

    The figure below shows an example of selecting the "Include group name" checkbox.

<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='923' height='325' src="../../docs/images/screenshots/summary_report_grouped.png"/><br>
<font size="-1">Sample "Include group name" display
</font></td></tr></table></p>


</p>


</div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Save_Responses_to_a_file">18.3.17 Save Responses to a file</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>

        This test element can be placed anywhere in the test plan.
        For each sample in its scope, it will create a file of the response Data.
        The primary use for this is in creating functional tests, but it can also
        be useful where the response is too large to be displayed in the 
        
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
 Listener.
        The file name is created from the specified prefix, plus a number (unless this is disabled, see below).
        The file extension is created from the document type, if known.
        If not known, the file extension is set to 'unknown'.
        If numbering is disabled, and adding a suffix is disabled, then the file prefix is
        taken as the entire file name. This allows a fixed file name to be generated if required.
        The generated file name is stored in the sample response, and can be saved
        in the test log output file if required.
        
</p>

        
<p>

        The current sample is saved first, followed by any sub-samples (child samples).
        If a variable name is provided, then the names of the files are saved in the order
        that the sub-samples appear. See below. 
        
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='358' height='225' src="../../docs/images/screenshots/savetofile.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Filename Prefix</td>
<td>Prefix for the generated file names; this can include a directory name.
        Relative paths are resolved relative to the current working directory (which defaults to the bin/ directory).
        Versions of JMeter after 2.4 also support paths relative to the directory containing the current test plan (JMX file).
        If the path name begins with "~/" (or whatever is in the jmeter.save.saveservice.base_prefix JMeter property),
        then the path is assumed to be relative to the JMX file location. 
 
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Variable Name</td>
<td>
 Name of a variable in which to save the generated file name (so it can be used later in the test plan).
 If there are sub-samples then a numeric suffix is added to the variable name.
 E.g. if the variable name is FILENAME, then the parent sample file name is saved in the variable FILENAME, 
 and the filenames for the child samplers are saved in FILENAME1, FILENAME2 etc.
 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Save Failed Responses only</td>
<td>If selected, then only failed responses are saved
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Save Successful Responses only</td>
<td>If selected, then only successful responses are saved
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Don't add number to prefix</td>
<td>If selected, then no number is added to the prefix. If you select this option, make sure that the prefix is unique or the file may be overwritten.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Don't add suffix</td>
<td>If selected, then no suffix is added. If you select this option, make sure that the prefix is unique or the file may be overwritten.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BSF_Listener">18.3.18 BSF Listener</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BSF Listener allows BSF script code to be applied to sample results.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='847' height='634' src="../../docs/images/screenshots/bsf_listener.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Language</td>
<td>The BSF language to be used
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the script to run, if a relative file path is used, then it will be relative to directory referenced by "user.dir" System property
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The script to run.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>

The script (or file) is processed using the BSFEngine.exec() method, which does not return a value.

</p>
<p>

Before invoking the script, some variables are set up.
Note that these are BSF variables - i.e. they can be used directly in the script.

</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
Label - the String Label
</li>


<li>
Filename - the script file name (if any)
</li>


<li>
Parameters - the parameters (as a String)
</li>


<li>
args[] - the parameters as a String array (split on whitespace)
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object()); vars.getObject("OBJ2");
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
sampleResult, prev - (
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
) - gives access to the SampleResult
</li>


<li>
sampleEvent - (
<a href="../api/org/apache/jmeter/samplers/SampleEvent.html">
SampleEvent
</a>
) - gives access to the SampleEvent
</li>


<li>
sampler - (Sampler)- gives access to the last sampler
</li>


<li>
OUT - System.out - e.g. OUT.println("message")
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JSR223_Listener">18.3.18.1 JSR223 Listener</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JSR223 Listener allows JSR223 script code to be applied to sample results.
For details, see 
<a href="../usermanual/component_reference.html#BSF_Listener">BSF Listener</a>
.

</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Generate_Summary_Results">18.3.19 Generate Summary Results</a>
</h3>
</font>
</td></tr>
<tr><td>
This test element can be placed anywhere in the test plan.
Generates a summary of the test run so far to the log file and/or 
standard output. Both running and differential totals are shown.
Output is generated every n seconds (default 30 seconds) on the appropriate
time boundary, so that multiple test runs on the same time will be synchronised.
See jmeter.properties file for the summariser configuration items:

<pre>

# Define the following property to automatically start a summariser with that name
# (applies to non-GUI mode only)
#summariser.name=summary
#
# interval between summaries (in seconds) default 3 minutes
#summariser.interval=30
#
# Write messages to log file
#summariser.log=true
#
# Write messages to System.out
#summariser.out=true

</pre>

This element is mainly intended for batch (non-GUI) runs.
The output looks like the following:

<pre>

label +   171 in  20.3s =    8.4/s Avg:  1129 Min:  1000 Max:  1250 Err:     0 (0.00%)
label +   263 in  31.3s =    8.4/s Avg:  1138 Min:  1000 Max:  1250 Err:     0 (0.00%)
label =   434 in  50.4s =    8.6/s Avg:  1135 Min:  1000 Max:  1250 Err:     0 (0.00%)
label +   263 in  31.0s =    8.5/s Avg:  1138 Min:  1000 Max:  1250 Err:     0 (0.00%)
label =   697 in  80.3s =    8.7/s Avg:  1136 Min:  1000 Max:  1250 Err:     0 (0.00%)
label +   109 in  12.4s =    8.8/s Avg:  1092 Min:    47 Max:  1250 Err:     0 (0.00%)
label =   806 in  91.6s =    8.8/s Avg:  1130 Min:    47 Max:  1250 Err:     0 (0.00%)

</pre>

The "label" is the the name of the element.
The "+" means that the line is a delta line, i.e. shows the changes since the last output.
<br>


The "=" means that the line is a totals line, i.e. it shows the running total.
<br>


Entries in the jmeter log file also include time-stamps.
The example "806 in  91.6s =    8.8/s" means that there were 806 samples recorded in 91.6 seconds,
and that works out at 8.8 samples per second.
<br>


The Avg (Average), Min(imum) and Max(imum) times are in milliseconds.
<br>


"Err" means number of errors (also shown as percentage).
<br>


The last two lines will appear at the end of a test.
They will not be synchronised to the appropriate time boundary.
Note that the initial and final deltas may be for less than the interval (in the example above this is 30 seconds).
The first delta will generally be lower, as JMeter synchronizes to the interval boundary.
The last delta will be lower, as the test will generally not finish on an exact interval boundary.

<p>

The label is used to group sample results together. 
So if you have multiple Thread Groups and want to summarize across them all, then use the same label
 - or add the summariser to the Test Plan (so all thread groups are in scope).
Different summary groupings can be implemented
by using suitable labels and adding the summarisers to appropriate parts of the test plan.

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
In Non-GUI mode by default a Generate Summary Results listener named "summariser" is configured, if you have already added one to your Test Plan, ensure you name it differently 
otherwise results will be accumulated under this label (summary) leading to wrong results (sum of total samples + samples located under the Parent of Generate Summary Results listener).
This is not a bug but a design choice allowing to summarize across thread groups.

</td></tr>
</table>
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='358' height='131' src="../../docs/images/screenshots/summary.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
 It appears as the "label" in the output. Details for all elements with the same label will be added together.
 
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Comparison_Assertion_Visualizer">18.3.20 Comparison Assertion Visualizer</a>
</h3>
</font>
</td></tr>
<tr><td>

The Comparison Assertion Visualizer shows the results of any 
<a href="../usermanual/component_reference.html#Compare_Assertion">Compare Assertion</a>
 elements.

<p><b>Control Panel</b></p>
<div align="center"><img width='777' height='266' src="../../docs/images/screenshots/comparison_assertion_visualizer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
 
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Backend_Listener">18.3.21 Backend Listener</a>
</h3>
</font>
</td></tr>
<tr><td>

The backend listener is an Asynchronous listener that enables you to plug custom implementations of 
<a href="../api/org/apache/jmeter/visualizers/backend/BackendListenerClient.html">
BackendListenerClient
</a>
.
By default, a Graphite implementation is provided.

<p><b>Control Panel</b></p>
<div align="center"><img width='902' height='341' src="../../docs/images/screenshots/backend_listener.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Backend Listener implementation</td>
<td>Class of the BackendListenerClient implementation.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Async Queue size</td>
<td>Size of the queue that holds the SampleResults while they are processed asynchronously.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters of the BackendListenerClient implementation.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
The following parameters apply to the 
<b>
GraphiteBackendListenerClient
</b>
 implementation:
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>graphiteMetricsSender</td>
<td>org.apache.jmeter.visualizers.backend.graphite.TextGraphiteMetricsSender or org.apache.jmeter.visualizers.backend.graphite.PickleGraphiteMetricsSender
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>graphiteHost</td>
<td>Graphite or InfluxDB (with Graphite plugin enabled) server host
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>graphitePort</td>
<td>Graphite or InfluxDB (with Graphite plugin enabled) server port, defaults to 2003. Note PickleGraphiteMetricsSender (port 2004) can only talk to Graphite server.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>rootMetricsPrefix</td>
<td>Prefix of metrics sent to backend. Defaults to "jmeter."
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>summaryOnly</td>
<td>Only send a summary with no detail. Defaults to true.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>samplersList</td>
<td>Semicolon separated list of samplers for which you want to report metrics to backend.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>percentiles</td>
<td>The percentiles you want to send to backend. List must be semicolon separated.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
Read 
<a href="realtime-results.html">
this
</a>
 for more details.
</p>
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='1265' height='581' src="../../docs/images/screenshots/grafana_dashboard.png"/><br>
<font size="-1">Grafana dashboard
</font></td></tr></table></p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="config_elements"><strong>18.4 Configuration Elements</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<br>


    Configuration elements can be used to set up defaults and variables for later use by samplers.
    Note that these elements are processed at the start of the scope in which they are found, 
    i.e. before any samplers in the same scope.
    
<br>



</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="CSV_Data_Set_Config">18.4.1 CSV Data Set Config</a>
</h3>
</font>
</td></tr>
<tr><td>

    
<p>

    CSV Data Set Config is used to read lines from a file, and split them into variables.
    It is easier to use than the __CSVRead() and _StringFromFile() functions.
    It is well suited to handling large numbers of variables, and is also useful for tesing with
    "random" and unique values.
    Generating unique random values at run-time is expensive in terms of CPU and memory, so just create the data
    in advance of the test. If necessary, the "random" data from the file can be used in conjunction with
    a run-time parameter to create different sets of values from each run - e.g. using concatenation - which is
    much cheaper than generating everything at run-time.
    
</p>

    
<p>

    Versions of JMeter after 2.3.1 allow values to be quoted; this allows the value to contain a delimiter.
    Previously it was necessary to choose a delimiter that was not used in any values.
    If "allow quoted data" is enabled, a value may be enclosed in double-quotes.
    These are removed. To include double-quotes within a quoted field, use two double-quotes.
    For example:
<pre>

1,"2,3","4""5" =>
1
2,3
4"5

</pre>

    
</p>

    
<p>

    Versions of JMeter after 2.3.4 support CSV files which have a header line defining the column names.
    To enable this, leave the "Variable Names" field empty. The correct delimiter must be provided.
    
</p>

    
<p>

    Versions of JMeter after 2.7 support CSV files with quoted data that includes new-lines.
    
</p>

    
<p>

    By default, the file is only opened once, and each thread will use a different line from the file.
    However the order in which lines are passed to threads depends on the order in which they execute,
    which may vary between iterations.
    Lines are read at the start of each test iteration.
    The file name and mode are resolved in the first iteration.
    
</p>

    
<p>

    See the description of the Share mode below for additional options (JMeter 2.3.2+).
    If you want each thread to have its own set of values, then you will need to create a set of files,
    one for each thread. For example test1.csv, test2.csv,... testn.csv. Use the filename 
    
<code>
test${__threadNum}.csv
</code>
 and set the "Sharing mode" to "Current thread".
    
</p>

    
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>CSV Dataset variables are defined at the start of each test iteration.
    As this is after configuration processing is completed,
    they cannot be used for some configuration items - such as JDBC Config - 
    that process their contents at configuration time (see 
<a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=40394">Bug 40394</a>
)
    However the variables do work in the HTTP Auth Manager, as the username etc are processed at run-time.
    
</td></tr>
</table>
</p>

    
<p>

    As a special case, the string "\t" (without quotes) in the delimiter field is treated as a Tab.
    
</p>

    
<p>

    When the end of file (EOF) is reached, and the recycle option is true, reading starts again with the first line of the file.
    
</p>

    
<p>

    If the recycle option is false, and stopThread is false, then all the variables are set to 
<b>
&lt;EOF>
</b>
 when the end of file is reached.
    This value can be changed by setting the JMeter property 
<b>
csvdataset.eofstring
</b>
.
    
</p>

    
<p>

    If the Recycle option is false, and Stop Thread is true, then reaching EOF will cause the thread to be stopped.
    
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='433' height='281' src="../../docs/images/screenshots/csvdatasetconfig.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Filename</td>
<td>Name of the file to be read. 
  
<b>
Relative file names are resolved with respect to the path of the active test plan.
</b>

  
<b>
For distributed testing, the CSV file must be stored on the server host system in the correct relative directory to where the jmeter server is started.
</b>

  Absolute file names are also supported, but note that they are unlikely to work in remote mode, 
  unless the remote server has the same directory structure.
  If the same physical file is referenced in two different ways - e.g. csvdata.txt and ./csvdata.txt -
  then these are treated as different files.
  If the OS does not distinguish between upper and lower case, csvData.TXT would also be opened separately. 
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>File Encoding</td>
<td>The encoding to be used to read the file, if not the platform default.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Variable Names</td>
<td>List of variable names (comma-delimited).
  Versions of JMeter after 2.3.4 support CSV header lines:
  if the variable name field empty, then the first line of the file is read and interpreted as the list of column names.
  The names must be separated by the delimiter character. They can be quoted using double-quotes.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Delimiter</td>
<td>Delimiter to be used to split the records in the file.
  If there are fewer values on the line than there are variables the remaining variables are not updated -
  so they will retain their previous value (if any).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Allow quoted data?</td>
<td>Should the CSV file allow values to be quoted?
  If enabled, then values can be enclosed in 
<code>
"
</code>
 - double-quote - allowing values to contain a delimeter.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Recycle on EOF?</td>
<td>Should the file be re-read from the beginning on reaching EOF? (default is true)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Stop thread on EOF?</td>
<td>Should the thread be stopped on EOF, if Recycle is false? (default is false)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Sharing mode</td>
<td>
  
<ul>

  
<li>
All threads - (the default) the file is shared between all the threads.
</li>

  
<li>
Current thread group - each file is opened once for each thread group in which the element appears
</li>

  
<li>
Current thread - each file is opened separately for each thread
</li>

  
<li>
Identifier - all threads sharing the same identifier share the same file.
  So for example if you have 4 thread groups, you could use a common id for two or more of the groups
  to share the file between them.
  Or you could use the thread number to share the file between the same thread numbers in different thread groups.
  
</li>

  
</ul>

  
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="FTP_Request_Defaults">18.4.2 FTP Request Defaults</a>
</h3>
</font>
</td></tr>
<tr><td>
<p><b>Control Panel</b></p>
<div align="center"><img width='520' height='202' src="../../docs/images/screenshots/ftp-config/ftp-request-defaults.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="DNS_Cache_Manager">18.4.3 DNS Cache Manager</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>DNS Cache Manager is designed for using in the root of Thread Group or Test Plan. Do not place it as child element of particular HTTP Sampler
    
</td></tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>DNS Cache Manager working only with the HTTP request using HTTPClient4 implementation.
</td></tr>
</table>
</p>
<p>
The DNS Cache Manager element allows to test applications, which have several servers behind load balancers (CDN, etc), 
    when user receives content from different IP's. By default JMeter uses JVM DNS cache. That's why
    only one server from the cluster receives load. DNS Cache Manager resolves name for each thread separately each iteration and
    saves results of resolving to its internal DNS Cache, which independent from both JVM and OS DNS caches.
    
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='712' height='387' src="../../docs/images/screenshots/dns-cache-manager.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Clear cache each Iteration</td>
<td>If selected, DNS cache of every  Thread is cleared each time new iteration is started.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use system DNS resolver</td>
<td>System DNS resolver will be used. For correct work edit
       $JAVA_HOME/jre/lib/security/java.security and add 
<pre>
networkaddress.cache.ttl=0
</pre>
 
    
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Use custom DNS resolver</td>
<td>Custom DNS resolver(from dnsjava library) will be used.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Hostname or IP address</td>
<td>List of DNS servers to use. If empty, network configuration DNS will used.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Add Button</td>
<td>Add an entry to the DNS servers table.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Delete Button</td>
<td>Delete the currently selected table entry.
</td>
<td>
N/A
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_Authorization_Manager">18.4.4 HTTP Authorization Manager</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>If there is more than one Authorization Manager in the scope of a Sampler,
there is currently no way to specify which one is to be used.
</td></tr>
</table>
</p>


<p>
The Authorization Manager lets you specify one or more user logins for web pages that are
restricted using server authentication.  You see this type of authentication when you use
your browser to access a restricted page, and your browser displays a login dialog box.  JMeter
transmits the login information when it encounters this type of page.
</p>


<p>

The Authorisation headers may not be shown in the Tree View Listener "Request" tab.
The Java implementation does pre-emptive authentication, but it does not
return the Authorization header when JMeter fetches the headers.
The Commons HttpClient (3.1) implementation defaults to pre-emptive and the header will be shown.
The HttpComponents implementation does not do pre-emptive auth 
(it is supported by the library but JMeter does not enable it)

</p>


<p>

In versions of JMeter after 2.2, the HttpClient sampler defaults to pre-emptive authentication
if the setting has not been defined. To disable this, set the values as below, in which case
authentication will only be performed in response to a challenge.

<pre>

jmeter.properties:
httpclient.parameters.file=httpclient.parameters

httpclient.parameters:
http.authentication.preemptive$Boolean=false

</pre>

Note: the above settings only apply to the HttpClient sampler (and the SOAP samplers, which use Httpclient).

</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
When looking for a match against a URL, JMeter checks each entry in turn, and stops when it finds the first match.
Thus the most specific URLs should appear first in the list, followed by less specific ones.
Duplicate URLs will be ignored.
If you want to use different usernames/passwords for different threads, you can use variables.
These can be set up using a 
<a href="../usermanual/component_reference.html#CSV_Data_Set_Config">CSV Data Set Config</a>
 Element (for example).

</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='538' height='340' src="../../docs/images/screenshots/http-config/http-auth-manager.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Clear auth on each iteration ?</td>
<td>Used by Kerberos authentication. If checked, authentication will be done on each iteration of Main Thread Group loop even if it has already been done in a previous one.
        This is usually useful if each main thread group iteration represents behaviour of one Virtual User.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Base URL</td>
<td>A partial or complete URL that matches one or more HTTP Request URLs.  As an example,
say you specify a Base URL of "http://jmeter.apache.org/restricted/" with a username of "jmeter" and
a password of "jmeter".  If you send an HTTP request to the URL
"http://jmeter.apache.org/restricted/ant/myPage.html", the Authorization Manager sends the login
information for the user named, "jmeter".
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Username</td>
<td>The username to authorize.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Password</td>
<td>The password for the user. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Domain</td>
<td>The domain to use for NTLM.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Realm</td>
<td>The realm to use for NTLM.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Mechanism</td>
<td>Type of authentication to perform. JMeter can perform different types of authentications based on used Http Samplers:

<table>
<tr>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Sampler
</font>
</td>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Authentications
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Java
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
BASIC
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
HttpClient 3.1
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
BASIC, DIGEST
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
HttpClient 4
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
BASIC, DIGEST and Kerberos
</font>
</td>
</tr>
</table>


</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
The Realm only applies to the HttpClient sampler.
In JMeter 2.2, the domain and realm did not have separate columns, and were encoded as part of
the user name in the form: [domain\]username[@realm].
This was an experimental feature and has been removed.

</td></tr>
</table>
</p>
<br>

<b>
Kerberos Configuration:
</b>
<p>
To configure Kerberos you need to setup at least two JVM system properties:

<ul>

    
<li>
<code>
-Djava.security.krb5.conf=krb5.conf
</code>
</li>

    
<li>
<code>
-Djava.security.auth.login.config=jaas.conf
</code>
</li>


</ul>

You can also configure those two properties in the file 
<em>
bin/system.properties
</em>
.
Look at the two sample configuration files (
<em>
krb5.conf
</em>
 and 
<em>
jaas.conf
</em>
) located in the jmeter 
<em>
bin
</em>
 folder
for references to more documentation, and tweak them to match your Kerberos configuration.

</p>
<p>

When generating a SPN for Kerberos SPNEGO authentication IE and Firefox will omit the port number
from the url. Chrome has an option (
<code>
--enable-auth-negotiate-port
</code>
) to include the port
number if it differs from the standard ones (
<code>
80
</code>
 and 
<code>
443
</code>
). That behavior
can be emulated by setting the following jmeter property as below.

</p>
<p>

In 
<em>
jmeter.properties
</em>
 or 
<em>
user.properties
</em>
, set:

<ul>


<li>
<code>
kerberos.spnego.strip_port=false
</code>
</li>


</ul>


</p>
<br>

<b>
Controls:
</b>
<ul>

  
<li>
Add Button - Add an entry to the authorization table.
</li>

  
<li>
Delete Button - Delete the currently selected table entry.
</li>

  
<li>
Load Button - Load a previously saved authorization table and add the entries to the existing
authorization table entries.
</li>

  
<li>
Save As Button - Save the current authorization table to a file.
</li>


</ul>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>When you save the Test Plan, JMeter automatically saves all of the authorization
table entries - including any passwords, which are not encrypted.
</td></tr>
</table>
</p>
<a name="authorization_example"/>
<p><b>Authorization Example</b></p>



<p>
<a href="../demos/AuthManagerTestPlan.jmx">
Download
</a>
 this example.  In this example, we created a Test Plan on a local server that sends three HTTP requests, two requiring a login and the
other is open to everyone.  See figure 10 to see the makeup of our Test Plan.  On our server, we have a restricted
directory named, "secret", which contains two files, "index.html" and "index2.html".  We created a login id named, "kevin",
which has a password of "spot".  So, in our Authorization Manager, we created an entry for the restricted directory and
a username and password (see figure 11).  The two HTTP requests named "SecretPage1" and "SecretPage2" make requests
to "/secret/index.html" and "/secret/index2.html".  The other HTTP request, named "NoSecretPage" makes a request to
"/index.html".
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='289' height='201' src="../../docs/images/screenshots/http-config/auth-manager-example1a.gif"/><br>
<font size="-1">Figure 10 - Test Plan
</font></td></tr></table></p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='641' height='329' src="../../docs/images/screenshots/http-config/auth-manager-example1b.png"/><br>
<font size="-1">Figure 11 - Authorization Manager Control Panel
</font></td></tr></table></p>



<p>
When we run the Test Plan, JMeter looks in the Authorization table for the URL it is requesting.  If the Base URL matches
the URL, then JMeter passes this information along with the request.
</p>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>You can download the Test Plan, but since it is built as a test for our local server, you will not
be able to run it.  However, you can use it as a reference in constructing your own Test Plan.
</td></tr>
</table>
</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_Cache_Manager">18.4.5 HTTP Cache Manager</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The HTTP Cache Manager is used to add caching functionality to HTTP requests within its scope to simulate browser cache feature.
Each Virtual User thread has its own Cache. By default, Cache Manager will store up to 5000 items in cache per Virtual User thread, using LRU algorithm. 
Use property "maxSize" to modify this value. Note that the more you increase this value the more HTTP Cache Manager will consume memory, so be sure to adapt -Xmx option accordingly.

</p>


<p>

If a sample is successful (i.e. has response code 2xx) then the Last-Modified and Etag (and Expired if relevant) values are saved for the URL.
Before executing the next sample, the sampler checks to see if there is an entry in the cache, 
and if so, the If-Last-Modified and If-None-Match conditional headers are set for the request.

</p>


<p>

Additionally, if the "Use Cache-Control/Expires header" option is selected, then the Cache-Control/Expires value is checked against the current time.
If the request is a GET request, and the timestamp is in the future, then the sampler returns immediately,
without requesting the URL from the remote server. This is intended to emulate browser behaviour.
Note that if Cache-Control header is "no-cache", the response will be stored in cache as pre-expired,
so will generate a conditional GET request.
If Cache-Control has any other value, 
the "max-age" expiry option is processed to compute entry lifetime, if missing then expire header will be used, if also missing entry will be cached 
as specified in 
<a href="http://www.ietf.org/rfc/rfc2616.txt">
RFC 2616
</a>
 section 13.2.4. using Last-Modified time and response Date.

</p>


<p>

If the requested document has not changed since it was cached, then the response body will be empty.
Likewise if the Expires date is in the future.
This may cause problems for Assertions.

</p>



<p><b>Control Panel</b></p>
<div align="center"><img width='511' height='196' src="../../docs/images/screenshots/http-config/http-cache-manager.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Clear cache each iteration</td>
<td>
  If selected, then the cache is cleared at the start of the thread.
  
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use Cache Control/Expires header when processing GET requests</td>
<td>See description above.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Max Number of elements in cache</td>
<td>See description above.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_Cookie_Manager">18.4.6 HTTP Cookie Manager</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>If there is more than one Cookie Manager in the scope of a Sampler,
there is currently no way to specify which one is to be used.
Also, a cookie stored in one cookie manager is not available to any other manager,
so use multiple Cookie Managers with care.
</td></tr>
</table>
</p>
<p>
The Cookie Manager element has two functions:
<br>


First, it stores and sends cookies just like a web browser. If you have an HTTP Request and
the response contains a cookie, the Cookie Manager automatically stores that cookie and will
use it for all future requests to that particular web site.  Each JMeter thread has its own
"cookie storage area".  So, if you are testing a web site that uses a cookie for storing
session information, each JMeter thread will have its own session.
Note that such cookies do not appear on the Cookie Manager display, but they can be seen using
the 
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
 Listener.

</p>


<p>

JMeter version 2.3.2 and earlier did not check that received cookies were valid for the URL.
This meant that cross-domain cookies were stored, and might be used later.
This has been fixed in later versions.
To revert to the earlier behaviour, define the JMeter property "CookieManager.check.cookies=false".

</p>


<p>

Received Cookies can be stored as JMeter thread variables
(versions of JMeter after 2.3.2 no longer do this by default).
To save cookies as variables, define the property "CookieManager.save.cookies=true".
Also, cookies names are prefixed with "COOKIE_" before they are stored (this avoids accidental corruption of local variables)
To revert to the original behaviour, define the property "CookieManager.name.prefix= " (one or more spaces).
If enabled, the value of a cookie with the name TEST can be referred to as ${COOKIE_TEST}.

</p>


<p>
Second, you can manually add a cookie to the Cookie Manager.  However, if you do this,
the cookie will be shared by all JMeter threads.
</p>


<p>
Note that such Cookies are created with an Expiration time far in the future
</p>


<p>

Since version 2.0.3, cookies with null values are ignored by default.
This can be changed by setting the JMeter property: CookieManager.delete_null_cookies=false.
Note that this also applies to manually defined cookies - any such cookies will be removed from the display when it is updated.
Note also that the cookie name must be unique - if a second cookie is defined with the same name, it will replace the first.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='513' height='383' src="../../docs/images/screenshots/http-config/http-cookie-manager.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Clear Cookies each Iteration</td>
<td>If selected, all server-defined cookies are cleared each time the main Thread Group loop is executed.
  In JMeter versions after 2.3, any cookies defined in the GUI are not cleared.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Cookie Policy</td>
<td>The cookie policy that will be used to manage the cookies. 
  "compatibility" is the default, and should work in most cases.
  See http://hc.apache.org/httpclient-3.x/cookies.html and 
  http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/cookie/CookiePolicy.html
  [Note: "ignoreCookies" is equivalent to omitting the CookieManager.]
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Implementation</td>
<td>HC3CookieHandler (HttpClient 3.1 API) or HC4CookieHandler (HttpClient 4 API). 
  Default is HC3CookieHandler.
  
<br>


  
<i>
[Note: If you have a website to test with IPv6 address, choose HC4CookieHandler (IPv6 compliant)]
</i>
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>User-Defined Cookies</td>
<td>This
  gives you the opportunity to use hardcoded cookies that will be used by all threads during the test execution.
  
<br>


  The "domain" is the hostname of the server (without http://); the port is currently ignored.
  
</td>
<td>
No (discouraged, unless you know what you're doing)
</td>
</tr>
<tr>
<td>Add Button</td>
<td>Add an entry to the cookie table.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Delete Button</td>
<td>Delete the currently selected table entry.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Load Button</td>
<td>Load a previously saved cookie table and add the entries to the existing
cookie table entries.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Save As Button</td>
<td>
  Save the current cookie table to a file (does not save any cookies extracted from HTTP Responses).
  
</td>
<td>
N/A
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_Request_Defaults">18.4.7 HTTP Request Defaults</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This element lets you set default values that your HTTP Request controllers use.  For example, if you are
creating a Test Plan with 25 HTTP Request controllers and all of the requests are being sent to the same server,
you could add a single HTTP Request Defaults element with the "Server Name or IP" field filled in.  Then, when
you add the 25 HTTP Request controllers, leave the "Server Name or IP" field empty.  The controllers will inherit
this field value from the HTTP Request Defaults element.
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
In JMeter 2.2 and earlier, port 80 was treated specially - it was ignored if the sampler used the https protocol.
JMeter 2.3 and later treat all port values equally; a sampler that does not specify a port will use the HTTP Request Defaults port, if one is provided.

</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='853' height='463' src="../../docs/images/screenshots/http-config/http-request-defaults.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server</td>
<td>Domain name or IP address of the web server. e.g. www.example.com. [Do not include the http:// prefix.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Port</td>
<td>Port the web server is listening to.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Connect Timeout</td>
<td>Connection Timeout. Number of milliseconds to wait for a connection to open.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Response Timeout</td>
<td>Response Timeout. Number of milliseconds to wait for a response.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Implementation</td>
<td>Java, HttpClient3.1, HttpClient4. 
        If not specified the default depends on the value of the JMeter property
        
<code>
jmeter.httpsampler
</code>
, failing that, the Java implementation is used.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Protocol</td>
<td>HTTP or HTTPS.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Method</td>
<td>HTTP GET or HTTP POST.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Path</td>
<td>The path to resource (for example, /servlets/myServlet). If the
        resource requires query string parameters, add them below in the "Send Parameters With the Request" section.
        Note that the path is the default for the full path, not a prefix to be applied to paths
        specified on the HTTP Request screens.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Send Parameters With the Request</td>
<td>The query string will
        be generated from the list of parameters you provide.  Each parameter has a 
<i>
name
</i>
 and
        
<i>
value
</i>
.  The query string will be generated in the correct fashion, depending on
        the choice of "Method" you made (ie if you chose GET, the query string will be
        appended to the URL, if POST, then it will be sent separately).  Also, if you are
        sending a file using a multipart form, the query string will be created using the
        multipart form specifications.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server (proxy)</td>
<td>Hostname or IP address of a proxy server to perform request. [Do not include the http:// prefix.]
</td>
<td>
No
</td>
</tr>
<tr>
<td>Port</td>
<td>Port the proxy server is listening to.
</td>
<td>
No, unless proxy hostname is specified
</td>
</tr>
<tr>
<td>Username</td>
<td>(Optional) username for proxy server.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>(Optional) password for proxy server. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
<tr>
<td>Retrieve All Embedded Resources from HTML Files</td>
<td>Tell JMeter to parse the HTML file
and send HTTP/HTTPS requests for all images, Java applets, JavaScript files, CSSs, etc. referenced in the file.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use concurrent pool</td>
<td>Use a pool of concurrent connections to get embedded resources.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Size</td>
<td>Pool size for concurrent connections used to get embedded resources.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Embedded URLs must match:</td>
<td>
        If present, this must be a regular expression that is used to match against any embedded URLs found.
        So if you only want to download embedded resources from http://example.com/, use the expression:
        http://example\.com/.*
        
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Note: radio buttons only have two states - on or off.
This makes it impossible to override settings consistently
- does off mean off, or does it mean use the current default?
JMeter uses the latter (otherwise defaults would not work at all).
So if the button is off, then a later element can set it on,
but if the button is on, a later element cannot set it off.

</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_Header_Manager">18.4.8 HTTP Header Manager</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
The Header Manager lets you add or override HTTP request headers.
</p>


<p>

Versions of JMeter up to 2.3.2 supported only one Header Manager per sampler;
if there were more in scope, then only the last one would be used.

</p>


<p>


<b>
JMeter now supports multiple Header Managers
</b>
. The header entries are merged to form the list for the sampler.
If an entry to be merged matches an existing header name, it replaces the previous entry,
unless the entry value is empty, in which case any existing entry is removed.
This allows one to set up a default set of headers, and apply adjustments to particular samplers. 

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='767' height='239' src="../../docs/images/screenshots/http-config/http-header-manager.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Name (Header)</td>
<td>Name of the request header.
        Two common request headers you may want to experiment with
are "User-Agent" and "Referer".
</td>
<td>
No (You should have at least one, however)
</td>
</tr>
<tr>
<td>Value</td>
<td>Request header value.
</td>
<td>
No (You should have at least one, however)
</td>
</tr>
<tr>
<td>Add Button</td>
<td>Add an entry to the header table.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Delete Button</td>
<td>Delete the currently selected table entry.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Load Button</td>
<td>Load a previously saved header table and add the entries to the existing
header table entries.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Save As Button</td>
<td>Save the current header table to a file.
</td>
<td>
N/A
</td>
</tr>
</table>
</p>
<a name="header_manager_example"/>
<p><b>Header Manager example</b></p>



<p>
<a href="../demos/HeaderManagerTestPlan.jmx">
Download
</a>
 this example.  In this example, we created a Test Plan
that tells JMeter to override the default "User-Agent" request header and use a particular Internet Explorer agent string
instead. (see figures 12 and 13).
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='203' height='141' src="../../docs/images/screenshots/http-config/header-manager-example1a.gif"/><br>
<font size="-1">Figure 12 - Test Plan
</font></td></tr></table></p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img  src="../../docs/images/screenshots/http-config/header-manager-example1b.png"/><br>
<font size="-1">Figure 13 - Header Manager Control Panel
</font></td></tr></table></p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Java_Request_Defaults">18.4.9 Java Request Defaults</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The Java Request Defaults component lets you set default values for Java testing.  See the 
<a href="../usermanual/component_reference.html#Java_Request">Java Request</a>
.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='454' height='283' src="../../docs/images/screenshots/java_defaults.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JDBC_Connection_Configuration">18.4.10 JDBC Connection Configuration</a>
</h3>
</font>
</td></tr>
<tr><td>
Creates a database connection (used by 
<a href="../usermanual/component_reference.html#JDBC_Request">JDBC Request</a>
Sampler)
     from the supplied JDBC Connection settings. The connection may be optionally pooled between threads.
     Otherwise each thread gets its own connection.
     The connection configuration name is used by the JDBC Sampler to select the appropriate
     connection.
    
<p><b>Control Panel</b></p>
<div align="center"><img width='474' height='458' src="../../docs/images/screenshots/jdbc-config/jdbc-conn-config.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for the connection configuration that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Variable Name</td>
<td>The name of the variable the connection is tied to.  
        Multiple connections can be used, each tied to a different variable, allowing JDBC Samplers
        to select the appropriate connection.
        
<b>
Each name must be different. If there are two configuration elements using the same name,
        only one will be saved. JMeter versions after 2.3 log a message if a duplicate name is detected.
</b>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Max Number of Connections</td>
<td>
        Maximum number of connections allowed in the pool.
        In most cases, 
<b>
set this to zero (0)
</b>
.
        This means that each thread will get its own pool with a single connection in it, i.e.
        the connections are not shared betweeen threads.
        
<br>


        If you really want to use shared pooling (why?), then set the max count to the same as the number of threads
        to ensure threads don't wait on each other.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Pool timeout</td>
<td>Pool throws an error if the timeout period is exceeded in the 
        process of trying to retrieve a connection
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Idle Cleanup Interval (ms)</td>
<td>This is used to specify how long idle connections will be maintained in the pool before being closed. For a complete explanation on how this works, see 
<a href="http://excalibur.apache.org/apidocs/org/apache/avalon/excalibur/pool/ResourceLimitingPool.html#trim%28%29">
ResourceLimitingPool.trim()
</a>
 (Defaults to "60000", 1 minute)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Auto Commit</td>
<td>Turn auto commit on or off for the connections.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Keep-alive</td>
<td>The keep-alive is used enable a mechanism to monitor the health of connections. If a connection has not been used for Max Connection Age (ms) then before returning the connection from a call to getConnection(), the connection is first used to ping the database to make sure that it is still alive. 
        Setting the age allows the 5 second age to be overridden. Validation Query will be used to test it.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Max Connection Age (ms)</td>
<td>Controls the age mentionned in "Keep-Alive" property. It means connections not used for more than Max Connection Age will be tested
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Validation Query</td>
<td>A simple query used to determine if the database is still
        responding.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Database URL</td>
<td>JDBC Connection string for the database.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>JDBC Driver class</td>
<td>Fully qualified name of driver class. (Must be in
        JMeter's classpath - easiest to copy .jar file into JMeter's /lib directory).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Username</td>
<td>Name of user to connect as.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>Password to connect with. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
Different databases and JDBC drivers require different JDBC settings. 
The Database URL and JDBC Driver class are defined by the provider of the JDBC implementation.
</p>
<p>
Some possible settings are shown below. Please check the exact details in the JDBC driver documentation.
</p>
<p>

If JMeter reports 
<b>
No suitable driver
</b>
, then this could mean either:

<ul>


<li>
The driver class was not found. In this case, there will be a log message such as 
<tt>
DataSourceElement: Could not load driver: {classname} java.lang.ClassNotFoundException: {classname}
</tt>
</li>


<li>
The driver class was found, but the class does not support the connection string. This could be because of a syntax error in the connection string, or because the the wrong classname was used.
</li>


</ul>

If the database server is not running or is not accessible, then JMeter will report a 
<b>
java.net.ConnectException
</b>
.

</p>
<table>
<tr>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Database
</font>
</td>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Driver class
</font>
</td>
<td bgcolor="#039acc"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Database URL
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
MySQL
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
com.mysql.jdbc.Driver
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
jdbc:mysql://host[:port]/dbname
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
PostgreSQL
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
org.postgresql.Driver
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
jdbc:postgresql:{dbname}
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Oracle
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
oracle.jdbc.OracleDriver
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
jdbc:oracle:thin:@//host:port/service
OR<br />jdbc:oracle:thin:@(description=(address=(host={mc-name})(protocol=tcp)(port={port-no}))(connect_data=(sid={sid})))
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Ingres (2006)
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
ingres.jdbc.IngresDriver
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
jdbc:ingres://host:port/db[;attr=value]
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
SQL Server (MS JDBC driver)
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
com.microsoft.sqlserver.jdbc.SQLServerDriver
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
jdbc:sqlserver://host:port;DatabaseName=dbname
</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
Apache Derby
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
org.apache.derby.jdbc.ClientDriver
</font>
</td>
<td bgcolor="#a0ddf0"   valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
jdbc:derby://server[:port]/databaseName[;URLAttributes=value[;...]]
</font>
</td>
</tr>
</table>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The above may not be correct - please check the relevant JDBC driver documentation.
</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Keystore_Configuration">18.4.11 Keystore Configuration</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The Keystore Config Element lets you configure how Keystore will be loaded and which keys it will use.
This component is typically used in HTTPS scenarios where you don't want to take into account keystore initialization into account in response time.
</p>


<p>
To use this element, you need to setup first a Java Key Store with the client certificates you want to test, to do that:

<ol>


<li>
Create your certificates either with Java keytool utility or through your PKI
</li>


<li>
If created by PKI, import your keys in Java Key Store by converting them to a format acceptable by JKS
</li>


<li>
Then reference the keystore file through the 2 JVM properties (or add them in system.properties):
    
<ul>

        
<li>
-Djavax.net.ssl.keyStore=path_to_keystore
</li>

        
<li>
-Djavax.net.ssl.keyStorePassword=password_of_keystore
</li>

    
</ul>


</li>


</ol>


</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='441' height='189' src="../../docs/images/screenshots/keystore_config.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Preload</td>
<td>Wether or not to preload Keystore. Setting is to true is usually the best option.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Variable name holding certificate alias</td>
<td>Variable name that will contain the alias to use for authentication by client certificate. Variable value will be filled from CSV Data Set for example. In the screenshot, "certificat_ssl" will also be a variable in CSV Data Set.
</td>
<td>
False
</td>
</tr>
<tr>
<td>Alias Start Index</td>
<td>The index of the first key to use in Keystore, 0-based.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Alias End Index</td>
<td>The index of the last key to use in Keystore, 0-based. When using "Variable name holding certificate alias" ensure it is large enough so that all keys are loaded at startup.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
To make JMeter use more than one certificate you need to ensure that:

<ul>


<li>
https.use.cached.ssl.context=false is set in jmeter.properties or user.properties
</li>


<li>
You use either HTTPClient 3.1 or 4 implementations for HTTP Request
</li>


</ul>


</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Login_Config_Element">18.4.12 Login Config Element</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The Login Config Element lets you add or override username and password settings in samplers that use username and password as part of their setup.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='352' height='112' src="../../docs/images/screenshots/login-config.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Username</td>
<td>The default username to use.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Password</td>
<td>The default password to use. (N.B. this is stored unencrypted in the test plan)
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="LDAP_Request_Defaults">18.4.13 LDAP Request Defaults</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The LDAP Request Defaults component lets you set default values for LDAP testing.  See the 
<a href="../usermanual/component_reference.html#LDAP_Request">LDAP Request</a>
.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='689' height='232' src="../../docs/images/screenshots/ldap_defaults.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="LDAP_Extended_Request_Defaults">18.4.14 LDAP Extended Request Defaults</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The LDAP Extended Request Defaults component lets you set default values for extended LDAP testing.  See the 
<a href="../usermanual/component_reference.html#LDAP_Extended_Request">LDAP Extended Request</a>
.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='686' height='184' src="../../docs/images/screenshots/ldapext_defaults.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="TCP_Sampler_Config">18.4.15 TCP Sampler Config</a>
</h3>
</font>
</td></tr>
<tr><td>

        
<p>

    The TCP Sampler Config provides default data for the TCP Sampler
    
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='826' height='450' src="../../docs/images/screenshots/tcpsamplerconfig.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>TCPClient classname</td>
<td>Name of the TCPClient class. Defaults to the property tcp.handler, failing that TCPClientImpl.
</td>
<td>
No
</td>
</tr>
<tr>
<td>ServerName or IP</td>
<td>Name or IP of TCP server
</td>
<td>
No
</td>
</tr>
<tr>
<td>Port Number</td>
<td>Port to be used
</td>
<td>
No
</td>
</tr>
<tr>
<td>Re-use connection</td>
<td>If selected, the connection is kept open. Otherwise it is closed when the data has been read.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Close connection</td>
<td>If selected, the connection will be closed after running the sampler.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>SO_LINGER</td>
<td>Enable/disable SO_LINGER with the specified linger time in seconds when a socket is created. If you set "SO_LINGER" value as 0, you may prevent large numbers of sockets sitting around with a TIME_WAIT status.
</td>
<td>
No
</td>
</tr>
<tr>
<td>End of line(EOL) byte value</td>
<td>Byte value for end of line, set this to a value outside the range -128 to +127 to skip eol checking. You may set this in jmeter.properties file as well with eolByte property. If you set this in TCP Sampler Config and in jmeter.properties file at the same time, the setting value in the TCP Sampler Config will be used.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Connect Timeout</td>
<td>Connect Timeout (milliseconds, 0 disables).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Response Timeout</td>
<td>Response Timeout (milliseconds, 0 disables).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Set Nodelay</td>
<td>Should the nodelay property be set?
</td>
<td>
No
</td>
</tr>
<tr>
<td>Text to Send</td>
<td>Text to be sent
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="User_Defined_Variables">18.4.16 User Defined Variables</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The User Defined Variables element lets you define an 
<b>
initial set of variables
</b>
, just as in the 
<a href="../usermanual/component_reference.html#Test_Plan">Test Plan</a>
.

<b>

Note that all the UDV elements in a test plan - no matter where they are - are processed at the start.

</b>

So you cannot reference variables which are defined as part of a test run, e.g. in a Post-Processor.

</p>


<p>


<b>

UDVs should not be used with functions that generate different results each time they are called.
Only the result of the first function call will be saved in the variable. 

</b>

However, UDVs can be used with functions such as __P(), for example:

<pre>

HOST      ${__P(host,localhost)} 

</pre>

which would define the variable "HOST" to have the value of the JMeter property "host", defaulting to "localhost" if not defined.

</p>


<p>

For defining variables during a test run, see 
<a href="../usermanual/component_reference.html#User_Parameters">User Parameters</a>
.
UDVs are processed in the order they appear in the Plan, from top to bottom.

</p>


<p>

For simplicity, it is suggested that UDVs are placed only at the start of a Thread Group
(or perhaps under the Test Plan itself).

</p>


<p>

Once the Test Plan and all UDVs have been processed, the resulting set of variables is
copied to each thread to provide the initial set of variables.

</p>


<p>

If a runtime element such as a User Parameters Pre-Processor or Regular Expression Extractor defines a variable
with the same name as one of the UDV variables, then this will replace the initial value, and all other test
elements in the thread will see the updated value.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='741' height='266' src="../../docs/images/screenshots/user_defined_variables.png"/></div>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
If you have more than one Thread Group, make sure you use different names for different values, as UDVs are shared between Thread Groups.
Also, the variables are not available for use until after the element has been processed, 
so you cannot reference variables that are defined in the same element.
You can reference variables defined in earlier UDVs or on the Test Plan. 

</td></tr>
</table>
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>User Defined Variables</td>
<td>Variable name/value pairs. The string under the "Name"
      column is what you'll need to place inside the brackets in ${...} constructs to use the variables later on. The
      whole ${...} will then be replaced by the string in the "Value" column.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Random_Variable">18.4.17 Random Variable</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Random Variable Config Element is used to generate random numeric strings and store them in variable for use later.
It's simpler than using 
<a href="../usermanual/component_reference.html#User_Defined_Variables">User Defined Variables</a>
 together with the __Random() function.

</p>


<p>

The output variable is constructed by using the random number generator,
and then the resulting number is formatted using the format string.
The number is calculated using the formula 
<code>
minimum+Random.nextInt(maximum-minimum+1)
</code>
.
Random.nextInt() requires a positive integer.
This means that maximum-minimum - i.e. the range - must be less than 2147483647,
however the minimum and maximum values can be any long values so long as the range is OK.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='495' height='286' src="../../docs/images/screenshots/random_variable.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Variable Name</td>
<td>The name of the variable in which to store the random string.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Format String</td>
<td>The java.text.DecimalFormat format string to be used. 
  For example "000" which will generate numbers with at least 3 digits, 
  or "USER_000" which will generate output of the form USER_nnn. 
  If not specified, the default is to generate the number using Long.toString()
</td>
<td>
No
</td>
</tr>
<tr>
<td>Minimum Value</td>
<td>The minimum value (long) of the generated random number.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Maximum Value</td>
<td>The maximum value (long) of the generated random number.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Random Seed</td>
<td>The seed for the random number generator. Default is the current time in milliseconds. 
  If you use the same seed value with Per Thread set to true, you will get the same value for earch Thread as per 
  
<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Random.html">
Random
</a>
 class.
  
</td>
<td>
No
</td>
</tr>
<tr>
<td>Per Thread(User)?</td>
<td>If False, the generator is shared between all threads in the thread group.
  If True, then each thread has its own random generator.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Counter">18.4.18 Counter</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
Allows the user to create a counter that can be referenced anywhere
in the Thread Group.  The counter config lets the user configure a starting point, a maximum,
and the increment.  The counter will loop from the start to the max, and then start over
with the start, continuing on like that until the test is ended.  
</p>


<p>
From version 2.1.2, the counter now uses a long to store the value, so the range is from -2^63 to 2^63-1.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='404' height='262' src="../../docs/images/screenshots/counter.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Start</td>
<td>The starting number for the counter.  The counter will equal this
        number during the first iteration.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Increment</td>
<td>How much to increment the counter by after each
        iteration.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Maximum</td>
<td>If the counter exceeds the maximum, then it is reset to the Start value.
        For versions after 2.2 the default is Long.MAX_VALUE (previously it was 0).
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Format</td>
<td>Optional format, e.g. 000 will format as 001, 002 etc. 
        This is passed to DecimalFormat, so any valid formats can be used.
        If there is a problem interpreting the format, then it is ignored.
    [The default format is generated using Long.toString()]
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reference Name</td>
<td>This controls how you refer to this value in other elements.  Syntax is
        as in 
<a href="functions.html">
user-defined values
</a>
: 
<code>
$(reference_name}
</code>
.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Track Counter Independently for each User</td>
<td>In other words, is this a global counter, or does each user get their
        own counter?  If unchecked, the counter is global (ie, user #1 will get value "1", and user #2 will get value "2" on
        the first iteration).  If checked, each user has an independent counter.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reset counter on each Thread Group Iteration</td>
<td>This option is only available when counter is tracked per User, if checked, 
        counter will be reset to Start value on each Thread Group iteration. This can be useful when Counter is inside a Loop Controller.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Simple_Config_Element">18.4.19 Simple Config Element</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The Simple Config Element lets you add or override arbitrary values in samplers.  You can choose the name of the value
and the value itself.  Although some adventurous users might find a use for this element, it's here primarily for developers as a basic
GUI that they can use while developing new JMeter components.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='393' height='245' src="../../docs/images/screenshots/simple_config_element.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree. 
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameter Name</td>
<td>The name of each parameter.  These values are internal to JMeter's workings and
  are not generally documented.  Only those familiar with the code will know these values.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameter Value</td>
<td>The value to apply to that parameter.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="MongoDB_Source_Config">18.4.20 MongoDB Source Config</a>
</h3>
</font>
</td></tr>
<tr><td>
Creates a MongoDB connection (used by 
<a href="../usermanual/component_reference.html#MongoDB_Script">MongoDB Script</a>
Sampler)
     from the supplied Connection settings. Each thread gets its own connection.
     The connection configuration name is used by the JDBC Sampler to select the appropriate
     connection.
     You can then access com.mongodb.DB object in Beanshell or JSR223 Test Elements through the element 
<a href="../api/org/apache/jmeter/protocol/mongodb/config/MongoDBHolder.html">
MongoDBHolder
</a>
 
     using this code
<br>


     
    
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#ffffff"><pre>
import com.mongodb.DB;
import org.apache.jmeter.protocol.mongodb.config.MongoDBHolder;
DB db = MongoDBHolder.getDBFromSource(&quot;value of property MongoDB Source&quot;,
            &quot;value of property Database Name&quot;);
...
    </pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
</table>
</div>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='1233' height='618' src="../../docs/images/screenshots/mongodb-source-config.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for the connection configuration that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Server Address List</td>
<td>Mongo DB Servers
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>MongoDB Source</td>
<td>The name of the variable the connection is tied to.  
        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Each name must be different. If there are two configuration elements using the same name, only one will be saved.
</td></tr>
</table>
</p>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Keep Trying</td>
<td>
            If true, the driver will keep trying to connect to the same server in case that the socket cannot be established.
<br>


            There is maximum amount of time to keep retrying, which is 15s by default.
<br>

This can be useful to avoid some exceptions being thrown when a server is down temporarily by blocking the operations.
            
<br>

It also can be useful to smooth the transition to a new master (so that a new master is elected within the retry time).
<br>


            Note that when using this flag\:
            
<br>

- for a replica set, the driver will trying to connect to the old master for that time, instead of failing over to the new one right away 
            
<br>

- this does not prevent exception from being thrown in read/write operations on the socket, which must be handled by application.
<br>


            Even if this flag is false, the driver already has mechanisms to automatically recreate broken connections and retry the read operations. 
<br>


            Default is false.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Maximum connections per host</td>
<td></td>
<td>
No
</td>
</tr>
<tr>
<td>Connection timeout</td>
<td>
            The connection timeout in milliseconds.
<br>

It is used solely when establishing a new connection Socket.connect(java.net.SocketAddress, int)
<br>

Default is 0 and means no timeout.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Maximum retry time</td>
<td>
            The maximum amount of time in MS to spend retrying to open connection to the same server.
<br>

Default is 0, which means to use the default 15s if autoConnectRetry is on.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Maximum wait time</td>
<td>
            The maximum wait time in ms that a thread may wait for a connection to become available.
<br>

Default is 120,000.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Socket timeout</td>
<td>
            The socket timeout in milliseconds It is used for I/O socket read and write operations Socket.setSoTimeout(int)
<br>

Default is 0 and means no timeout.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Socket keep alive</td>
<td>
            This flag controls the socket keep alive feature that keeps a connection alive through firewalls Socket.setKeepAlive(boolean)
<br>


            Default is false.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>ThreadsAllowedToBlockForConnectionMultiplier</td>
<td>
        This multiplier, multiplied with the connectionsPerHost setting, gives the maximum number of threads that may be waiting for a connection to become available from the pool.
<br>


        All further threads will get an exception right away.
<br>


        For example if connectionsPerHost is 10 and threadsAllowedToBlockForConnectionMultiplier is 5, then up to 50 threads can wait for a connection.
<br>


        Default is 5.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Write Concern : Safe</td>
<td>
            If true the driver will use a WriteConcern of WriteConcern.SAFE for all operations.
<br>


            If w, wtimeout, fsync or j are specified, this setting is ignored.
<br>


            Default is false.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Write Concern : Fsync</td>
<td>
            The fsync value of the global WriteConcern.
<br>


            Default is false.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Write Concern : Wait for Journal</td>
<td>
            The j value of the global WriteConcern.
<br>


            Default is false.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Write Concern : Wait for servers</td>
<td>
            The w value of the global WriteConcern.
<br>

Default is 0.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Write Concern : Wait timeout</td>
<td>
            The wtimeout value of the global WriteConcern.
<br>

Default is 0.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Write Concern : Continue on error</td>
<td>
            If batch inserts should continue after the first error
        
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="assertions"><strong>18.5 Assertions</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<p>

    Assertions are used to perform additional checks on samplers, and are processed after 
<b>
every sampler
</b>

    in the same scope.
    To ensure that an Assertion is applied only to a particular sampler, add it as a child of the sampler.
    
</p>

    
<p>

    Note: Unless documented otherwise, Assertions are not applied to sub-samples (child samples) -
    only to the parent sample.
    In the case of BSF and BeanShell Assertions, the script can retrieve sub-samples using the method
    
<code>
prev.getSubResults()
</code>
 which returns an array of SampleResults.
    The array will be empty if there are none.
    
</p>

    
<p>

    Versions of JMeter after 2.3.2 include the option to apply certain assertions
    to either the main sample, the sub-samples or both. 
    The default is to apply the assertion to the main sample only.
    If the Assertion supports this option, then there will be an entry on the GUI which looks like the following:
    
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='658' height='54' src="../../docs/images/screenshots/assertion/assertionscope.png"/><br>
<font size="-1">Assertion Scope
</font></td></tr></table></p>

    or the following
    
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='841' height='55' src="../../docs/images/screenshots/assertion/assertionscopevar.png"/><br>
<font size="-1">Assertion Scope
</font></td></tr></table></p>

    If a sub-sampler fails and the main sample is successful,
    then the main sample will be set to failed status and an Assertion Result will be added.
    If the JMeter variable option is used, it is assumed to relate to the main sample, and
    any failure will be applied to the main sample only.
    
</p>

    
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
    The variable 
<b>
JMeterThread.last_sample_ok
</b>
 is updated to
    "true" or "false" after all assertions for a sampler have been run.
     
</td></tr>
</table>
</p>


</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Response_Assertion">18.5.1 Response Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The response assertion control panel lets you add pattern strings to be compared against various
    fields of the response.
    The pattern strings are:
    
<ul>

    
<li>
Contains, Matches: Perl5-style regular expressions
</li>

    
<li>
Equals, Substring: plain text, case-sensitive
</li>

    
</ul>

    
</p>

    
<p>

    A summary of the pattern matching characters can be found at 
<a href="http://jakarta.apache.org/oro/api/org/apache/oro/text/regex/package-summary.html">
ORO Perl5 regular expressions.
</a>

    
</p>

    
<p>
You can also choose whether the strings will be expected
to 
<b>
match
</b>
 the entire response, or if the response is only expected to 
<b>
contain
</b>
 the
pattern. You can attach multiple assertions to any controller for additional flexibility.
</p>


<p>
Note that the pattern string should not include the enclosing delimiters, 
    i.e. use 
<b>
Price: \d+
</b>
 not 
<b>
/Price: \d+/
</b>
.
    
</p>

    
<p>

    By default, the pattern is in multi-line mode, which means that the "." meta-character does not match newline.
    In multi-line mode, "^" and "$" match the start or end of any line anywhere within the string 
    - not just the start and end of the entire string. Note that \s does match new-line.
    Case is also significant. To override these settings, one can use the 
<i>
extended regular expression
</i>
 syntax.
    For example:

</p>


<dl>


<dt>
<code>
(?i)
</code>
</dt>
<dd>
ignore case
</dd>


<dt>
<code>
(?s)
</code>
</dt>
<dd>
treat target as single line, i.e. "." matches new-line
</dd>


<dt>
<code>
(?is)
</code>
</dt>
<dd>
both the above
</dd>


</dl>

These can be used anywhere within the expression and remain in effect until overriden.  e.g.

<dl>


<dt>
<code>
(?i)apple(?-i) Pie
</code>
</dt>
<dd>
matches "ApPLe Pie", but not "ApPLe pIe"
</dd>


<dt>
<code>
(?s)Apple.+?Pie
</code>
</dt>
<dd>
matches Apple followed by Pie, which may be on a subsequent line.
</dd>


<dt>
<code>
Apple(?s).+?Pie
</code>
</dt>
<dd>
same as above, but it's probably clearer to use the (?s) at the start.
</dd>


</dl>



<p><b>Control Panel</b></p>
<div align="center"><img width='921' height='423' src="../../docs/images/screenshots/assertion/assertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Apply to:</td>
<td>
        This is for use with samplers that can generate sub-samples, 
        e.g. HTTP Sampler with embedded resources, Mail Reader or samples generated by the Transaction Controller.
        
<ul>

        
<li>
Main sample only - assertion only applies to the main sample
</li>

        
<li>
Sub-samples only - assertion only applies to the sub-samples
</li>

        
<li>
Main sample and sub-samples - assertion applies to both.
</li>

        
<li>
JMeter Variable - assertion is to be applied to the contents of the named variable
</li>

        
</ul>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Response Field to Test</td>
<td>Instructs JMeter which field of the Response to test.
        
<ul>

        
<li>
Text Response - the response text from the server, i.e. the body, excluding any HTTP headers.
</li>

        
<li>
Document (text) - the extract text from various type of documents via Apache Tika (see 
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
 Document view section).
</li>

        
<li>
URL sampled
</li>

        
<li>
Response Code - e.g. 200
</li>

        
<li>
Response Message - e.g. OK
</li>

        
<li>
Response Headers, including Set-Cookie headers (if any)
</li>

        
</ul>

                
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Ignore status</td>
<td>Instructs JMeter to set the status to success initially. 
                
<p>

                The overall success of the sample is determined by combining the result of the
                assertion with the existing Response status.
                When the Ignore Status checkbox is selected, the Response status is forced
                to successful before evaluating the Assertion.
                
</p>

                HTTP Responses with statuses in the 4xx and 5xx ranges are normally
                regarded as unsuccessful. 
                The "Ignore status" checkbox can be used to set the status successful before performing further checks.
                Note that this will have the effect of clearing any previous assertion failures,
                so make sure that this is only set on the first assertion.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Pattern Matching Rules</td>
<td>Indicates how the text being tested
        is checked against the pattern.
        
<ul>

        
<li>
Contains - true if the text contains the regular expression pattern
</li>

        
<li>
Matches - true if the whole text matches the regular expression pattern
</li>

        
<li>
Equals - true if the whole text equals the pattern string (case-sensitive)
</li>

        
<li>
Substring - true if the text contains the pattern string (case-sensitive)
</li>

        
</ul>

        Equals and Substring patterns are plain strings, not regular expressions.
        NOT may also be selected to invert the result of the check.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Patterns to Test</td>
<td>A list of patterns to
        be tested.  
        Each pattern is tested separately. 
        If a pattern fails, then further patterns are not checked.
        There is no difference between setting up
        one Assertion with multiple patterns and setting up multiple Assertions with one
        pattern each (assuming the other options are the same).
        
<b>
However, when the Ignore Status checkbox is selected, this has the effect of cancelling any
        previous assertion failures - so make sure that the Ignore Status checkbox is only used on
        the first Assertion.
</b>

        
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>

    The pattern is a Perl5-style regular expression, but without the enclosing brackets.

</p>
<a name="assertion_examples"/>
<p><b>Assertion Examples</b></p>


<center>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='242' height='123' src="../../docs/images/screenshots/assertion/example1a.png"/><br>
<font size="-1">Figure 14 - Test Plan
</font></td></tr></table></p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='920' height='451' src="../../docs/images/screenshots/assertion/example1b.png"/><br>
<font size="-1">Figure 15 - Assertion Control Panel with Pattern
</font></td></tr></table></p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='801' height='230' src="../../docs/images/screenshots/assertion/example1c-pass.png"/><br>
<font size="-1">Figure 16 - Assertion Listener Results (Pass)
</font></td></tr></table></p>


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='800' height='233' src="../../docs/images/screenshots/assertion/example1c-fail.png"/><br>
<font size="-1">Figure 17 - Assertion Listener Results (Fail)
</font></td></tr></table></p>


</center>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Duration_Assertion">18.5.2 Duration Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The Duration Assertion tests that each response was received within a given amount
of time.  Any response that takes longer than the given number of milliseconds (specified by the
user) is marked as a failed response.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='606' height='187' src="../../docs/images/screenshots/duration_assertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Duration in Milliseconds</td>
<td>The maximum number of milliseconds
        each response is allowed before being marked as failed.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Size_Assertion">18.5.3 Size Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The Size Assertion tests that each response contains the right number of bytes in it.  You can specify that
the size be equal to, greater than, less than, or not equal to a given number of bytes.
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Since JMeter 2.3RC3, an empty response is treated as being 0 bytes rather than reported as an error.
</td></tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='732' height='358' src="../../docs/images/screenshots/size_assertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Apply to:</td>
<td>
        This is for use with samplers that can generate sub-samples, 
        e.g. HTTP Sampler with embedded resources, Mail Reader or samples generated by the Transaction Controller.
        
<ul>

        
<li>
Main sample only - assertion only applies to the main sample
</li>

        
<li>
Sub-samples only - assertion only applies to the sub-samples
</li>

        
<li>
Main sample and sub-samples - assertion applies to both.
</li>

        
<li>
JMeter Variable - assertion is to be applied to the contents of the named variable
</li>

        
</ul>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Size in bytes</td>
<td>The number of bytes to use in testing the size of the response (or value of the JMeter variable).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Type of Comparison</td>
<td>Whether to test that the response is equal to, greater than, less than,
        or not equal to, the number of bytes specified.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="XML_Assertion">18.5.4 XML Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The XML Assertion tests that the response data consists of a formally correct XML document.  It does not
validate the XML based on a DTD or schema or do any further validation.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='470' height='85' src="../../docs/images/screenshots/xml_assertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BeanShell_Assertion">18.5.5 BeanShell Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The BeanShell Assertion allows the user to perform assertion checking using a BeanShell script.

</p>


<p>


<b>
For full details on using BeanShell, please see the 
<a href="http://www.beanshell.org/">
BeanShell website.
</a>
</b>


</p>
<p>

Note that a different Interpreter is used for each independent occurence of the assertion
in each thread in a test script, but the same Interpreter is used for subsequent invocations.
This means that variables persist across calls to the assertion.

</p>


<p>

All Assertions are called from the same thread as the sampler.

</p>


<p>

If the property "beanshell.assertion.init" is defined, it is passed to the Interpreter
as the name of a sourced file. This can be used to define common methods and variables.
There is a sample init file in the bin directory: BeanShellAssertion.bshrc

</p>


<p>

The test element supports the ThreadListener and TestListener methods.
These should be defined in the initialisation file.
See the file BeanShellListeners.bshrc for example definitions.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='849' height='633' src="../../docs/images/screenshots/beanshell_assertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
    The name is stored in the script variable Label
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reset bsh.Interpreter before each call</td>
<td>
    If this option is selected, then the interpreter will be recreated for each sample.
    This may be necessary for some long running scripts. 
    For further information, see 
<a href="best-practices#bsh_scripting">
Best Practices - BeanShell scripting
</a>
.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the BeanShell script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
bsh.args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the BeanShell script to run. This overrides the script.
    The file name is stored in the script variable FileName
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The BeanShell script to run. The return value is ignored.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>
There's a 
<a href="../demos/BeanShellAssertion.bsh">
sample script
</a>
 you can try.
</p>
<p>

Before invoking the script, some variables are set up in the BeanShell interpreter.
These are strings unless otherwise noted:

<ul>


<li>
log - the Logger Object. (e.g.) log.warn("Message"[,Throwable])
</li>

    
<li>
SampleResult - the 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
 Object; read-write
</li>

    
<li>
Response - the response Object; read-write
</li>

    
<li>
Failure - boolean; read-write; used to set the Assertion status
</li>

    
<li>
FailureMessage - String; read-write; used to set the Assertion message
</li>

    
<li>
ResponseData - the response body (byte [])
</li>

    
<li>
ResponseCode - e.g. 200
</li>

    
<li>
ResponseMessage - e.g. OK
</li>

    
<li>
ResponseHeaders - contains the HTTP headers
</li>

    
<li>
RequestHeaders - contains the HTTP headers sent to the server
</li>

    
<li>
SampleLabel
</li>

    
<li>
SamplerData - data that was sent to the server
</li>

    
<li>
ctx - 
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
</li>

    
<li>
vars - 
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
  - e.g. vars.get("VAR1"); vars.put("VAR2","value"); vars.putObject("OBJ1",new Object());
</li>

    
<li>
props - JMeterProperties (class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


</ul>


</p>
<p>
The following methods of the Response object may be useful:

<ul>

    
<li>
setStopThread(boolean)
</li>

    
<li>
setStopTest(boolean)
</li>

    
<li>
String getSampleLabel()
</li>

    
<li>
setSampleLabel(String)
</li>


</ul>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="MD5Hex_Assertion">18.5.6 MD5Hex Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The MD5Hex Assertion allows the user to check the MD5 hash of the response data.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='411' height='149' src="../../docs/images/screenshots/assertion/MD5HexAssertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>MD5 sum</td>
<td>32 hex digits representing the MD5 hash (case not significant)
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTML_Assertion">18.5.7 HTML Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The HTML Assertion allows the user to check the HTML syntax of the response data using JTidy.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='464' height='384' src="../../docs/images/screenshots/assertion/HTMLAssertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>doctype</td>
<td>omit/auto/strict/loose
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Format</td>
<td>HTML, XHTML or XML
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Errors only</td>
<td>Only take note of errors?
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Error threshold</td>
<td>Number of errors allowed before classing the response as failed
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Warning threshold</td>
<td>Number of warnings allowed before classing the response as failed
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Filename</td>
<td>Name of file to which report is written
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="XPath_Assertion">18.5.8 XPath Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The XPath Assertion tests a document for well formedness, has the option
of validating against a DTD, or putting the document through JTidy and testing for an
XPath.  If that XPath exists, the Assertion is true.  Using "/" will match any well-formed
document, and is the default XPath Expression. 
The assertion also supports boolean expressions, such as "count(//*error)=2".
See 
<a href="http://www.w3.org/TR/xpath">
http://www.w3.org/TR/xpath
</a>
 for more information
on XPath.

</p>

Some sample expressions:

<ul>


<li>
//title[text()='Text to match'] - matches &lt;text&gt;Text to match&lt;/text&gt; anywhere in the response
</li>


<li>
/title[text()='Text to match'] - matches &lt;text&gt;Text to match&lt;/text&gt; at root level in the response
</li>


</ul>


<p><b>Control Panel</b></p>
<div align="center"><img width='800' height='317' src="../../docs/images/screenshots/xpath_assertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Use Tidy (tolerant parser)</td>
<td>Use Tidy, i.e. be tolerant of XML/HTML errors
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Quiet</td>
<td>Sets the Tidy Quiet flag
</td>
<td>
If Tidy is selected
</td>
</tr>
<tr>
<td>Report Errors</td>
<td>If a Tidy error occurs, then set the Assertion accordingly
</td>
<td>
If Tidy is selected
</td>
</tr>
<tr>
<td>Show warnings</td>
<td>Sets the Tidy showWarnings option
</td>
<td>
If Tidy is selected
</td>
</tr>
<tr>
<td>Use Namespaces</td>
<td>Should namespaces be honoured?
</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>Validate XML</td>
<td>Check the document against its schema.
</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>Ignore Whitespace</td>
<td>Ignore Element Whitespace.
</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>Fetch External DTDs</td>
<td>If selected, external DTDs are fetched.
</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>XPath Assertion</td>
<td>XPath to match in the document.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>True if nothing matches</td>
<td>True if a XPath expression is not matched
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
The non-tolerant parser can be quite slow, as it may need to download the DTD etc.

</td></tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
As a work-round for namespace limitations of the Xalan XPath parser implementation on which JMeter is based,
you can provide a Properties file which contains mappings for the namespace prefixes: 

<ul>


<li>
prefix1=Full Namespace 1
</li>


<li>
prefix2=Full Namespace 2
</li>


<li>
...
</li>


</ul>


You reference this file in jmeter.properties file using the property:

<ul>

    
<li>
xpath.namespace.config
</li>


</ul>


</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="XML_Schema_Assertion">18.5.9 XML Schema Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The XML Schema Assertion allows the user to validate a response against an XML Schema.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='472' height='132' src="../../docs/images/screenshots/assertion/XMLSchemaAssertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>File Name</td>
<td>Specify XML Schema File Name
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BSF_Assertion">18.5.10 BSF Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BSF Assertion allows BSF script code to be used to check the status of the previous sample.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='847' height='634' src="../../docs/images/screenshots/bsf_assertion.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Language</td>
<td>The BSF language to be used
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the script to run, if a relative file path is used, then it will be relative to directory referenced by "user.dir" System property
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The script to run.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>

The script (or file) is processed using the BSFEngine.exec() method, which does not return a value.

</p>
<p>
The following variables are set up for use by the script:
</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
Label - the String Label
</li>


<li>
Filename - the script file name (if any)
</li>


<li>
Parameters - the parameters (as a String)
</li>


<li>
args[] - the parameters as a String array (split on whitespace)
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object()); vars.getObject("OBJ2");
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
SampleResult, prev - (
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
) - gives access to the previous SampleResult (if any)
</li>


<li>
sampler - (Sampler)- gives access to the current sampler
</li>


<li>
OUT - System.out - e.g. OUT.println("message")
</li>


<li>
AssertionResult - the assertion result
</li>


</ul>
<p>

The script can check various aspects of the 
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
.
If an error is detected, the script should use AssertionResult.setFailureMessage("message") and AssertionResult.setFailure(true).

</p>
<p>
For futher details of all the methods available on each of the above variables, please check the Javadoc
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JSR223_Assertion">18.5.11 JSR223 Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JSR223 Assertion allows JSR223 script code to be used to check the status of the previous sample.
For details, see 
<a href="../usermanual/component_reference.html#BSF_Assertion">BSF Assertion</a>
.

</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Compare_Assertion">18.5.12 Compare Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Compare Assertion MUST NOT BE USED during load test as it consumes a lot of resources (memory and CPU). Use it only for either functional testing or 
during Test Plan debugging and Validation.

</td></tr>
</table>
</p>


The Compare Assertion can be used to compare sample results within its scope.
Either the contents or the elapsed time can be compared, and the contents can be filtered before comparison.
The assertion comparisons can be seen in the 
<a href="../usermanual/component_reference.html#Comparison_Assertion_Visualizer">Comparison Assertion Visualizer</a>
.

<p><b>Control Panel</b></p>
<div align="center"><img width='292' height='296' src="../../docs/images/screenshots/assertion/compare.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Compare Content</td>
<td>Whether or not to compare the content (response data)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Compare Time</td>
<td>If the value is >=0, then check if the response time difference is no greater than the value. 
    I.e. if the value is 0, then the response times must be exactly equal.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Comparison Filters</td>
<td>Filters can be used to remove strings from the content comparison.
    For example, if the page has a time-stamp, it might be matched with: "Time: \d\d:\d\d:\d\d" and replaced with a dummy fixed time "Time: HH:MM:SS".
    
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="SMIME_Assertion">18.5.13 SMIME Assertion</a>
</h3>
</font>
</td></tr>
<tr><td>

The SMIME Assertion can be used to evaluate the sample results from the Mail Reader Sampler.
This assertion verifies if the body of a mime message is signed or not. The signature can also be verified against a specific signer certificate.
As this is a functionality that is not necessarily needed by most users, additional jars need to be downloaded and added to JMETER_HOME/lib :
<br>

 

<ul>


<li>
bcmail-xxx.jar (BouncyCastle SMIME/CMS)
</li>


<li>
bcprov-xxx.jar (BouncyCastle Provider)
</li>


</ul>

These need to be 
<a href="http://www.bouncycastle.org/latest_releases.html">
downloaded from BouncyCastle.
</a>


<p>

If using the 
<a href="../usermanual/component_reference.html#Mail_Reader_Sampler">Mail Reader Sampler</a>
, 
please ensure that you select "Store the message using MIME (raw)" otherwise the Assertion won't be able to process the message correctly.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='471' height='428' src="../../docs/images/screenshots/assertion/smime.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Verify Signature</td>
<td>If selected, the asertion will verify if it is a valid signature according to the parameters defined in the Signer Certificate box.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Message not signed</td>
<td>Whether or not to expect a signature in the message
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Signer Cerificate</td>
<td>"No Check" means that it wil not perform signature verification. "Check values" is used to verify the signature against the inputs provided. And "Certificate file" will perform the verification against a specific certificate file.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Message Position</td>
<td>
    The Mail sampler can retrieve multiple messages in a single sample.
    Use this field to specify which message will be checked.
    Messages are numbered from 0, so 0 means the first message.
    Negative numbers count from the LAST message; -1 means LAST, -2 means penultimate etc.
    
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="timers"><strong>18.6 Timers</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<br>


    
<p>

    Note that timers are processed 
<b>
before
</b>
 each sampler in the scope in which they are found;
    if there are several timers in the same scope, 
<b>
all
</b>
 the timers will be processed 
<b>
before
    each
</b>
 sampler.
    
<br>


    Timers are only processed in conjunction with a sampler.
    A timer which is not in the same scope as a sampler will not be processed at all.
    
<br>


    To apply a timer to a single sampler, add the timer as a child element of the sampler.
    The timer will be applied before the sampler is executed.
    To apply a timer after a sampler, either add it to the next sampler, or add it as the
    child of a 
<a href="../usermanual/component_reference.html#Test_Action">Test Action</a>
 Sampler.
    
</p>


</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Constant_Timer">18.6.1 Constant Timer</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
If you want to have each thread pause for the same amount of time between
requests, use this timer.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='372' height='100' src="../../docs/images/screenshots/timers/constant_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this timer that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Thread Delay</td>
<td>Number of milliseconds to pause.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Gaussian_Random_Timer">18.6.2 Gaussian Random Timer</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This timer pauses each thread request for a random amount of time, with most
of the time intervals ocurring near a particular value.  
The total delay is the sum of the Gaussian distributed value (with mean 0.0 and standard deviation 1.0) times
the deviation value you specify, and the offset value.
Another way to explain it, in Gaussian Random Timer, the variation around constant offset has a gaussian curve distribution. 


</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='372' height='156' src="../../docs/images/screenshots/timers/gauss_random_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this timer that is shown in the tree
</td>
<td>
No
</td>
</tr>
<tr>
<td>Deviation</td>
<td>Deviation in milliseconds.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Constant Delay Offset</td>
<td>Number of milliseconds to pause in addition
to the random delay.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Uniform_Random_Timer">18.6.3 Uniform Random Timer</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This timer pauses each thread request for a random amount of time, with
each time interval having the same probability of occurring. The total delay
is the sum of the random value and the offset value.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='372' height='157' src="../../docs/images/screenshots/timers/uniform_random_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this timer that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Random Delay Maximum</td>
<td>Maxium random number of milliseconds to
pause.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Constant Delay Offset</td>
<td>Number of milliseconds to pause in addition
to the random delay.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Constant_Throughput_Timer">18.6.4 Constant Throughput Timer</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This timer introduces variable pauses, calculated to keep the total throughput (in terms of samples per minute) as close as possible to a give figure. Of course the throughput will be lower if the server is not capable of handling it, or if other timers or time-consuming test elements prevent it.
</p>


<p>

N.B. although the Timer is called the Constant Throughput timer, the throughput value does not need to be constant.
It can be defined in terms of a variable or function call, and the value can be changed during a test.
The value can be changed in various ways:

</p>


<ul>


<li>
using a counter variable
</li>


<li>
using a JavaScript or BeanShell function to provide a changing value
</li>


<li>
using the remote BeanShell server to change a JMeter property
</li>


</ul>


<p>
See 
<a href="best-practices.html">
Best Practices
</a>
 for further details.
Note that the throughput value should not be changed too often during a test
- it will take a while for the new value to take effect.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='636' height='146' src="../../docs/images/screenshots/timers/constant_throughput_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this timer that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Target Throughput</td>
<td>Throughput we want the timer to try to generate.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Calculate Throughput based on</td>
<td>
   
<ul>

    
<li>
this thread only - each thread will try to maintain the target throughput. The overall throughput will be proportional to the number of active threads.
</li>

    
<li>
all active threads in current thread group - the target throughput is divided amongst all the active threads in the group. 
    Each thread will delay as needed, based on when it last ran.
</li>

    
<li>
all active threads - the target throughput is divided amongst all the active threads in all Thread Groups.
    Each thread will delay as needed, based on when it last ran.
    In this case, each other Thread Group will need a Constant Throughput timer with the same settings.
</li>

    
<li>
all active threads in current thread group (shared) - as above, but each thread is delayed based on when any thread in the group last ran.
</li>

    
<li>
all active threads (shared) - as above; each thread is delayed based on when any thread last ran.
</li>

   
</ul>

  
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Synchronizing_Timer">18.6.5 Synchronizing Timer</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The purpose of the SyncTimer is to block threads until X number of threads have been blocked, and
then they are all released at once.  A SyncTimer can thus create large instant loads at various
points of the test plan.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='415' height='125' src="../../docs/images/screenshots/timers/sync_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this timer that is shown in the tree. 
</td>
<td>
No
</td>
</tr>
<tr>
<td>Number of Simultaneous Users to Group by</td>
<td>Number of threads to release at once. Setting it to 0 is equivalent to setting it to Number of threads in Thread Group.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Timeout in milliseconds</td>
<td>If set to 0, Timer will wait for the number of threads to reach the value in "Number of Simultaneous Users to Group", if superior to 0, then timer will wait at max "Timeout in milliseconds" if number of Threads does not reach if ater the timeout interval the number of users waiting is not reached, timer will stop waiting. Defaults to 0
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
If timeout in milliseconds is set to 0 and number of threads never reaches "Number of Simultaneous Users to Group by" then Test will pause infinitely.
Only a forced stop will stop it. Setting Timeout in milliseconds is an option to consider in this case.

</td></tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Synchronizing timer blocks only within one JVM, so if using Distributed testing ensure you never set "Number of Simultaneous Users to Group by" to a value superior to the number of users
of its containing Thread group considering 1 injector only.

</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BeanShell_Timer">18.6.6 BeanShell Timer</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BeanShell Timer can be used to generate a delay.

</p>


<p>


<b>
For full details on using BeanShell, please see the 
<a href="http://www.beanshell.org/">
BeanShell website.
</a>
</b>


</p>


<p>

The test element supports the ThreadListener and TestListener methods.
These should be defined in the initialisation file.
See the file BeanShellListeners.bshrc for example definitions.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='846' height='636' src="../../docs/images/screenshots/timers/beanshell_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
    The name is stored in the script variable Label
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reset bsh.Interpreter before each call</td>
<td>
    If this option is selected, then the interpreter will be recreated for each sample.
    This may be necessary for some long running scripts. 
    For further information, see 
<a href="best-practices#bsh_scripting">
Best Practices - BeanShell scripting
</a>
.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the BeanShell script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
bsh.args - String array containing parameters, split on white-space
</li>

    
</ul>

    
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>
    A file containing the BeanShell script to run.
    The file name is stored in the script variable FileName
     The return value is used as the number of milliseconds to wait.
     
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>
        The BeanShell script. The return value is used as the number of milliseconds to wait.
    
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>
Before invoking the script, some variables are set up in the BeanShell interpreter:
</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object());
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
prev - (
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
) - gives access to the previous SampleResult (if any)
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
<p>
If the property 
<b>
beanshell.timer.init
</b>
 is defined, this is used to load an initialisation file, which can be used to define methods etc for use in the BeanShell script.
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BSF_Timer">18.6.7 BSF Timer</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BSF Timer can be used to generate a delay using a BSF scripting language.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='844' height='636' src="../../docs/images/screenshots/timers/bsf_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>ScriptLanguage</td>
<td>
        The scripting language to be used.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
args - String array containing parameters, split on white-space
</li>

    
</ul>

    
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>
    A file containing the script to run, if a relative file path is used, then it will be relative to directory referenced by "user.dir" System property
     The return value is converted to a long integer and used as the number of milliseconds to wait.
     
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>
        The script. The return value is used as the number of milliseconds to wait.
    
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>
Before invoking the script, some variables are set up in the script interpreter:
</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object());
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
sampler - the current Sampler
</li>


<li>
Label - the name of the Timer
</li>


<li>
Filename - the file name (if any)
</li>


<li>
OUT - System.out
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JSR223_Timer">18.6.8 JSR223 Timer</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JSR223 Timer can be used to generate a delay using a JSR223 scripting language,
For details, see 
<a href="../usermanual/component_reference.html#BSF_Timer">BSF Timer</a>
.

</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Poisson_Random_Timer">18.6.9 Poisson Random Timer</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This timer pauses each thread request for a random amount of time, with most
of the time intervals ocurring near a particular value.  The total delay is the
sum of the Poisson distributed value, and the offset value.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='341' height='182' src="../../docs/images/screenshots/timers/poisson_random_timer.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this timer that is shown in the tree
</td>
<td>
No
</td>
</tr>
<tr>
<td>Lambda</td>
<td>Lambda value in milliseconds.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Constant Delay Offset</td>
<td>Number of milliseconds to pause in addition
to the random delay.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="preprocessors"><strong>18.7 Pre Processors</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<br>


        Preprocessors are used to modify the Samplers in their scope.
    
<br>


    
</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTML_Link_Parser">18.7.1 HTML Link Parser</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
This modifier parses HTML response from the server and extracts
links and forms.  A URL test sample that passes through this modifier will be examined to
see if it "matches" any of the links or forms extracted
from the immediately previous response.  It would then replace the values in the URL
test sample with appropriate values from the matching link or form.  Perl-type regular
expressions are used to find matches.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='239' height='113' src="../../docs/images/screenshots/html_link_parser.png"/></div>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Matches are performed using protocol, host, path and parameter names.
The target sampler cannot contain parameters that are not in the response links.

</td></tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
If using distributed testing, ensure you switch mode (see jmeter.properties) so that it's not a stripping one, see 
<a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=56376">Bug 56376</a>


</td></tr>
</table>
</p>
<a name="spider_example"/>
<p><b>Spidering Example</b></p>


<p>
Consider a simple example: let's say you wanted JMeter to "spider" through your site,
hitting link after link parsed from the HTML returned from your server (this is not
actually the most useful thing to do, but it serves as a good example).  You would create
a 
<a href="../usermanual/component_reference.html#Simple_Controller">Simple Controller</a>
, and add the "HTML Link Parser" to it.  Then, create an
HTTP Request, and set the domain to ".*", and the path likewise. This will
cause your test sample to match with any link found on the returned pages.  If you wanted to
restrict the spidering to a particular domain, then change the domain value
to the one you want.  Then, only links to that domain will be followed.

</p>


<a name="poll_example"/>
<p><b>Poll Example</b></p>


<p>
A more useful example: given a web polling application, you might have a page with
several poll options as radio buttons for the user to select.  Let's say the values
of the poll options are very dynamic - maybe user generated.  If you wanted JMeter to
test the poll, you could either create test samples with hardcoded values chosen, or you
could let the HTML Link Parser parse the form, and insert a random poll option into
your URL test sample.  To do this, follow the above example, except, when configuring
your Web Test controller's URL options, be sure to choose "POST" as the
method.  Put in hard-coded values for the domain, path, and any additional form parameters.
Then, for the actual radio button parameter, put in the name (let's say it's called "poll_choice"),
and then ".*" for the value of that parameter.  When the modifier examines
this URL test sample, it will find that it "matches" the poll form (and
it shouldn't match any other form, given that you've specified all the other aspects of
the URL test sample), and it will replace your form parameters with the matching
parameters from the form.  Since the regular expression ".*" will match with
anything, the modifier will probably have a list of radio buttons to choose from.  It
will choose at random, and replace the value in your URL test sample.  Each time through
the test, a new random value will be chosen.
</p>



<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='755' height='325' src="../../docs/images/screenshots/modification.png"/><br>
<font size="-1">Figure 18 - Online Poll Example
</font></td></tr></table></p>



<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>One important thing to remember is that you must create a test sample immediately
prior that will return an HTML page with the links and forms that are relevant to
your dynamic test sample.
</td></tr>
</table>
</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_URL_Re-writing_Modifier">18.7.2 HTTP URL Re-writing Modifier</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
This modifier works similarly to the HTML Link Parser, except it has a specific purpose for which
it is easier to use than the HTML Link Parser, and more efficient.  For web applications that
use URL Re-writing to store session ids instead of cookies, this element can be attached at the
ThreadGroup level, much like the 
<a href="../usermanual/component_reference.html#HTTP_Cookie_Manager">HTTP Cookie Manager</a>
.  Simply give it the name
of the session id parameter, and it will find it on the page and add the argument to every
request of that ThreadGroup.
</p>


<p>
Alternatively, this modifier can be attached to select requests and it will modify only them.
Clever users will even determine that this modifier can be used to grab values that elude the

<a href="../usermanual/component_reference.html#HTML_Link_Parser">HTML Link Parser</a>
.
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='579' height='239' src="../../docs/images/screenshots/url_rewriter.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name given to this element in the test tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Session Argument Name</td>
<td>The name of the parameter to grab from
        previous response.  This modifier will find the parameter anywhere it exists on the page, and
        grab the value assigned to it, whether it's in an HREF or a form.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Path Extension</td>
<td>Some web apps rewrite URLs by appending
        a semi-colon plus the session id parameter.  Check this box if that is so.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Do not use equals in path extension</td>
<td>Some web apps rewrite URLs without using an "=" sign between the parameter name and value (such as Intershop Enfinity).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Do not use questionmark in path extension</td>
<td>Prevents the query string to end up in the path extension (such as Intershop Enfinity).
</td>
<td>
No
</td>
</tr>
<tr>
<td>Cache Session Id?</td>
<td>
        Should the value of the session Id be saved for later use when the session Id is not present?
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>URL Encode</td>
<td>
        URL Encode value when writing parameter
        
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
If using distributed testing, ensure you switch mode (see jmeter.properties) so that it's not a stripping one, see 
<a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=56376">Bug 56376</a>
.

</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTML_Parameter_Mask_(DEPRECATED)">18.7.3 HTML Parameter Mask (DEPRECATED)</a>
</h3>
</font>
</td></tr>
<tr><td bgcolor="#bbbb00"><div align="center"><b>*** This element is deprecated.  Use <a href="../usermanual/component_reference.html#Counter">Counter</a> instead ***</b></div></td></tr>
<tr><td>
<p>
The HTML Parameter Mask is used to generate unique values for HTML arguments.  By
specifying the name of the parameter, a value prefix and suffix, and counter parameters, this
modifier will generate values of the form "
<code>
name=prefixcountersuffix
</code>
".  Any HTTP
Request that it modifies, it will replace any parameter with the same name or add the appropriate
parameter to the requests list of arguments.
</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>The value of the argument in your HTTP Request must be a '*' in order for the HTML Parameter Mask
Modifier to replace it.
</td></tr>
</table>
</p>


<p>
As an example, the username for a login script could be modified to send a series of values
such as:
<br>


user_1
<br>


user_2
<br>


user_3
<br>


user_4, etc.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='624' height='209' src="../../docs/images/screenshots/parameter_mask.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name given to this element in the test tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Name (second appearing)</td>
<td>The name of the parameter to
        modify or add to the HTTP Request.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>ID Prefix</td>
<td>A string value to prefix to every generated value.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Lower Bound</td>
<td>A number value to start the counter at.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Upper Bound</td>
<td>A number value to end the counter, at which point it restarts
        with the Lower Bound value.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Increment</td>
<td>Value to increment the counter by each time through.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>ID Suffix</td>
<td>A string value to add as suffix to every generated vaue.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="User_Parameters">18.7.5 User Parameters</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
Allows the user to specify values for User Variables specific to individual threads.
</p>


<p>
User Variables can also be specified in the Test Plan but not specific to individual threads. This panel allows
you to specify a series of values for any User Variable. For each thread, the variable will be assigned one of the values from the series
in sequence. If there are more threads than values, the values get re-used. For example, this can be used to assign a distinct
user id to be used by each thread. User variables can be referenced in any field of any jMeter Component.
</p>



<p>
The variable is specified by clicking the Add Variable button in the bottom of the panel and filling in the Variable name in the 'Name:' column.
To add a new value to the series, click the 'Add User' button and fill in the desired value in the newly added column.
</p>



<p>
Values can be accessed in any test component in the same thread group, using the 
<a href="functions.html">
function syntax
</a>
: ${variable}.
</p>


<p>
See also the 
<a href="../usermanual/component_reference.html#CSV_Data_Set_Config">CSV Data Set Config</a>
 element, which is more suitable for large numbers of parameters
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='703' height='303' src="../../docs/images/screenshots/user_params.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Update Once Per Iteration</td>
<td>A flag to indicate whether the User Paramters element
        should update its variables only once per iteration.  if you embed functions into the UP, then you may need greater
        control over how often the values of the variables are updated.  Keep this box checked to ensure the values are
        updated each time through the UP's parent controller.  Uncheck the box, and the UP will update the parameters for 
        every sample request made within its 
<a href="test_plan.html#scoping_rules">
scope
</a>
.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BeanShell_PreProcessor">18.7.7 BeanShell PreProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BeanShell PreProcessor allows arbitrary code to be applied before taking a sample.

</p>


<p>


<b>
For full details on using BeanShell, please see the 
<a href="http://www.beanshell.org/">
BeanShell website.
</a>
</b>


</p>


<p>

The test element supports the ThreadListener and TestListener methods.
These should be defined in the initialisation file.
See the file BeanShellListeners.bshrc for example definitions.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='845' height='633' src="../../docs/images/screenshots/beanshell_preprocessor.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
    The name is stored in the script variable Label
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reset bsh.Interpreter before each call</td>
<td>
    If this option is selected, then the interpreter will be recreated for each sample.
    This may be necessary for some long running scripts. 
    For further information, see 
<a href="best-practices#bsh_scripting">
Best Practices - BeanShell scripting
</a>
.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the BeanShell script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
bsh.args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the BeanShell script to run.
    The file name is stored in the script variable FileName
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The BeanShell script. The return value is ignored.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>
Before invoking the script, some variables are set up in the BeanShell interpreter:
</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object());
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
prev - (
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
) - gives access to the previous SampleResult (if any)
</li>


<li>
sampler - (Sampler)- gives access to the current sampler
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
<p>
If the property 
<b>
beanshell.preprocessor.init
</b>
 is defined, this is used to load an initialisation file, which can be used to define methods etc for use in the BeanShell script.
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BSF_PreProcessor">18.7.8 BSF PreProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BSF PreProcessor allows BSF script code to be applied before taking a sample.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='844' height='632' src="../../docs/images/screenshots/bsf_preprocessor.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Language</td>
<td>The BSF language to be used
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the script to run, if a relative file path is used, then it will be relative to directory referenced by "user.dir" System property
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The script to run.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>

The script (or file) is processed using the BSFEngine.exec() method, which does not return a value.

</p>
<p>
The following BSF variables are set up for use by the script:
</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
Label - the String Label
</li>


<li>
Filename - the script file name (if any)
</li>


<li>
Parameters - the parameters (as a String)
</li>


<li>
args[] - the parameters as a String array (split on whitespace)
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object()); vars.getObject("OBJ2");
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
sampler - (Sampler)- gives access to the current sampler
</li>


<li>
OUT - System.out - e.g. OUT.println("message")
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JSR223_PreProcessor">18.7.8 JSR223 PreProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JSR223 PreProcessor allows JSR223 script code to be applied before taking a sample.
For details, see 
<a href="../usermanual/component_reference.html#BSF_PreProcessor">BSF PreProcessor</a>
.

</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JDBC_PreProcessor">18.7.9 JDBC PreProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JDBC PreProcessor enables you to run some SQL statement just before a sample runs.
This can be useful if your JDBC Sample requires some data to be in DataBase and you cannot compute this in a setup Thread group.
For details, see 
<a href="../usermanual/component_reference.html#JDBC_Request">JDBC Request</a>
.

</p>


<p>

See the following Test plan:

</p>


<p><b>See Also:</b>
<ul>
<li><a href="../demos/JDBC-Pre-Post-Processor.jmx">Test Plan using JDBC Pre/Post Processor</a></li>
</ul>
</p>


<p>

In the linked test plan,"Create Price Cut-Off" JDBC PreProcessor calls a stored procedure to create a Price Cut-Off in Database,
this one will be used by "Calculate Price cut off".


<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='818' height='394' src="../../docs/images/screenshots/jdbc-pre-processor.png"/><br>
<font size="-1">Create Price Cut-Off Preprocessor
</font></td></tr></table></p>



</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="RegEx_User_Parameters">18.7.10 RegEx User Parameters</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
Allows to specify dynamic values for HTTP parameters extracted from another HTTP Request using regular expressions.
            RegEx User Parameters are specific to individual threads.
</p>

        
<p>
This component allows you to specify reference name of a regular expression that extracts names and values of HTTP request parameters. 
            Regular expression group numbers must be specified for parameter's name and also for parameter's value.
            Replacement will only occur for parameters in the Sampler that uses this RegEx User Parameters which name matches 
</p>

    
<p><b>Control Panel</b></p>
<div align="center"><img width='727' height='138' src="../../docs/images/screenshots/regex_user_params.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Regular Expression Reference Name</td>
<td>Name of a reference to a regular expression
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameter names regexp group number</td>
<td>Group number of regular expression used to extract parameter names
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameter values regex group number</td>
<td>Group number of regular expression used to extract parameter values
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
Example:
</p>
<p>
Suppose we have a request which returns a form with 3 input parameters and we want to extract the value of 2 of them to inject them in next request
</p>
<p>
1. - Create Post Processor Regular Expression for first HTTP Request
</p>
<ul>

        
<li>
refName - set name of a regular expression Ex. (listParams)
</li>

        
<li>
regular expression - expression that will extract input names and input values attributes
            
<br>


            Ex: input name="([^"]+?)" value="([^"]+?)"
</li>

        
<li>
template would be empty
</li>

        
<li>
match nr - -1 (in order to iterate through all the possible matches)
</li>

    
</ul>
<p>
2. - Create Pre Processor RegEx User Parameters for second HTTP Request
</p>
<ul>

        
<li>
refName - set the same reference name of a regular expression, would be listParams in our example
</li>

        
<li>
parameter names group number - group number of regular expression for parameter names, would be 1 in our example
</li>

        
<li>
parameter values group number - group number of regular expression for parameter values, would be 2 in our example
</li>

    
</ul>
<p>
See also the 
<a href="../usermanual/component_reference.html#Regular_Expression_Extractor">Regular Expression Extractor</a>
 element, which is used to extract parametes names and values
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<p><b>See Also:</b>
<ul>
<li><a href="../demos/RegEx-User-Parameters.jmx">Test Plan showing how to use RegEx User Parameters</a></li>
</ul>
</p>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="postprocessors"><strong>18.8 Post-Processors</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

    
<p>

        As the name suggests, Post-Processors are applied after samplers. Note that they are
        applied to 
<b>
all
</b>
 the samplers in the same scope, so to ensure that a post-processor
        is applied only to a particular sampler, add it as a child of the sampler.
    
</p>

    
<p>

    Note: Unless documented otherwise, Post-Processors are not applied to sub-samples (child samples) -
    only to the parent sample.
    In the case of BSF and BeanShell post-processors, the script can retrieve sub-samples using the method
    
<code>
prev.getSubResults()
</code>
 which returns an array of SampleResults.
    The array will be empty if there are none.
    
</p>

    
<p>

    Post-Processors are run before Assertions, so they do not have access to any Assertion Results, nor will
    the sample status reflect the results of any Assertions. If you require access to Assertion Results, try
    using a Listener instead. Also note that the variable JMeterThread.last_sample_ok is set to "true" or "false"
    after all Assertions have been run.
    
</p>

    
</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Regular_Expression_Extractor">18.8.1 Regular Expression Extractor</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
Allows the user to extract values from a server response using a Perl-type regular expression.  As a post-processor,
this element will execute after each Sample request in its scope, applying the regular expression, extracting the requested values,
generate the template string, and store the result into the given variable name.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='790' height='276' src="../../docs/images/screenshots/regex_extractor.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Apply to:</td>
<td>
        This is for use with samplers that can generate sub-samples, 
        e.g. HTTP Sampler with embedded resources, Mail Reader or samples generated by the Transaction Controller.
        
<ul>

        
<li>
Main sample only - only applies to the main sample
</li>

        
<li>
Sub-samples only - only applies to the sub-samples
</li>

        
<li>
Main sample and sub-samples - applies to both.
</li>

        
<li>
JMeter Variable - assertion is to be applied to the contents of the named variable
</li>

        
</ul>

        Matching is applied to all qualifying samples in turn.
        For example if there is a main sample and 3 sub-samples, each of which contains a single match for the regex,
        (i.e. 4 matches in total).
        For match number = 3, Sub-samples only, the extractor will match the 3rd sub-sample.
        For match number = 3, Main sample and sub-samples, the extractor will match the 2nd sub-sample (1st match is main sample).
        For match number = 0 or negative, all qualifying samples will be processed.
        For match number > 0, matching will stop as soon as enough matches have been found.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Field to check</td>
<td>
        The following fields can be checked:
        
<ul>

        
<li>
Body - the body of the response, e.g. the content of a web-page (excluding headers)
</li>

        
<li>
Body (unescaped) - the body of the response, with all Html escape codes replaced.
        Note that Html escapes are processed without regard to context, so some incorrect substitutions
        may be made.
        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Note that this option highly impacts performances, so use it only when absolutely necessary and be aware of its impacts
</td></tr>
</table>
</p>

        
</li>

        
<li>
Body as a Document - the extract text from various type of documents via Apache Tika (see 
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
 Document view section).
        
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Note that the Body as a Document option can impact performances, so ensure it is Ok for your test
</td></tr>
</table>
</p>

        
</li>

        
<li>
Request Headers - may not be present for non-HTTP samples
</li>

        
<li>
Response Headers - may not be present for non-HTTP samples
</li>

        
<li>
URL
</li>

        
<li>
Response Code - e.g. 200
</li>

        
<li>
Response Message - e.g. OK
</li>

        
</ul>

        Headers can be useful for HTTP samples; it may not be present for other sample types.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Reference Name</td>
<td>The name of the JMeter variable in which to store the result.  Also note that each group is stored as [refname]_g#, where [refname] is the string you entered as the reference name, and # is the group number, where group 0 is the entire match, group 1 is the match from the first set of parentheses, etc.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Regular Expression</td>
<td>The regular expression used to parse the response data. 
        This must contain at least one set of parentheses "()" to capture a portion of the string, unless using the group $0$.
        Do not enclose the expression in / / - unless of course you want to match these characters as well.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Template</td>
<td>The template used to create a string from the matches found.  This is an arbitrary string
        with special elements to refer to groups within the regular expression.  The syntax to refer to a group is: '$1$' to refer to
        group 1, '$2$' to refer to group 2, etc. $0$ refers to whatever the entire expression matches.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Match No.</td>
<td>Indicates which match to use.  The regular expression may match multiple times.  
            
<ul>

                
<li>
Use a value of zero to indicate JMeter should choose a match at random.
</li>

                
<li>
A positive number N means to select the nth match.
</li>

                
<li>
 Negative numbers are used in conjunction with the ForEach controller - see below.
</li>

            
</ul>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Default Value</td>
<td>
        If the regular expression does not match, then the reference variable will be set to the default value.
        This is particularly useful for debugging tests. If no default is provided, then it is difficult to tell
        whether the regular expression did not match, or the RE element was not processed or maybe the wrong variable
        is being used.
        
<p>

        However, if you have several test elements that set the same variable, 
        you may wish to leave the variable unchanged if the expression does not match.
        In this case, remove the default value once debugging is complete.
        
</p>
 
        
</td>
<td>
No, but recommended
</td>
</tr>
</table>
</p>
<p>

    If the match number is set to a non-negative number, and a match occurs, the variables are set as follows:
    
<ul>

        
<li>
refName - the value of the template
</li>

        
<li>
refName_gn, where n=0,1,2 - the groups for the match
</li>

        
<li>
refName_g - the number of groups in the Regex (excluding 0)
</li>

    
</ul>

    If no match occurs, then the refName variable is set to the default (unless this is absent). 
    Also, the following variables are removed:
    
<ul>

        
<li>
refName_g0
</li>

        
<li>
refName_g1
</li>

        
<li>
refName_g
</li>

    
</ul>


</p>
<p>

    If the match number is set to a negative number, then all the possible matches in the sampler data are processed.
    The variables are set as follows:
    
<ul>

        
<li>
refName_matchNr - the number of matches found; could be 0
</li>

        
<li>
refName_n, where n = 1,2,3 etc - the strings as generated by the template
</li>

        
<li>
refName_n_gm, where m=0,1,2 - the groups for match n
</li>

        
<li>
refName - always set to the default value
</li>

        
<li>
refName_gn - not set
</li>

    
</ul>

    Note that the refName variable is always set to the default value in this case, 
    and the associated group variables are not set.
    
<p>
See also 
<a href="../usermanual/component_reference.html#Response_Assertion">Response Assertion</a>
 for some examples of how to specify modifiers,
    and 
<a href="regular_expressions.html">
 for further information on JMeter regular expressions.
</a>
</p>


</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="CSS/JQuery_Extractor">18.8.2 CSS/JQuery Extractor</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
Allows the user to extract values from a server response using a CSS/JQuery selector like syntax.  As a post-processor,
this element will execute after each Sample request in its scope, applying the CSS/JQuery expression, extracting the requested nodes,
extracting the node as text or attribute value and store the result into the given variable name.
</p>
<p><b>Control Panel</b></p>
<div align="center"><img width='826' height='276' src="../../docs/images/screenshots/css_extractor_attr.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Apply to:</td>
<td>
        This is for use with samplers that can generate sub-samples, 
        e.g. HTTP Sampler with embedded resources, Mail Reader or samples generated by the Transaction Controller.
        
<ul>

        
<li>
Main sample only - only applies to the main sample
</li>

        
<li>
Sub-samples only - only applies to the sub-samples
</li>

        
<li>
Main sample and sub-samples - applies to both.
</li>

        
<li>
JMeter Variable - assertion is to be applied to the contents of the named variable
</li>

        
</ul>

        Matching is applied to all qualifying samples in turn.
        For example if there is a main sample and 3 sub-samples, each of which contains a single match for the regex,
        (i.e. 4 matches in total).
        For match number = 3, Sub-samples only, the extractor will match the 3rd sub-sample.
        For match number = 3, Main sample and sub-samples, the extractor will match the 2nd sub-sample (1st match is main sample).
        For match number = 0 or negative, all qualifying samples will be processed.
        For match number > 0, matching will stop as soon as enough matches have been found.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>CSS/JQuery extractor Implementation</td>
<td>
        As of JMeter 2.9, 2 implementations for CSS/JQuery based syntax are supported:
        
<ul>

                
<li>
<a href="http://jsoup.org/">
JSoup
</a>
</li>

                
<li>
<a href="http://jodd.org/doc/lagarto/index.html">
Jodd-Lagarto (CSSelly)
</a>
</li>

        
</ul>

        If selector is set to empty, default implementation(JSoup) will be used.
        
</td>
<td>
False
</td>
</tr>
<tr>
<td>Reference Name</td>
<td>The name of the JMeter variable in which to store the result.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>CSS/JQuery expression</td>
<td>The CSS/JQuery selector used to select nodes from the response data. 
        Selector, selectors combination and pseudo-selectors are supported, examples:
        
<ul>

            
<li>
E[foo] an E element with a "foo" attribute
</li>

            
<li>
ancestor child:child elements that descend from ancestor, e.g. .body p finds p elements anywhere under a block with class "body"
</li>

            
<li>
:lt(n): find elements whose sibling index (i.e. its position in the DOM tree relative to its parent) is less than n; e.g. td:lt(3)
</li>

            
<li>
:contains(text): find elements that contain the given text. The search is case-insensitive; e.g. p:contains(jsoup)
</li>

            
<li>
...
</li>

        
</ul>

        For more details on syntax, see:
            
<ul>

                
<li>
<a href="http://jsoup.org/cookbook/extracting-data/selector-syntax">
JSoup
</a>
</li>

                
<li>
<a href="http://jodd.org/doc/csselly/">
Jodd-Lagarto (CSSelly)
</a>
</li>

            
</ul>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Attribute</td>
<td>
            Name of attribute (as per HTML syntax) to extract from nodes that matched the selector. If empty, then the combined text of this element and all its children will be returned.
<br>


            This is the equivalent 
<a href="http://jsoup.org/apidocs/org/jsoup/nodes/Node.html#attr%28java.lang.String%29">
Element#attr(name)
</a>
 function for JSoup if an atttribute is set.
<br>


            
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='826' height='275' src="../../docs/images/screenshots/css_extractor_attr.png"/><br>
<font size="-1">CSS Extractor with attribute value set
</font></td></tr></table></p>
<br>


            If empty this is the equivalent of 
<a href="http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#text%28%29">
Element#text()
</a>
 function for JSoup if not value is set for attribute.
            
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='825' height='275' src="../../docs/images/screenshots/css_extractor_noattr.png"/><br>
<font size="-1">CSS Extractor with no attribute set
</font></td></tr></table></p>

        
</td>
<td>
false
</td>
</tr>
<tr>
<td>Match No.</td>
<td>Indicates which match to use.  The CSS/JQuery selector may match multiple times.  
            
<ul>

                
<li>
Use a value of zero to indicate JMeter should choose a match at random.
</li>

                
<li>
A positive number N means to select the nth match.
</li>

                
<li>
 Negative numbers are used in conjunction with the ForEach controller - see below.
</li>

            
</ul>

        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Default Value</td>
<td>
        If the expression does not match, then the reference variable will be set to the default value.
        This is particularly useful for debugging tests. If no default is provided, then it is difficult to tell
        whether the expression did not match, or the CSS/JQuery element was not processed or maybe the wrong variable
        is being used.
        
<p>

        However, if you have several test elements that set the same variable, 
        you may wish to leave the variable unchanged if the expression does not match.
        In this case, remove the default value once debugging is complete.
        
</p>
 
        
</td>
<td>
No, but recommended
</td>
</tr>
</table>
</p>
<p>

    If the match number is set to a non-negative number, and a match occurs, the variables are set as follows:
    
<ul>

        
<li>
refName - the value of the template
</li>

    
</ul>

    If no match occurs, then the refName variable is set to the default (unless this is absent). 

</p>
<p>

    If the match number is set to a negative number, then all the possible matches in the sampler data are processed.
    The variables are set as follows:
    
<ul>

        
<li>
refName_matchNr - the number of matches found; could be 0
</li>

        
<li>
refName_n, where n = 1,2,3 etc - the strings as generated by the template
</li>

        
<li>
refName - always set to the default value
</li>

    
</ul>

    Note that the refName variable is always set to the default value in this case.

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="XPath_Extractor">18.8.3 XPath Extractor</a>
</h3>
</font>
</td></tr>
<tr><td>
This test element allows the user to extract value(s) from 
        structured response - XML or (X)HTML - using XPath
        query language.
   
<p><b>Control Panel</b></p>
<div align="center"><img width='729' height='317' src="../../docs/images/screenshots/xpath_extractor.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Apply to:</td>
<td>
        This is for use with samplers that can generate sub-samples, 
        e.g. HTTP Sampler with embedded resources, Mail Reader or samples generated by the Transaction Controller.
        
<ul>

        
<li>
Main sample only - only applies to the main sample
</li>

        
<li>
Sub-samples only - only applies to the sub-samples
</li>

        
<li>
Main sample and sub-samples - applies to both.
</li>

        
<li>
JMeter Variable - assertion is to be applied to the contents of the named variable
</li>

        
</ul>

        XPath matching is applied to all qualifying samples in turn, and all the matching results will be returned.
       
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use Tidy (tolerant parser)</td>
<td>If checked use Tidy to parse HTML response into XHTML.
       
<ul>

           
<li>
"Use Tidy" should be checked on for HTML response. Such response is converted to valid XHTML (XML compatible HTML) using Tidy
</li>

           
<li>
"Use Tidy" should be unchecked for both XHTML or XML response (for example RSS)
</li>

       
</ul>

       
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Quiet</td>
<td>Sets the Tidy Quiet flag
</td>
<td>
If Tidy is selected
</td>
</tr>
<tr>
<td>Report Errors</td>
<td>If a Tidy error occurs, then set the Assertion accordingly
</td>
<td>
If Tidy is selected
</td>
</tr>
<tr>
<td>Show warnings</td>
<td>Sets the Tidy showWarnings option
</td>
<td>
If Tidy is selected
</td>
</tr>
<tr>
<td>Use Namespaces</td>
<td>
        If checked, then the XML parser will use namespace resolution.
        Note that currently only namespaces declared on the root element will be recognised.
        A later version of JMeter may support user-definition of additional workspace names.
        Meanwhile, a work-round is to replace: 
        
<br>


        //mynamespace:tagname
        
<br>


        by
        
<br>


        //*[local-name()='tagname' and namespace-uri()='uri-for-namespace']
        
<br>


        where "uri-for-namespace" is the uri for the "mynamespace" namespace.
        
        (not applicable if Tidy is selected)

</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>Validate XML</td>
<td>Check the document against its schema.
</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>Ignore Whitespace</td>
<td>Ignore Element Whitespace.
</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>Fetch External DTDs</td>
<td>If selected, external DTDs are fetched.
</td>
<td>
If Tidy is not selected
</td>
</tr>
<tr>
<td>Return entire XPath fragment instead of text content?</td>
<td>
    If selected, the fragment will be returned rather than the text content.
<br>


    For example //title would return "&lt;title>Apache JMeter&lt;/title>" rather than "Apache JMeter".
<br>


    In this case, //title/text() would return "Apache JMeter".
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Reference Name</td>
<td>The name of the JMeter variable in which to store the result.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>XPath Query</td>
<td>Element query in XPath language. Can return more than one match.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Default Value</td>
<td>Default value returned when no match found. 
    It is also returned if the node has no value and the fragment option is not selected.
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
To allow for use in a ForEach Controller, the following variables are set on return:
</p>
<ul>

   
<li>
refName - set to first (or only) match; if no match, then set to default
</li>

   
<li>
refName_matchNr - set to number of matches (may be 0)
</li>

   
<li>
refName_n - n=1,2,3 etc. Set to the 1st, 2nd 3rd match etc. 
   
</li>

   
</ul>
<p>
Note: The next refName_n variable is set to null - e.g. if there are 2 matches, then refName_3 is set to null,
   and if there are no matches, then refName_1 is set to null.
   
</p>
<p>
XPath is query language targeted primarily for XSLT transformations. However it is usefull as generic query language for structured data too. See 
       
<a href="http://www.topxml.com/xsl/xpathref.asp">
XPath Reference
</a>
 or 
<a href="http://www.w3.org/TR/xpath">
XPath specification
</a>
 for more information. Here are few examples:
   
</p>
<dl>
 
   
<dt>
/html/head/title
</dt>

     
<dd>
extracts title element from HTML response
</dd>

   
<dt>
/book/page[2]
</dt>

     
<dd>
extracts 2nd page from a book
</dd>

   
<dt>
/book/page
</dt>

     
<dd>
extracts all pages from a book
</dd>

     
<dt>
//form[@name='countryForm']//select[@name='country']/option[text()='Czech Republic'])/@value
</dt>

    
<dd>
extracts value attribute of option element that match text 'Czech Republic'
        inside of select element with name attribute  'country' inside of
        form with name attribute 'countryForm'
</dd>

 
</dl>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>When "Use Tidy" is checked on - resulting XML document may slightly differ from original HTML response:
     
<ul>

         
<li>
All elements and attribute names are converted to lowercase
</li>

         
<li>
Tidy attempts to correct improperly nested elements. For example - original (incorrect) 
<code>
ul/font/li
</code>
 becomes correct 
<code>
ul/li/font
</code>
</li>

     
</ul>

     See 
<a href="http://jtidy.sf.net">
Tidy homepage
</a>
 for more information.
 
</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Result_Status_Action_Handler">18.8.4 Result Status Action Handler</a>
</h3>
</font>
</td></tr>
<tr><td>
This test element allows the user to stop the thread or the whole test if the relevant sampler failed.
   
<p><b>Control Panel</b></p>
<div align="center"><img width='613' height='133' src="../../docs/images/screenshots/resultstatusactionhandler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Action to be taken after a Sampler error</td>
<td>
   Determines what happens if a sampler error occurs, either because the sample itself failed or an assertion failed.
   The possible choices are:
   
<ul>

   
<li>
Continue - ignore the error and continue with the test
</li>

   
<li>
Start next thread loop - does not execute samplers following the sampler in error for the current iteration and restarts the loop on next iteration
</li>

   
<li>
Stop Thread - current thread exits
</li>

   
<li>
Stop Test - the entire test is stopped at the end of any current samples.
</li>

   
<li>
Stop Test Now - the entire test is stopped abruptly. Any current samplers are interrupted if possible.
</li>

   
</ul>

   
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BeanShell_PostProcessor">18.8.5 BeanShell PostProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BeanShell PreProcessor allows arbitrary code to be applied after taking a sample.

</p>


<p>
For JMeter versions after 2.2 the BeanShell Post-Processor no longer ignores samples with zero-length result data
</p>


<p>


<b>
For full details on using BeanShell, please see the 
<a href="http://www.beanshell.org/">
BeanShell website.
</a>
</b>


</p>


<p>

The test element supports the ThreadListener and TestListener methods.
These should be defined in the initialisation file.
See the file BeanShellListeners.bshrc for example definitions.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='847' height='633' src="../../docs/images/screenshots/beanshell_postprocessor.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
    The name is stored in the script variable Label
</td>
<td>
No
</td>
</tr>
<tr>
<td>Reset bsh.Interpreter before each call</td>
<td>
    If this option is selected, then the interpreter will be recreated for each sample.
    This may be necessary for some long running scripts. 
    For further information, see 
<a href="best-practices#bsh_scripting">
Best Practices - BeanShell scripting
</a>
.
    
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the BeanShell script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
bsh.args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the BeanShell script to run.
    The file name is stored in the script variable FileName
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The BeanShell script. The return value is ignored.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>
The following BeanShell variables are set up for use by the script:
</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object());
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
prev - (
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
) - gives access to the previous SampleResult
</li>


<li>
data - (byte [])- gives access to the current sample data
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
<p>
If the property 
<b>
beanshell.postprocessor.init
</b>
 is defined, this is used to load an initialisation file, which can be used to define methods etc for use in the BeanShell script.
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="BSF_PostProcessor">18.8.6 BSF PostProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The BSF PostProcessor allows BSF script code to be applied after taking a sample.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='844' height='633' src="../../docs/images/screenshots/bsf_postprocessor.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Language</td>
<td>The BSF language to be used
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Parameters</td>
<td>Parameters to pass to the script.
    The parameters are stored in the following variables:
    
<ul>

        
<li>
Parameters - string containing the parameters as a single variable
</li>

        
<li>
args - String array containing parameters, split on white-space
</li>

    
</ul>
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script file</td>
<td>A file containing the script to run, if a relative file path is used, then it will be relative to directory referenced by "user.dir" System property
</td>
<td>
No
</td>
</tr>
<tr>
<td>Script</td>
<td>The script to run.
</td>
<td>
Yes (unless script file is provided)
</td>
</tr>
</table>
</p>
<p>

The script (or file) is processed using the BSFEngine.exec() method, which does not return a value.

</p>
<p>

Before invoking the script, some variables are set up.
Note that these are BSF variables - i.e. they can be used directly in the script.

</p>
<ul>


<li>
log - (Logger) - can be used to write to the log file
</li>


<li>
Label - the String Label
</li>


<li>
Filename - the script file name (if any)
</li>


<li>
Parameters - the parameters (as a String)
</li>


<li>
args[] - the parameters as a String array (split on whitespace)
</li>


<li>
ctx - (
<a href="../api/org/apache/jmeter/threads/JMeterContext.html">
JMeterContext
</a>
) - gives access to the context
</li>


<li>
vars - (
<a href="../api/org/apache/jmeter/threads/JMeterVariables.html">
JMeterVariables
</a>
) - gives read/write access to variables: vars.get(key); vars.put(key,val); vars.putObject("OBJ1",new Object()); vars.getObject("OBJ2");
</li>


<li>
props - (JMeterProperties - class java.util.Properties) - e.g. props.get("START.HMS"); props.put("PROP1","1234");
</li>


<li>
prev - (
<a href="../api/org/apache/jmeter/samplers/SampleResult.html">
SampleResult
</a>
) - gives access to the previous SampleResult (if any)
</li>


<li>
sampler - (Sampler)- gives access to the current sampler
</li>


<li>
OUT - System.out - e.g. OUT.println("message")
</li>


</ul>
<p>
For details of all the methods available on each of the above variables, please check the Javadoc
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JSR223_PostProcessor">18.8.7 JSR223 PostProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JSR223 PostProcessor allows JSR223 script code to be applied after taking a sample.
For details, see the 
<a href="../usermanual/component_reference.html#BSF_PostProcessor">BSF PostProcessor</a>
.

</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="JDBC_PostProcessor">18.8.8 JDBC PostProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The JDBC PostProcessor enables you to run some SQL statement just after a sample has run.
This can be useful if your JDBC Sample changes some data and you want to reset state to what it was before the JDBC sample run.

</p>


</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<p><b>See Also:</b>
<ul>
<li><a href="../demos/JDBC-Pre-Post-Processor.jmx">Test Plan using JDBC Pre/Post Processor</a></li>
</ul>
</p>
<p>

In the linked test plan,"JDBC PostProcessor" JDBC PostProcessor calls a stored procedure to delete from Database the Price Cut-Off that was created by PreProcessor.

<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='818' height='399' src="../../docs/images/screenshots/jdbc-post-processor.png"/><br>
<font size="-1">JDBC PostProcessor
</font></td></tr></table></p>


</p>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="Miscellaneous_Features"><strong>18.9 Miscellaneous Features</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<description>

        
<br>



</description>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Test_Plan">18.9.1 Test Plan</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Test Plan is where the overall settings for a test are specified.

</p>


<p>

Static variables can be defined for values that are repeated throughout a test, such as server names.
For example the variable SERVER could be defined as www.example.com, and the rest of the test plan
could refer to it as ${SERVER}. This simplifies changing the name later.

</p>


<p>

If the same variable name is reused on one of more

<a href="../usermanual/component_reference.html#User_Defined_Variables">User Defined Variables</a>
 Configuration elements,
the value is set to the last definition in the test plan (reading from top to bottom).
Such variables should be used for items that may change between test runs, 
but which remain the same during a test run.

</p>


<p>


<b>
Note that the Test Plan cannot refer to variables it defines.
</b>
 
If you need to construct other variables from the Test Plan variables, 
use a 
<a href="../usermanual/component_reference.html#User_Defined_Variables">User Defined Variables</a>
 test element.

</p>


<p>

Selecting Functional Testing instructs JMeter to save the  additional sample information
- Response Data and Sampler Data - to all result files.
This increases the resources needed to run a test, and may adversely impact JMeter performance.
If more data is required for a particular sampler only, then add a Listener to it, and configure the fields as required.
[The option does not affect CSV result files, which cannot currently store such information.]

</p>


<p>
Also, an option exists here to instruct JMeter to run the 
<a href="../usermanual/component_reference.html#Thread_Group">Thread Group</a>
 serially rather than in parallel.
</p>


<p>
Run tearDown Thread Groups after shutdown of main threads: 
if selected, the tearDown groups (if any) will be run after graceful shutdown of the main threads.
The tearDown threads won't be run if the test is forcibly stopped.

</p>


<p>

Test plan now provides an easy way to add classpath setting to a specific test plan. 
The feature is additive, meaning that you can add jar files or directories,
but removing an entry requires restarting JMeter.
Note that this cannot be used to add JMeter GUI plugins, because they are processed earlier.
However it can be useful for utility jars such as JDBC drivers. The jars are only added to
the search path for the JMeter loader, not for the system class loader.

</p>


<p>

JMeter properties also provides an entry for loading additional classpaths.
In jmeter.properties, edit "user.classpath" or "plugin_dependency_paths" to include additional libraries.
See 
<a href="get-started.html#classpath">
JMeter's Classpath
</a>
 and

<a href="get-started.html#configuring_jmeter">
Configuring JMeter
</a>
 for details.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='560' height='457' src="../../docs/images/screenshots/testplan.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Thread_Group">18.9.2 Thread Group</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
A Thread Group defines a pool of users that will execute a particular test case against your server.  In the Thread Group GUI, you can control the number of users simulated (num of threads), the ramp up time (how long it takes to start all the threads), the number of times to perform the test, and optionally, a start and stop time for the test.
</p>


<p>

See also 
<a href="../usermanual/component_reference.html#tearDown_Thread_Group">tearDown Thread Group</a>
 and 
<a href="../usermanual/component_reference.html#setUp_Thread_Group">setUp Thread Group</a>
.

</p>


<p>

When using the scheduler, JMeter runs the thread group until either the number of loops is reached or the duration/end-time is reached - whichever occurs first.
Note that the condition is only checked between samples; when the end condition is reached, that thread will stop.
JMeter does not interrupt samplers which are waiting for a response, so the end time may be delayed arbitrarily.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='583' height='447' src="../../docs/images/screenshots/threadgroup.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Action to be taken after a Sampler error</td>
<td>
        Determines what happens if a sampler error occurs, either because the sample itself failed or an assertion failed.
        The possible choices are:
        
<ul>

        
<li>
Continue - ignore the error and continue with the test
</li>

        
<li>
Start Next Loop - ignore the error, start next loop and continue with the test
</li>

        
<li>
Stop Thread - current thread exits
</li>

        
<li>
Stop Test - the entire test is stopped at the end of any current samples.
</li>

        
<li>
Stop Test Now - the entire test is stopped abruptly. Any current samplers are interrupted if possible.
</li>

        
</ul>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Number of Threads</td>
<td>Number of users to simulate.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Ramp-up Period</td>
<td>How long JMeter should take to get all the threads started.  If there are 10 threads and a ramp-up time of 100 seconds, then each thread will begin 10 seconds after the previous thread started, for a total time of 100 seconds to get the test fully up to speed.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Loop Count</td>
<td>Number of times to perform the test case.  Alternatively, "forever" can be selected causing the test to run until manually stopped.
</td>
<td>
Yes, unless forever is selected
</td>
</tr>
<tr>
<td>Delay Thread creation until needed</td>
<td>
        If selected, threads are created only when the appropriate proportion of the ramp-up time has elapsed.
        This is most appropriate for tests with a ramp-up time that is significantly longer than the time to execute a single thread.
        I.e. where earlier threads finish before later ones start. 
        
<br>


        If not selected, all threads are created when the test starts (they then pause for the appropriate proportion of the ramp-up time).
        This is the original default, and is appropriate for tests where threads are active throughout most of the test.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Scheduler</td>
<td>If selected, enables the scheduler
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Start Time</td>
<td>If the scheduler checkbox is selected, one can choose an absolute start time.  When you start your test, JMeter will wait until the specified start time to begin testing.
            Note: the Startup Delay field over-rides this - see below.
            
</td>
<td>
No
</td>
</tr>
<tr>
<td>End Time</td>
<td>If the scheduler checkbox is selected, one can choose an absolute end time.  When you start your test, JMeter will wait until the specified start time to begin testing, and it will stop at the specified end time.
            Note: the Duration field over-rides this - see below.
            
</td>
<td>
No
</td>
</tr>
<tr>
<td>Duration (seconds)</td>
<td>
            If the scheduler checkbox is selected, one can choose a relative end time. 
            JMeter will use this to calculate the End Time, and ignore the End Time value.
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Startup delay (seconds)</td>
<td>
            If the scheduler checkbox is selected, one can choose a relative startup delay.
            JMeter will use this to calculate the Start Time, and ignore the Start Time value.
        
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="WorkBench">18.9.3 WorkBench</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>
The WorkBench simply provides a place to temporarily store test elements while not in use, for copy/paste purposes, or any other purpose you desire. 
When you save your test plan, WorkBench items are not saved with it by default unless you check "Save Workbench" option.
Your WorkBench can be saved independently, if you like (right-click on WorkBench and choose Save).
</p>


<p>
Certain test elements are only available on the WorkBench:
</p>


<ul>


<li>
<a href="../usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder">HTTP(S) Test Script Recorder</a>
</li>


<li>
<a href="../usermanual/component_reference.html#HTTP_Mirror_Server">HTTP Mirror Server</a>
</li>


<li>
<a href="../usermanual/component_reference.html#Property_Display">Property Display</a>
</li>


</ul>


<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Save WorkBench</td>
<td>
                Allow to save the WorkBench's elements into the JMX file.
        
</td>
<td>
No
</td>
</tr>
</table>
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='384' height='103' src="../../docs/images/screenshots/workbench.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="SSL_Manager">18.9.4 SSL Manager</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>

  The SSL Manager is a way to select a client certificate so that you can test
  applications that use Public Key Infrastructure (PKI).
  It is only needed if you have not set up the appropriate System properties.

</p>
<b>
Choosing a Client Certificate
</b>
<p>

  You may either use a Java Key Store (JKS) format key store, or a Public Key
  Certificate Standard #12 (PKCS12) file for your client certificates.  There
  is a feature of the JSSE libraries that require you to have at least a six character
  password on your key (at least for the keytool utility that comes with your
  JDK).

</p>
<p>

  To select the client certificate, choose Options->SSL Manager from the menu bar.
  You will be presented with a file finder that looks for PKCS12 files by default.
  Your PKCS12 file must have the extension '.p12' for SSL Manager to recognize it
  as a PKCS12 file.  Any other file will be treated like an average JKS key store.
  If JSSE is correctly installed, you will be prompted for the password.  The text
  box does not hide the characters you type at this point--so make sure no one is
  looking over your shoulder.  The current implementation assumes that the password
  for the keystore is also the password for the private key of the client you want
  to authenticate as.

</p>
<p>
Or you can set the appropriate System properties - see the system.properties file.
</p>
<p>

  The next time you run your test, the SSL Manager will examine your key store to
  see if it has at least one key available to it.  If there is only one key, SSL
  Manager will select it for you.  If there is more than one key, it currently selects the first key.
  There is currently no way to select other entries in the keystore, so the desired key must be the first.

</p>
<b>
Things to Look Out For
</b>
<p>

  You must have your Certificate Authority (CA) certificate installed properly
  if it is not signed by one of the five CA certificates that ships with your
  JDK.  One method to install it is to import your CA certificate into a JKS
  file, and name the JKS file "jssecacerts".  Place the file in your JRE's
  lib/security folder.  This file will be read before the "cacerts" file in
  the same directory.  Keep in mind that as long as the "jssecacerts" file
  exists, the certificates installed in "cacerts" will not be used.  This may
  cause problems for you.  If you don't mind importing your CA certificate into
  the "cacerts" file, then you can authenticate against all of the CA certificates
  installed.

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<a name="HTTP_Proxy_Server"></a>
<h3>
<a name="HTTP(S)_Test_Script_Recorder">18.9.5 HTTP(S) Test Script Recorder (was: HTTP Proxy Server)</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>
The HTTP(S) Test Script Recorder allows JMeter to intercept and record your actions while you browse your web application
with your normal browser.  JMeter will create test sample objects and store them
directly into your test plan as you go (so you can view samples interactively while you make them).
<br>


Ensure you read this 
<a href="https://wiki.apache.org/jmeter/TestRecording210">
wiki page
</a>
 to setup correctly JMeter.

</p>



<p>
To use the recorder, 
<i>
add
</i>
 the HTTP(S) Test Script Recorder element to the workbench.
Select the WorkBench element in the tree, and right-click on this element to get the
Add menu (Add --> Non-Test Elements --> HTTP(S) Test Script Recorder).
</p>


<p>

The recorder is implemented as an HTTP(S) proxy server.
You need to set up your browser use the proxy for all HTTP and HTTPS requests.
[Do not use JMeter as the proxy for any other request types - FTP, etc. - as JMeter cannot handle them.]

</p>


<p>

Ideally use private browsing mode when recording the session.
This should ensure that the browser starts with no stored cookies, and prevents certain changes from being saved.
For example, Firefox does not allow certificate overrides to be saved permanently.

</p>


<h4>
HTTPS recording and certificates
</h4>


<p>

HTTPS connections use certificates to authenticate the connection between the browser and the web server.
When connecting via HTTPS, the server presents the certificate to the browser.
To authenticate the certificate, the browser checks that the server certificate is signed
by a Certificate Authority (CA) that is linked to one of its in-built root CAs.
[Browsers also check that the certificate is for the correct host or domain, and that it is valid and not expired.]
If any of the browser checks fail, it will prompt the user who can then decided whether to allow the connection to proceed.  

</p>


<p>

JMeter needs to use its own certificate to enable it to intercept the HTTPS connection from
the browser. Effectively JMeter has to pretend to be the target server.

</p>


<p>

For versions of JMeter from 2.10, JMeter will generate its own certificate(s).
These are generated with a validity period defined by the property 
<code>
proxy.cert.validity
</code>
, default 7 days, and random passwords.
If JMeter detects that it is running under Java 7 or later, it will generate certificates for each target server as necessary (dynamic mode)
unless the following property is defined: 
<code>
proxy.cert.dynamic_keys=false
</code>
.
When using dynamic mode, the certificate will be for the correct host name, and will be signed by a JMeter-generated CA certificate.
By default, this CA certificate won't be trusted by the browser, however it can be installed as a trusted certificate.
Once this is done, the generated server certificates will be accepted by the browser.
This has the advantage that even embedded HTTPS resources can be intercepted, and there is no need to override the browser checks for each new server.
(Browsers don't prompt for embedded resources. So with earlier versions, embedded resources would only be downloaded for servers that were already 'known' to the browser)

</p>


<p>
Unless a keystore is provided (and you define the property 
<code>
proxy.cert.alias
</code>
),
JMeter needs to use the keytool application to create the keystore entries. 
Versions of JMeter after 2.10 include code to check that keytool is available by looking in various standard places.
If JMeter is unable to find the keytool application, it will report an error.
If necessary, the systen property 
<code>
keytool.directory
</code>
 can be used to tell JMeter where to find keytool.
This should be defined in the file 
<code>
system.properties
</code>
.

</p>


<p>

The JMeter certificates are generated (if necessary) when the Start button is pressed.

<b>
Certificate generation can take some while, during which time the GUI will be unresponsive.
</b>

The cursor is changed to an hour-glass whilst this is happening.
When certificate generation is complete, the GUI will display a pop-up dialogue containing the details of the certificate for the root CA.
This certificate needs to be installed by the browser in order for it to accept the host certificates generated by JMeter; see 
<a href="#install_cert">
below
</a>
 for details.

</p>


<p>

If necessary, you can force JMeter to regenerate the keystore (and the exported certificates - ApacheJMeterTemporaryRootCA[.usr|.crt]) by deleting the keystore file 
<code>
proxyserver.jks
</code>
 from the JMeter directory.

</p>


<p>

With versions of JMeter up to 2.9, it used a single certificate for all target servers.
[Likewise if JMeter is not being run under Java 7 or later]
This certificate is not one of the certificates that browsers normally trust, and will not be for the
correct host.
<br>


As a consequence: 

<ul>


<li>
The browser should display a dialogue asking if you want to accept the certificate or not. For example:

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#ffffff"><pre>
1) The server's name &quot;www.example.com&quot; does not match the certificate's name
   &quot;JMeter Proxy (DO NOT TRUST)&quot;. Somebody may be trying to eavesdrop on you.
2) The certificate for &quot;JMeter Proxy (DO NOT TRUST)&quot; is signed by the unknown Certificate Authority
   &quot;JMeter Proxy (DO NOT TRUST)&quot;. It is not possible to verify that this is a valid certificate.
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"/></td>
</tr>
</table>
</div>

You will need to accept the certificate in order to allow the JMeter Proxy to intercept the SSL traffic in order to
record it.
However, do not accept this certificate permanently; it should only be accepted temporarily.
Browsers only prompt this dialogue for the certificate of the main url, not for the resources loaded in the page, such as images, css or javascript files hosted on a secured external CDN. 
If you have such resources (gmail has for example), you'll have to first browse manually to these other domains in order to accept JMeter's certificate for them. 
Check in jmeter.log for secure domains that you need to register certificate for.

</li>


<li>
If the browser has already registered a validated certificate for this domain, the browser will detect JMeter as a security breach and will refuse to load the page. If so, you have to remove the trusted certificate from your browser's keystore.

</li>


</ul>


</p>


<p>

Versions of JMeter from 2.10 onwards still support this method, and will continue to do so if the you define the following property:

<code>
proxy.cert.alias
</code>

The following properties can be used to change the certificate that is used:

<ul>


<li>
proxy.cert.directory - the directory in which to find the certificate (default = JMeter bin/)
</li>


<li>
proxy.cert.file - name of the keystore file (default "proxyserver.jks")
</li>


<li>
proxy.cert.keystorepass - keystore password (default "password") [Ignored if using JMeter certificate]
</li>


<li>
proxy.cert.keypassword - certificate key password (default "password") [Ignored if using JMeter certificate]
</li>


<li>
proxy.cert.type - the certificate type (default "JKS") [Ignored if using JMeter certificate]
</li>


<li>
proxy.cert.factory - the factory (default "SunX509") [Ignored if using JMeter certificate]
</li>


<li>
proxy.cert.alias - the alias for the key to be used. If this is defined, JMeter does not attempt to generate its own certificate(s).
</li>


<li>
proxy.ssl.protocol - the protocol to be used (default "SSLv3")
</li>


</ul>


</p>


<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
If your browser currently uses a proxy (e.g. a company intranet may route all external requests via a proxy),
then you need to 
<a href="get-started.html#proxy_server">
tell JMeter to use that proxy
</a>
 before starting JMeter, 
using the 
<a href="get-started.html#options">
command-line options
</a>
 -H and -P.
This setting will also be needed when running the generated test plan.

</td></tr>
</table>
</p>


<a name="install_cert">
</a>


<h4>
Installing the JMeter CA certificate for HTTPS recording
</h4>


<p>

As mentioned above, when run under Java 7, JMeter can generate certificates for each server.
For this to work smoothly, the root CA signing certificate used by JMeter needs to be trusted by the browser.
The first time that the recorder is started, it will generate the certificates if necessary. 
The root CA certificate is exported into a file with the name 
<code>
ApacheJMeterTemporaryRootCA
</code>
 in the current launch directory.
When the certificates have been set up, JMeter will show a dialog with the current certificate details.
At this point, the certificate can be imported into the browser, as per the instructions below.

</p>


<p>

Note that once the root CA certificate has been installed as a trusted CA, the browser will trust any certificates signed by it.
Until such time as the certificate expires or the certificate is removed from the browser, it will not warn the user that the certificate is being relied upon.
So anyone that can get hold of the keystore and password can use the certificate to generate certificates which will be accepted
by any browsers that trust the JMeter root CA certificate.
For this reason, the password for the keystore and private keys are randomly generated and a short validity period used.
The passwords are stored in the local preferences area.
Please ensure that only trusted users have access to the host with the keystore.

</p>


<h5>
Installing the certificate in Firefox
</h5>


<p>

Choose the following options:

<ul>


<li>
Tools / Options
</li>


<li>
Advanced / Certificates
</li>


<li>
View Certificates
</li>


<li>
Authorities
</li>


<li>
Import ...
</li>


<li>
Browse to the JMeter launch directory, and click on the file 
<code>
ApacheJMeterTemporaryRootCA.crt
</code>
, press Open
</li>


<li>
Click View and check that the certificate details agree with the ones displayed by the JMeter Test Script Recorder
</li>


<li>
If OK, select "Trust this CA to identify web sites", and press OK
</li>


<li>
Close dialogs by pressing OK as necessary
</li>


</ul>


</p>


<h5>
Installing the certificate in Chrome or Internet Explorer
</h5>


<p>

Both Chrome and Internet Explorer use the same trust store for certificates.

<ul>


<li>
Browse to the JMeter launch directory, and click on the file 
<code>
ApacheJMeterTemporaryRootCA.crt
</code>
, and open it
</li>


<li>
Click on the "Details" tab and check that the certificate details agree with the ones displayed by the JMeter Test Script Recorder
</li>


<li>
If OK, go back to the "General" tab, and click on "Install Certificate ..." and follow the Wizard prompts
</li>


</ul>


</p>


<h5>
Installing the certificate in Opera
</h5>


<p>


<ul>


<li>
Tools / Preferences / Advanced / Security
</li>


<li>
Manage Certificates...
</li>


<li>
Select "Intermediate" tab, click "Import..."
</li>


<li>
Browse to the JMeter launch directory, and click on the file 
<code>
ApacheJMeterTemporaryRootCA.usr
</code>
, and open it
</li>


<li>
</li>


</ul>


</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='917' height='622' src="../../docs/images/screenshots/proxy_control.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Port</td>
<td>The port that the HTTP(S) Test Script Recorder listens to.  8080 is the default, but you can change it.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>HTTPS Domains</td>
<td>List of domain (or host) names for HTTPS. Use this to pre-generate certificates for all servers you wish to record.
        
<br>


        For example, *.apache.org,*.incubator.apache.org
        
<br>


        Note that wildcard domains only apply to one level,
        i.e. podling.incubator.apache.org matches *.incubator.apache.org but not *.apache.org
        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Target Controller</td>
<td>The controller where the proxy will store the generated samples. By default, it will look for a Recording Controller and store them there wherever it is.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Grouping</td>
<td>Whether to group samplers for requests from a single "click" (requests received without significant time separation), and how to represent that grouping in the recording:
           
<ul>

             
<li>
Do not group samplers: store all recorded samplers sequentially, without any grouping.
</li>

             
<li>
Add separators between groups: add a controller named "--------------" to create a visual separation between the groups. Otherwise the samplers are all stored sequentially.
</li>

             
<li>
Put each group in a new controller: create a new 
<a href="../usermanual/component_reference.html#Simple_Controller">Simple Controller</a>
 for each group, and store all samplers for that group in it.
</li>

             
<li>
Store 1st sampler of each group only: only the first request in each group will be recorded. The "Follow Redirects" and "Retrieve All Embedded Resources..." flags will be turned on in those samplers.
</li>

             
<li>
Put each group in a new transaction controller: create a new 
<a href="../usermanual/component_reference.html#Transaction_Controller">Transaction Controller</a>
 for each group, and store all samplers for that group in it.
</li>

           
</ul>

           The property 
<b>
proxy.pause
</b>
 determines the minimum gap that JMeter needs between requests
           to treat them as separate "clicks". The default is 1000 (milliseconds) i.e. 1 second.
           If you are using grouping, please ensure that you leave the required gap between clicks.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Capture HTTP Headers</td>
<td>Should headers be added to the plan?
        If specified, a Header Manager will be added to each HTTP Sampler.
        The Proxy server always removes Cookie and Authorization headers from the generated Header Managers.
        By default it also removes If-Modified-Since and If-None-Match headers.
        These are used to determine if the browser cache items are up to date;
        when recording one normally wants to download all the content.
        To change which additional headers are removed, define the JMeter property 
<b>
proxy.headers.remove
</b>

        as a comma-separated list of headers.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Add Assertions</td>
<td>Add a blank assertion to each sampler?
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Regex Matching</td>
<td>Use Regex Matching when replacing variables? If checked replacement will use word boundaries, ie it will only replace word matching values of variable, not part of a word. A word boundary follows Perl5 definition and is equivalent to \b. More information below in the paragraph about "User Defined Variable replacement".
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Type</td>
<td>Which type of sampler to generate (the Java default or HTTPClient)
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Redirect Automatically</td>
<td>Set Redirect Automatically in the generated samplers?
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Follow Redirects</td>
<td>Set Follow Redirects in the generated samplers?
<br>


        
<b>
Note:
</b>
 see "Recording and redirects" section below for important information.
        
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Use Keep-Alive</td>
<td>Set Use Keep-Alive in the generated samplers?
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Retrieve all Embedded Resources</td>
<td>Set Retrieve all Embedded Resources in the generated samplers?
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Content Type filter</td>
<td>
        Filter the requests based on the content-type - e.g. "text/html [;charset=utf-8 ]".
        The fields are regular expressions which are checked to see if they are contained in the content-type.
        [Does not have to match the entire field].
        The include filter is checked first, then the exclude filter.
        Samples which are filtered out will not be stored.
        
<b>
Note: this filtering is applied to the content type of the response
</b>

        
</td>
<td>
No
</td>
</tr>
<tr>
<td>Patterns to Include</td>
<td>Regular expressions that are matched against the full URL that is sampled.  Allows filtering of requests that are recorded.  All requests pass through, but only
        those that meet the requirements of the Include/Exclude fields are 
<i>
recorded
</i>
.  If both Include and Exclude are
        left empty, then everything is recorded (which can result in dozens of samples recorded for each page, as images, stylesheets,
        etc are recorded).  
<b>
If there is at least one entry in the Include field, then only requests that match one or more Include patterns are
        recorded
</b>
.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Patterns to Exclude</td>
<td>Regular expressions that are matched against the URL that is sampled.
        
<b>
Any requests that match one or more Exclude pattern are 
<i>
not
</i>
 recorded
</b>
.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Notify Child Listeners of filtered samplers</td>
<td>Notify Child Listeners of filtered samplers
        
<b>
Any response that match one or more Exclude pattern is 
<i>
not
</i>
 delivered to Child Listeners (View Results Tree)
</b>
.
</td>
<td>
No
</td>
</tr>
<tr>
<td>Start Button</td>
<td>Start the proxy server.  JMeter writes the following message to the console once the proxy server has started up and is ready to take requests: "Proxy up and running!".
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Stop Button</td>
<td>Stop the proxy server.
</td>
<td>
N/A
</td>
</tr>
<tr>
<td>Restart Button</td>
<td>Stops and restarts the proxy server.  This is
  useful when you change/add/delete an include/exclude filter expression.
</td>
<td>
N/A
</td>
</tr>
</table>
</p>
<h4>
Recording and redirects
</h4>
<p>

During recording, the browser will follow a redirect response and generate an additional request.
The Proxy will record both the original request and the redirected request
(subject to whatever exclusions are configured).
The generated samples have "Follow Redirects" selected by default, because that is generally better.
[Redirects may depend on the original request, so repeating the originally recorded sample may not always work.]

</p>
<p>

Now if JMeter is set to follow the redirect during replay, it will issue the original request, 
and then replay the redirect request that was recorded.
To avoid this duplicate replay, JMeter tries to detect when a sample is the result of a previous
redirect. If the current response is a redirect, JMeter will save the redirect URL.
When the next request is received, it is compared with the saved redirect URL and if there is a match,
JMeter will disable the generated sample. It also adds comments to the redirect chain.
This assumes that all the requests in a redirect chain will follow each other without any intervening requests.
To disable the redirect detection, set the property 
<code>
proxy.redirect.disabling=false
</code>


</p>
<h4>
Includes and Excludes
</h4>
<p>
The 
<b>
include and exclude patterns
</b>
 are treated as regular expressions (using Jakarta ORO).
They will be matched against the host name, port (actual or implied) path and query (if any) of each browser request.
If the URL you are browsing is 
<br>

 

<b>
"http://jmeter.apache.org/jmeter/index.html?username=xxxx"
</b>
,
<br>

 
then the regular expression will be tested against the string:
<br>

 

<b>
"jmeter.apache.org:80/jmeter/index.html?username=xxxx"
</b>
.
<br>

   
Thus, if you want to include all .html files, your regular expression might look like: 
<br>

 

<b>
".*\.html(\?.*)?"
</b>
 - or 
<b>
".*\.html"
</b>
 
if you know that there is no query string or you only want html pages without query strings.

</p>
<p>

If there are any include patterns, then the URL 
<b>
must match at least one
</b>
 of the patterns
, otherwise it will not be recorded.
If there are any exclude patterns, then the URL 
<b>
must not match any
</b>
 of the patterns
, otherwise it will not be recorded.
Using a combination of includes and excludes,
you should be able to record what you are interested in and skip what you are not.

</p>
<p>

N.B. the string that is matched by the regular expression must be the same as the 
<b>
whole
</b>
 host+path string.
<br>

Thus 
<b>
"\.html"
</b>
 will 
<b>
not
</b>
 match 
<b>
j.a.o/index.html
</b>


</p>
<h4>
Capturing binary POST data
</h4>
<p>

Versions of JMeter from 2.3.2 are able to capture binary POST data.
To configure which content-types are treated as binary, update the JMeter property proxy.binary.types.
The default settings are as follows:

<pre>

# These content-types will be handled by saving the request in a file:
proxy.binary.types=application/x-amf,application/x-java-serialized-object
# The files will be saved in this directory:
proxy.binary.directory=user.dir
# The files will be created with this file filesuffix:
proxy.binary.filesuffix=.binary

</pre>


</p>
<h4>
Adding timers
</h4>
<p>
It is also possible to have the proxy add timers to the recorded script. To
do this, create a timer directly within the HTTP(S) Test Script Recorder component.
The proxy will place a copy of this timer into each sample it records, or into
the first sample of each group if you're using grouping. This copy will then be
scanned for occurences of variable ${T} in its properties, and any such
occurences will be replaced by the time gap from the previous sampler
recorded (in milliseconds).
</p>
<p>
When you are ready to begin, hit "start".
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>You will need to edit the proxy settings of your browser to point at the
appropriate server and port, where the server is the machine JMeter is running on, and
the port # is from the Proxy Control Panel shown above.
</td></tr>
</table>
</p>
<h4>
Where Do Samples Get Recorded?
</h4>
<p>
JMeter places the recorded samples in the Target Controller you choose. If you choose the default option
"Use Recording Controller", they will be stored in the first Recording Controller found in the test object tree (so be
sure to add a Recording Controller before you start recording).
</p>
<p>

If the Proxy does not seem to record any samples, this could be because the browser is not actually using the proxy.
To check if this is the case, try stopping the proxy.
If the browser still downloads pages, then it was not sending requests via the proxy.
Double-check the browser options. 
If you are trying to record from a server running on the same host,
then check that the browser is not set to "Bypass proxy server for local addresses"
(this example is from IE7, but there will be similar options for other browsers).
If JMeter does not record browser URLs such as http://localhost/ or http://127.0.0.1/,
try using the non-loopback hostname or IP address, e.g. http://myhost/ or http://192.168.0.2/.

</p>
<h4>
Handling of HTTP Request Defaults
</h4>
<p>
If the HTTP(S) Test Script Recorder finds enabled 
<a href="../usermanual/component_reference.html#HTTP_Request_Defaults">HTTP Request Defaults</a>
 directly within the
controller where samples are being stored, or directly within any of its parent controllers, the recorded samples
will have empty fields for the default values you specified. You may further control this behaviour by placing an
HTTP Request Defaults element directly within the HTTP(S) Test Script Recorder, whose non-blank values will override
those in the other HTTP Request Defaults. See 
<a href="best-practices.html#proxy_server">
 Best
Practices with the HTTP(S) Test Script Recorder
</a>
 for more info.
</p>
<h4>
User Defined Variable replacement
</h4>
<p>
Similarly, if the HTTP(S) Test Script Recorder finds 
<a href="../usermanual/component_reference.html#User_Defined_Variables">User Defined Variables</a>
 (UDV) directly within the
controller where samples are being stored, or directly within any of its parent controllers, the recorded samples
will have any occurences of the values of those variables replaced by the corresponding variable. Again, you can
place User Defined Variables directly within the HTTP(S) Test Script Recorder to override the values to be replaced. See

<a href="best-practices.html#proxy_server">
 Best Practices with the Test Script Recorder
</a>
 for more info.
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Please note that matching is case-sensitive.
</td></tr>
</table>
</p>
<p>
Replacement by Variables: by default, the Proxy server looks for all occurences of UDV values. 
If you define the variable 
<code>
WEB
</code>
 with the value 
<code>
www
</code>
, for example,
the string 
<code>
www
</code>
 will be replaced by 
<code>
${WEB}
</code>
 wherever it is found.
To avoid this happening everywhere, set the "Regex Matching" check-box.
This tells the proxy server to treat values as Regexes (using the perl5 compatible regex matchers provided by ORO).
</p>
<p>
If "Regex Matching" is selected every variable will be compiled into a perl compatible regex enclosed in

<code>
\b(
</code>
 and 
<code>
)\b
</code>
. That way each match will start and end at a word boundary.
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>Note that the boundary characters are not part of the matching group, e.g. 
<code>
n.*
</code>
 to match 
<code>
name
</code>
 out
of 
<code>
You can call me 'name'
</code>
.
</td></tr>
</table>
</p>
<p>
If you don't want your regex to be enclosed with those boundary matchers, you have to enclose your
regex within parens, e.g 
<code>
('.*?')
</code>
 to match 
<code>
'name'
</code>
 out of 
<code>
You can call me 'name'
</code>
.
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
The variables will be checked in random order. So ensure, that the potential matches don't overlap.
Overlapping matchers would be 
<code>
.*
</code>
 (which matches anything) and 
<code>
www
</code>
 (which
matches 
<code>
www
</code>
 only). Non-overlapping matchers would be 
<code>
a+
</code>
 (matches a sequence
of 
<code>
a
</code>
's) and 
<code>
b+
</code>
 (matches a sequence of 
<code>
b
</code>
's).

</td></tr>
</table>
</p>
<p>
If you want to match a whole string only, enclose it in 
<code>
(^
</code>
 and 
<code>
$)
</code>
, e.g. 
<code>
(^thus$)
</code>
.
The parens are neccessary, since the normally added boundary characters will prevent 
<code>
^
</code>
 and

<code>
$
</code>
 to match.
</p>
<p>
If you want to match 
<code>
/images
</code>
 at the start of a string only, use the value 
<code>
(^/images)
</code>
.
Jakarta ORO also supports zero-width look-ahead, so one can match 
<code>
/images/...
</code>

but retain the trailing 
<code>
/
</code>
 in the output by using 
<code>
(^/images(?=/))
</code>
".
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Note that the current version of Jakara ORO does not support look-behind - i.e. 
<code>
(?&lt;=...)
</code>
 or 
<code>
(?&lt;!...)
</code>
.

</td></tr>
</table>
</p>
<p>
Look out for overlapping matchers. For example the value 
<code>
.*
</code>
 as a regex in a variable named

<code>
regex
</code>
 will partly match a previous replaced variable, which will result in something like

<code>
${{regex}
</code>
, which is most probably not the desired result.
</p>
<p>
If there are any problems interpreting any variables as patterns, these are reported in jmeter.log,
so be sure to check this if UDVs are not working as expected.
</p>
<p>
When you are done recording your test samples, stop the proxy server (hit the "stop" button).  Remember to reset
your browser's proxy settings.  Now, you may want to sort and re-order the test script, add timers, listeners, a
cookie manager, etc.
</p>
<h4>
How can I record the server's responses too?
</h4>
<p>
Just place a 
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
 listener as a child of the HTTP(S) Test Script Recorder and the responses will be displayed. 
You can also add a 
<a href="../usermanual/component_reference.html#Save_Responses_to_a_file">Save Responses to a file</a>
 Post-Processor which will save the responses to files.

</p>
<h4>
Associating requests with responses
</h4>
<p>

If you define the property 
<code>
proxy.number.requests=true
</code>
 
JMeter will add a number to each sampler and each response.
Note that there may be more responses than samplers if excludes or includes have been used.
Responses that have been excluded will have labels enclosed in [ and ], for example 
<code>
[23 /favicon.ico]
</code>
 

</p>
<h4>
Cookie Manager
</h4>
<p>

If the server you are testing against uses cookies, remember to add an 
<a href="../usermanual/component_reference.html#HTTP_Cookie_Manager">HTTP Cookie Manager</a>
 to the test plan
when you have finished recording it.
During recording, the browser handles any cookies, but JMeter needs a Cookie Manager
to do the cookie handling during a test run.
The JMeter Proxy server passes on all cookies sent by the browser during recording, but does not save them to the test
plan because they are likely to change between runs.

</p>
<h4>
Authorization Manager
</h4>
<p>

The HTTP(S) Test Script Recorder grabs "Authentication" header, tries to compute the Auth Policy. If Authorization Manager was added to target
controller manually, HTTP(S) Test Script Recorder will find it and add authorization(matching ones will be removed). Otherwise
Authorization Manager will be added to target controller with authorization object.
You may have to fix automatically computed values after recording.


</p>
<h4>
Uploading files
</h4>
<p>

Some browsers (e.g. Firefox and Opera) don't include the full name of a file when uploading files.
This can cause the JMeter proxy server to fail.
One solution is to ensure that any files to be uploaded are in the JMeter working directory,
either by copying the files there or by starting JMeter in the directory containing the files.

</p>
<h4>
Recording HTTP Based Non Textual Protocols not natively available in JMeter
</h4>
<p>

You may have to record an HTTP protocol that is not handled by default by JMeter (Custom Binary Protocol, Adobe Flex, Microsoft Silverlight... ).
Although JMeter does not provide a native proxy implementation to record these protocols, you have the ability to
record these protocols by implementing a custom SamplerCreator. This Sampler Creator will translate the binary format into a HTTPSamplerBase subclass
that can be added to the JMeter Test Case.
For more details see "Extending JMeter".

</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="HTTP_Mirror_Server">18.9.6 HTTP Mirror Server</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The HTTP Mirrror Server is a very simple HTTP server - it simply mirrors the data sent to it.
This is useful for checking the content of HTTP requests.

</p>


<p>

It uses default port 8081 since 2.6. 

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='671' height='174' src="../../docs/images/screenshots/mirrorserver.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Port</td>
<td>Port on which Mirror server listens, defaults to 8081.
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Max Number of threads</td>
<td>If set to a value > 0, number of threads serving requests will be limited to the configured number, if set to a value <=0 
        a new thread will be created to serve each incoming request. Defaults to 0
</td>
<td>
No
</td>
</tr>
<tr>
<td>Max Queue size</td>
<td>Size of queue used for holding tasks before they are executed by Thread Pool, when Thread pool is exceeded, incoming requests will
        be held in this queue and discarded when this queue is full. This parameter is only used if Max Number of Threads is greater than 0. Defaults to 25
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Note that you can get more control over the responses by adding an HTTP Header Manager with the following name/value pairs:

</td></tr>
</table>
</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>X-Sleep</td>
<td>Time to sleep in ms before sending response
</td>
<td>
No
</td>
</tr>
<tr>
<td>X-SetCookie</td>
<td>Cookies to be set on response
</td>
<td>
No
</td>
</tr>
<tr>
<td>X-ResponseStatus</td>
<td>Response status, see 
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">
HTTP Status responses
</a>
, example 200 OK, 500 Internal Server Error ....
</td>
<td>
No
</td>
</tr>
<tr>
<td>X-ResponseLength</td>
<td>Size of response, this trims the response to the requested size if that is less than the total size
</td>
<td>
No
</td>
</tr>
<tr>
<td>X-SetHeaders</td>
<td>Pipe separated list of headers, example:
<br>

 
        
<code>
headerA=valueA|headerB=valueB
</code>
 would set headerA to valueA and headerB to valueB.        
        
</td>
<td>
No
</td>
</tr>
</table>
</p>
<p>

You can also use the following query parameters:

</p>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>redirect</td>
<td>Generates a 302 (Temporary Redirect) with the provided location.
    e.g. ?redirect=/path 
    
</td>
<td>
No
</td>
</tr>
<tr>
<td>status</td>
<td>Overrides the default status return. e.g. ?status=404 Not Found
</td>
<td>
No
</td>
</tr>
<tr>
<td>v</td>
<td>Verbose flag, writes some details to standard output. e.g. first line and redirect location if specified
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Property_Display">18.9.7 Property Display</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Property Display shows the values of System or JMeter properties.
Values can be changed by entering new text in the Value column.
It is available only on the WorkBench.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='804' height='508' src="../../docs/images/screenshots/property_display.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Debug_Sampler">18.9.8 Debug Sampler</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Debug Sampler generates a sample containing the values of all JMeter variables and/or properties.

</p>


<p>

The values can be seen in the 
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
 Listener Response Data pane.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='431' height='172' src="../../docs/images/screenshots/debug_sampler.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>JMeter Properties</td>
<td>Include JMeter properties ?
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>JMeter Variables</td>
<td>Include JMeter variables ?
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>System Properties</td>
<td>Include System properties ?
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Debug_PostProcessor">18.9.8 Debug PostProcessor</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Debug PostProcessor creates a subSample with the details of the previous Sampler properties, 
JMeter variables, properties and/or System Properties.

</p>


<p>

The values can be seen in the 
<a href="../usermanual/component_reference.html#View_Results_Tree">View Results Tree</a>
 Listener Response Data pane.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='344' height='193' src="../../docs/images/screenshots/debug_postprocessor.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
No
</td>
</tr>
<tr>
<td>JMeter Properties</td>
<td>Whether to show JMeter properties (default false).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>JMeter Variables</td>
<td>Whether to show JMeter variables (default false).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>Sampler Properties</td>
<td>Whether to show Sampler properties (default true).
</td>
<td>
Yes
</td>
</tr>
<tr>
<td>System Properties</td>
<td>Whether to show System properties (default false).
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="Test_Fragment">18.9.9 Test Fragment</a>
</h3>
</font>
</td></tr>
<tr><td>


<p>

The Test Fragment is used in conjunction with the 
<a href="../usermanual/component_reference.html#Include_Controller">Include Controller</a>
 and 
<a href="../usermanual/component_reference.html#Module_Controller">Module Controller</a>
.

</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='236' height='94' src="../../docs/images/screenshots/test_fragment.png"/></div>
<p>
<b>Parameters</b>
<table border="1" cellspacing="0" cellpadding="2">
<tr><th>Attribute</th><th>Description</th><th>Required</th></tr>
<tr>
<td>Name</td>
<td>Descriptive name for this element that is shown in the tree.
</td>
<td>
Yes
</td>
</tr>
</table>
</p>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
When using Test Fragment with 
<a href="../usermanual/component_reference.html#Module_Controller">Module Controller</a>
, ensure you disable the Test Fragment to avoid the execution of Test Fragment itself.
This is done by default since JMeter 2.13.

</td></tr>
</table>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="setUp_Thread_Group">18.9.10 setUp Thread Group</a>
</h3>
</font>
</td></tr>
<tr><td>

    
<p>

    A special type of ThreadGroup that can be utilized to perform Pre-Test Actions.  The behavior of these threads
    is exactly like a normal 
<a href="../usermanual/component_reference.html#Thread_Group">Thread Group</a>
 element.  The difference is that these type of threads 
    execute before the test proceeds to the executing of regular Thread Groups.
    
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='537' height='289' src="../../docs/images/screenshots/setup_thread_group.png"/></div>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="tearDown_Thread_Group">18.9.11 tearDown Thread Group</a>
</h3>
</font>
</td></tr>
<tr><td>

    
<p>

    A special type of ThreadGroup that can be utilized to perform Post-Test Actions.  The behavior of these threads
    is exactly like a normal 
<a href="../usermanual/component_reference.html#Thread_Group">Thread Group</a>
 element.  The difference is that these type of threads 
    execute after the test has finished executing its regular Thread Groups.
    
</p>


<p><b>Control Panel</b></p>
<div align="center"><img width='537' height='289' src="../../docs/images/screenshots/teardown_thread_group.png"/></div>
<p>
<table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tr><td>
Note that by default it won't run if Test is gracefully shutdown, if you want to make it run in this case, 
ensure you check option "Run tearDown Thread Groups after shutdown of main threads" on Test Plan element.
If Test Plan is stopped, tearDown will not run even if option is checked.

</td></tr>
</table>
</p>
<p><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width='1081' height='570' src="../../docs/images/screenshots/tear_down_on_shutdown.png"/><br>
<font size="-1">Figure 1 - Run tearDown Thread Groups after shutdown of main threads
</font></td></tr></table></p>
</td></tr>
<tr><td><br></td></tr>
</table>
<hr>
<a href="#">
^
</a>
</blockquote>
</p>
</td></tr>
<tr><td><br></td></tr>
</table>
<br>
<table>
<tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Index</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="functions.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Next</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="boss.html"><font size=-1 color="#ffffff" face="arial,helvetica,sanserif">Prev</font></a></div>
</td>
</tr>
</table>
</td>
</tr>
<tr><td>
<hr noshade size="1"/>
</td></tr>
<tr>
<td>
<table width=100%>
<tr>
<td>
<font color="#525D76" size="-1"><em>
Copyright &copy; 1999-2015, Apache Software Foundation
</em></font>
</td>
<td align="right">
<font color="#525D76" size="-1"><em>
$Id: component_reference.xml 1664956 2015-03-08 09:58:02Z milamber $
</em></font>
</td>
</tr>
<tr><td colspan="2">
<div align="center"><font color="#525D76" size="-1">
Apache, Apache JMeter, JMeter, the Apache feather, and the Apache JMeter logo are
trademarks of the Apache Software Foundation.
</font>
</div>
</td></tr>
</table>
</td>
</tr>
</table>
</body>
</html>
<!-- end the processing -->



































